(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function g0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var p0={exports:{}},lh={},m0={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),IS=Symbol.for("react.portal"),PS=Symbol.for("react.fragment"),RS=Symbol.for("react.strict_mode"),NS=Symbol.for("react.profiler"),LS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),DS=Symbol.for("react.suspense"),FS=Symbol.for("react.memo"),VS=Symbol.for("react.lazy"),ny=Symbol.iterator;function zS(n){return n===null||typeof n!="object"?null:(n=ny&&n[ny]||n["@@iterator"],typeof n=="function"?n:null)}var v0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y0=Object.assign,x0={};function Pa(n,e,t){this.props=n,this.context=e,this.refs=x0,this.updater=t||v0}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Pa.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function b0(){}b0.prototype=Pa.prototype;function ip(n,e,t){this.props=n,this.context=e,this.refs=x0,this.updater=t||v0}var rp=ip.prototype=new b0;rp.constructor=ip;y0(rp,Pa.prototype);rp.isPureReactComponent=!0;var iy=Array.isArray,w0=Object.prototype.hasOwnProperty,sp={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function k0(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)w0.call(e,i)&&!_0.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Cl,type:n,key:s,ref:a,props:r,_owner:sp.current}}function jS(n,e){return{$$typeof:Cl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ap(n){return typeof n=="object"&&n!==null&&n.$$typeof===Cl}function HS(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ry=/\/+/g;function ud(n,e){return typeof n=="object"&&n!==null&&n.key!=null?HS(""+n.key):e.toString(36)}function zc(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Cl:case IS:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+ud(a,0):i,iy(r)?(t="",n!=null&&(t=n.replace(ry,"$&/")+"/"),zc(r,e,t,"",function(c){return c})):r!=null&&(ap(r)&&(r=jS(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(ry,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",iy(n))for(var o=0;o<n.length;o++){s=n[o];var l=i+ud(s,o);a+=zc(s,e,t,l,r)}else if(l=zS(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=i+ud(s,o++),a+=zc(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fc(n,e,t){if(n==null)return n;var i=[],r=0;return zc(n,i,"","",function(s){return e.call(t,s,r++)}),i}function BS(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var on={current:null},jc={transition:null},WS={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:jc,ReactCurrentOwner:sp};function A0(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:fc,forEach:function(n,e,t){fc(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return fc(n,function(){e++}),e},toArray:function(n){return fc(n,function(e){return e})||[]},only:function(n){if(!ap(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Re.Component=Pa;Re.Fragment=PS;Re.Profiler=NS;Re.PureComponent=ip;Re.StrictMode=RS;Re.Suspense=DS;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WS;Re.act=A0;Re.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=y0({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sp.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)w0.call(e,l)&&!_0.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Cl,type:n.type,key:r,ref:s,props:i,_owner:a}};Re.createContext=function(n){return n={$$typeof:MS,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:LS,_context:n},n.Consumer=n};Re.createElement=k0;Re.createFactory=function(n){var e=k0.bind(null,n);return e.type=n,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(n){return{$$typeof:OS,render:n}};Re.isValidElement=ap;Re.lazy=function(n){return{$$typeof:VS,_payload:{_status:-1,_result:n},_init:BS}};Re.memo=function(n,e){return{$$typeof:FS,type:n,compare:e===void 0?null:e}};Re.startTransition=function(n){var e=jc.transition;jc.transition={};try{n()}finally{jc.transition=e}};Re.unstable_act=A0;Re.useCallback=function(n,e){return on.current.useCallback(n,e)};Re.useContext=function(n){return on.current.useContext(n)};Re.useDebugValue=function(){};Re.useDeferredValue=function(n){return on.current.useDeferredValue(n)};Re.useEffect=function(n,e){return on.current.useEffect(n,e)};Re.useId=function(){return on.current.useId()};Re.useImperativeHandle=function(n,e,t){return on.current.useImperativeHandle(n,e,t)};Re.useInsertionEffect=function(n,e){return on.current.useInsertionEffect(n,e)};Re.useLayoutEffect=function(n,e){return on.current.useLayoutEffect(n,e)};Re.useMemo=function(n,e){return on.current.useMemo(n,e)};Re.useReducer=function(n,e,t){return on.current.useReducer(n,e,t)};Re.useRef=function(n){return on.current.useRef(n)};Re.useState=function(n){return on.current.useState(n)};Re.useSyncExternalStore=function(n,e,t){return on.current.useSyncExternalStore(n,e,t)};Re.useTransition=function(){return on.current.useTransition()};Re.version="18.3.1";m0.exports=Re;var Z=m0.exports;const S0=g0(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Z,US=Symbol.for("react.element"),YS=Symbol.for("react.fragment"),$S=Object.prototype.hasOwnProperty,GS=XS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qS={key:!0,ref:!0,__self:!0,__source:!0};function C0(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)$S.call(e,i)&&!qS.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:US,type:n,key:s,ref:a,props:r,_owner:GS.current}}lh.Fragment=YS;lh.jsx=C0;lh.jsxs=C0;p0.exports=lh;var I=p0.exports,E0={exports:{}},Sn={},T0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,U){var $=F.length;F.push(U);e:for(;0<$;){var J=$-1>>>1,oe=F[J];if(0<r(oe,U))F[J]=U,F[$]=oe,$=J;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var U=F[0],$=F.pop();if($!==U){F[0]=$;e:for(var J=0,oe=F.length,ge=oe>>>1;J<ge;){var pe=2*(J+1)-1,Me=F[pe],me=pe+1,ye=F[me];if(0>r(Me,$))me<oe&&0>r(ye,Me)?(F[J]=ye,F[me]=$,J=me):(F[J]=Me,F[pe]=$,J=pe);else if(me<oe&&0>r(ye,$))F[J]=ye,F[me]=$,J=me;else break e}}return U}function r(F,U){var $=F.sortIndex-U.sortIndex;return $!==0?$:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,g=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var U=t(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=F)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function C(F){if(m=!1,b(F),!p)if(t(l)!==null)p=!0,Y(S);else{var U=t(c);U!==null&&q(C,U.startTime-F)}}function S(F,U){p=!1,m&&(m=!1,v(w),w=-1),g=!0;var $=d;try{for(b(U),h=t(l);h!==null&&(!(h.expirationTime>U)||F&&!P());){var J=h.callback;if(typeof J=="function"){h.callback=null,d=h.priorityLevel;var oe=J(h.expirationTime<=U);U=n.unstable_now(),typeof oe=="function"?h.callback=oe:h===t(l)&&i(l),b(U)}else i(l);h=t(l)}if(h!==null)var ge=!0;else{var pe=t(c);pe!==null&&q(C,pe.startTime-U),ge=!1}return ge}finally{h=null,d=$,g=!1}}var R=!1,k=null,w=-1,A=5,T=-1;function P(){return!(n.unstable_now()-T<A)}function L(){if(k!==null){var F=n.unstable_now();T=F;var U=!0;try{U=k(!0,F)}finally{U?N():(R=!1,k=null)}}else R=!1}var N;if(typeof y=="function")N=function(){y(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=L,N=function(){H.postMessage(null)}}else N=function(){x(L,0)};function Y(F){k=F,R||(R=!0,N())}function q(F,U){w=x(function(){F(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){p||g||(p=!0,Y(S))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var $=d;d=U;try{return F()}finally{d=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=d;d=F;try{return U()}finally{d=$}},n.unstable_scheduleCallback=function(F,U,$){var J=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,F){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,F={id:u++,callback:U,priorityLevel:F,startTime:$,expirationTime:oe,sortIndex:-1},$>J?(F.sortIndex=$,e(c,F),t(l)===null&&F===t(c)&&(m?(v(w),w=-1):m=!0,q(C,$-J))):(F.sortIndex=oe,e(l,F),p||g||(p=!0,Y(S))),F},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(F){var U=d;return function(){var $=d;d=U;try{return F.apply(this,arguments)}finally{d=$}}}})(I0);T0.exports=I0;var KS=T0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=Z,An=KS;function K(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P0=new Set,Uo={};function As(n,e){ga(n,e),ga(n+"Capture",e)}function ga(n,e){for(Uo[n]=e,n=0;n<e.length;n++)P0.add(e[n])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,ZS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},ay={};function JS(n){return yf.call(ay,n)?!0:yf.call(sy,n)?!1:ZS.test(n)?ay[n]=!0:(sy[n]=!0,!1)}function eC(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function tC(n,e,t,i){if(e===null||typeof e>"u"||eC(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ht[n]=new ln(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ht[e]=new ln(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ht[n]=new ln(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ht[n]=new ln(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ht[n]=new ln(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ht[n]=new ln(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ht[n]=new ln(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ht[n]=new ln(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ht[n]=new ln(n,5,!1,n.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function lp(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(op,lp);Ht[e]=new ln(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(op,lp);Ht[e]=new ln(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(op,lp);Ht[e]=new ln(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ht[n]=new ln(n,1,!1,n.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ht[n]=new ln(n,1,!1,n.toLowerCase(),null,!0,!0)});function cp(n,e,t,i){var r=Ht.hasOwnProperty(e)?Ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tC(e,t,r,i)&&(t=null),i||r===null?JS(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Bi=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),R0=Symbol.for("react.provider"),N0=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),dp=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),L0=Symbol.for("react.offscreen"),oy=Symbol.iterator;function ro(n){return n===null||typeof n!="object"?null:(n=oy&&n[oy]||n["@@iterator"],typeof n=="function"?n:null)}var lt=Object.assign,hd;function po(n){if(hd===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);hd=e&&e[1]||""}return`
`+hd+n}var dd=!1;function fd(n,e){if(!n||dd)return"";dd=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{dd=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?po(n):""}function nC(n){switch(n.tag){case 5:return po(n.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return n=fd(n.type,!1),n;case 11:return n=fd(n.type.render,!1),n;case 1:return n=fd(n.type,!0),n;default:return""}}function _f(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ws:return"Fragment";case Bs:return"Portal";case xf:return"Profiler";case up:return"StrictMode";case bf:return"Suspense";case wf:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N0:return(n.displayName||"Context")+".Consumer";case R0:return(n._context.displayName||"Context")+".Provider";case hp:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dp:return e=n.displayName||null,e!==null?e:_f(n.type)||"Memo";case Zi:e=n._payload,n=n._init;try{return _f(n(e))}catch{}}return null}function iC(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _f(e);case 8:return e===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function M0(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rC(n){var e=M0(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function pc(n){n._valueTracker||(n._valueTracker=rC(n))}function O0(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=M0(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function fu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kf(n,e){var t=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ly(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Sr(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D0(n,e){e=e.checked,e!=null&&cp(n,"checked",e,!1)}function Af(n,e){D0(n,e);var t=Sr(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Sf(n,e.type,t):e.hasOwnProperty("defaultValue")&&Sf(n,e.type,Sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function cy(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Sf(n,e,t){(e!=="number"||fu(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var mo=Array.isArray;function na(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Sr(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Cf(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function uy(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(K(92));if(mo(t)){if(1<t.length)throw Error(K(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Sr(t)}}function F0(n,e){var t=Sr(e.value),i=Sr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function hy(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function V0(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ef(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?V0(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mc,z0=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Yo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sC=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(n){sC.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),To[e]=To[n]})});function j0(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||To.hasOwnProperty(n)&&To[n]?(""+e).trim():e+"px"}function H0(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=j0(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var aC=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tf(n,e){if(e){if(aC[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function If(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=null;function fp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rf=null,ia=null,ra=null;function dy(n){if(n=Il(n)){if(typeof Rf!="function")throw Error(K(280));var e=n.stateNode;e&&(e=fh(e),Rf(n.stateNode,n.type,e))}}function B0(n){ia?ra?ra.push(n):ra=[n]:ia=n}function W0(){if(ia){var n=ia,e=ra;if(ra=ia=null,dy(n),e)for(n=0;n<e.length;n++)dy(e[n])}}function X0(n,e){return n(e)}function U0(){}var gd=!1;function Y0(n,e,t){if(gd)return n(e,t);gd=!0;try{return X0(n,e,t)}finally{gd=!1,(ia!==null||ra!==null)&&(U0(),W0())}}function $o(n,e){var t=n.stateNode;if(t===null)return null;var i=fh(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(K(231,e,typeof t));return t}var Nf=!1;if(Li)try{var so={};Object.defineProperty(so,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Nf=!1}function oC(n,e,t,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Io=!1,gu=null,pu=!1,Lf=null,lC={onError:function(n){Io=!0,gu=n}};function cC(n,e,t,i,r,s,a,o,l){Io=!1,gu=null,oC.apply(lC,arguments)}function uC(n,e,t,i,r,s,a,o,l){if(cC.apply(this,arguments),Io){if(Io){var c=gu;Io=!1,gu=null}else throw Error(K(198));pu||(pu=!0,Lf=c)}}function Ss(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function $0(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function fy(n){if(Ss(n)!==n)throw Error(K(188))}function hC(n){var e=n.alternate;if(!e){if(e=Ss(n),e===null)throw Error(K(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return fy(r),n;if(s===i)return fy(r),e;s=s.sibling}throw Error(K(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(K(189))}}if(t.alternate!==i)throw Error(K(190))}if(t.tag!==3)throw Error(K(188));return t.stateNode.current===t?n:e}function G0(n){return n=hC(n),n!==null?q0(n):null}function q0(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=q0(n);if(e!==null)return e;n=n.sibling}return null}var K0=An.unstable_scheduleCallback,gy=An.unstable_cancelCallback,dC=An.unstable_shouldYield,fC=An.unstable_requestPaint,mt=An.unstable_now,gC=An.unstable_getCurrentPriorityLevel,gp=An.unstable_ImmediatePriority,Q0=An.unstable_UserBlockingPriority,mu=An.unstable_NormalPriority,pC=An.unstable_LowPriority,Z0=An.unstable_IdlePriority,ch=null,ui=null;function mC(n){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(ch,n,void 0,(n.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:xC,vC=Math.log,yC=Math.LN2;function xC(n){return n>>>=0,n===0?32:31-(vC(n)/yC|0)|0}var vc=64,yc=4194304;function vo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vu(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=vo(o):(s&=a,s!==0&&(i=vo(s)))}else a=t&~r,a!==0?i=vo(a):s!==0&&(i=vo(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Zn(e),r=1<<t,i|=n[t],e&=~r;return i}function bC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wC(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Zn(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=bC(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function Mf(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function J0(){var n=vc;return vc<<=1,!(vc&4194240)&&(vc=64),n}function pd(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function El(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Zn(e),n[e]=t}function _C(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Zn(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function pp(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Zn(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ue=0;function ew(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var tw,mp,nw,iw,rw,Of=!1,xc=[],hr=null,dr=null,fr=null,Go=new Map,qo=new Map,er=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(n,e){switch(n){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(e.pointerId)}}function ao(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Il(e),e!==null&&mp(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function AC(n,e,t,i,r){switch(e){case"focusin":return hr=ao(hr,n,e,t,i,r),!0;case"dragenter":return dr=ao(dr,n,e,t,i,r),!0;case"mouseover":return fr=ao(fr,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Go.set(s,ao(Go.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,qo.set(s,ao(qo.get(s)||null,n,e,t,i,r)),!0}return!1}function sw(n){var e=es(n.target);if(e!==null){var t=Ss(e);if(t!==null){if(e=t.tag,e===13){if(e=$0(t),e!==null){n.blockedOn=e,rw(n.priority,function(){nw(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Df(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Pf=i,t.target.dispatchEvent(i),Pf=null}else return e=Il(t),e!==null&&mp(e),n.blockedOn=t,!1;e.shift()}return!0}function my(n,e,t){Hc(n)&&t.delete(e)}function SC(){Of=!1,hr!==null&&Hc(hr)&&(hr=null),dr!==null&&Hc(dr)&&(dr=null),fr!==null&&Hc(fr)&&(fr=null),Go.forEach(my),qo.forEach(my)}function oo(n,e){n.blockedOn===e&&(n.blockedOn=null,Of||(Of=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,SC)))}function Ko(n){function e(r){return oo(r,n)}if(0<xc.length){oo(xc[0],n);for(var t=1;t<xc.length;t++){var i=xc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(hr!==null&&oo(hr,n),dr!==null&&oo(dr,n),fr!==null&&oo(fr,n),Go.forEach(e),qo.forEach(e),t=0;t<er.length;t++)i=er[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<er.length&&(t=er[0],t.blockedOn===null);)sw(t),t.blockedOn===null&&er.shift()}var sa=Bi.ReactCurrentBatchConfig,yu=!0;function CC(n,e,t,i){var r=Ue,s=sa.transition;sa.transition=null;try{Ue=1,vp(n,e,t,i)}finally{Ue=r,sa.transition=s}}function EC(n,e,t,i){var r=Ue,s=sa.transition;sa.transition=null;try{Ue=4,vp(n,e,t,i)}finally{Ue=r,sa.transition=s}}function vp(n,e,t,i){if(yu){var r=Df(n,e,t,i);if(r===null)Sd(n,e,i,xu,t),py(n,i);else if(AC(r,n,e,t,i))i.stopPropagation();else if(py(n,i),e&4&&-1<kC.indexOf(n)){for(;r!==null;){var s=Il(r);if(s!==null&&tw(s),s=Df(n,e,t,i),s===null&&Sd(n,e,i,xu,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Sd(n,e,i,null,t)}}var xu=null;function Df(n,e,t,i){if(xu=null,n=fp(i),n=es(n),n!==null)if(e=Ss(n),e===null)n=null;else if(t=e.tag,t===13){if(n=$0(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return xu=n,null}function aw(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gC()){case gp:return 1;case Q0:return 4;case mu:case pC:return 16;case Z0:return 536870912;default:return 16}default:return 16}}var or=null,yp=null,Bc=null;function ow(){if(Bc)return Bc;var n,e=yp,t=e.length,i,r="value"in or?or.value:or.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return Bc=r.slice(n,1<i?1-i:void 0)}function Wc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function bc(){return!0}function vy(){return!1}function Cn(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bc:vy,this.isPropagationStopped=vy,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=Cn(Ra),Tl=lt({},Ra,{view:0,detail:0}),TC=Cn(Tl),md,vd,lo,uh=lt({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lo&&(lo&&n.type==="mousemove"?(md=n.screenX-lo.screenX,vd=n.screenY-lo.screenY):vd=md=0,lo=n),md)},movementY:function(n){return"movementY"in n?n.movementY:vd}}),yy=Cn(uh),IC=lt({},uh,{dataTransfer:0}),PC=Cn(IC),RC=lt({},Tl,{relatedTarget:0}),yd=Cn(RC),NC=lt({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),LC=Cn(NC),MC=lt({},Ra,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),OC=Cn(MC),DC=lt({},Ra,{data:0}),xy=Cn(DC),FC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jC(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=zC[n])?!!e[n]:!1}function bp(){return jC}var HC=lt({},Tl,{key:function(n){if(n.key){var e=FC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Wc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(n){return n.type==="keypress"?Wc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),BC=Cn(HC),WC=lt({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=Cn(WC),XC=lt({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),UC=Cn(XC),YC=lt({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),$C=Cn(YC),GC=lt({},uh,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qC=Cn(GC),KC=[9,13,27,32],wp=Li&&"CompositionEvent"in window,Po=null;Li&&"documentMode"in document&&(Po=document.documentMode);var QC=Li&&"TextEvent"in window&&!Po,lw=Li&&(!wp||Po&&8<Po&&11>=Po),wy=" ",_y=!1;function cw(n,e){switch(n){case"keyup":return KC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function ZC(n,e){switch(n){case"compositionend":return uw(e);case"keypress":return e.which!==32?null:(_y=!0,wy);case"textInput":return n=e.data,n===wy&&_y?null:n;default:return null}}function JC(n,e){if(Xs)return n==="compositionend"||!wp&&cw(n,e)?(n=ow(),Bc=yp=or=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lw&&e.locale!=="ko"?null:e.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!eE[n.type]:e==="textarea"}function hw(n,e,t,i){B0(i),e=bu(e,"onChange"),0<e.length&&(t=new xp("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Ro=null,Qo=null;function tE(n){_w(n,0)}function hh(n){var e=$s(n);if(O0(e))return n}function nE(n,e){if(n==="change")return e}var dw=!1;if(Li){var xd;if(Li){var bd="oninput"in document;if(!bd){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),bd=typeof Ay.oninput=="function"}xd=bd}else xd=!1;dw=xd&&(!document.documentMode||9<document.documentMode)}function Sy(){Ro&&(Ro.detachEvent("onpropertychange",fw),Qo=Ro=null)}function fw(n){if(n.propertyName==="value"&&hh(Qo)){var e=[];hw(e,Qo,n,fp(n)),Y0(tE,e)}}function iE(n,e,t){n==="focusin"?(Sy(),Ro=e,Qo=t,Ro.attachEvent("onpropertychange",fw)):n==="focusout"&&Sy()}function rE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hh(Qo)}function sE(n,e){if(n==="click")return hh(e)}function aE(n,e){if(n==="input"||n==="change")return hh(e)}function oE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ti=typeof Object.is=="function"?Object.is:oE;function Zo(n,e){if(ti(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!yf.call(e,r)||!ti(n[r],e[r]))return!1}return!0}function Cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ey(n,e){var t=Cy(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Cy(t)}}function gw(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?gw(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var n=window,e=fu();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=fu(n.document)}return e}function _p(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function lE(n){var e=pw(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&gw(t.ownerDocument.documentElement,t)){if(i!==null&&_p(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Ey(t,s);var a=Ey(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var cE=Li&&"documentMode"in document&&11>=document.documentMode,Us=null,Ff=null,No=null,Vf=!1;function Ty(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Vf||Us==null||Us!==fu(i)||(i=Us,"selectionStart"in i&&_p(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),No&&Zo(No,i)||(No=i,i=bu(Ff,"onSelect"),0<i.length&&(e=new xp("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Us)))}function wc(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ys={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},wd={},mw={};Li&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function dh(n){if(wd[n])return wd[n];if(!Ys[n])return n;var e=Ys[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in mw)return wd[n]=e[t];return n}var vw=dh("animationend"),yw=dh("animationiteration"),xw=dh("animationstart"),bw=dh("transitionend"),ww=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(n,e){ww.set(n,e),As(e,[n])}for(var _d=0;_d<Iy.length;_d++){var kd=Iy[_d],uE=kd.toLowerCase(),hE=kd[0].toUpperCase()+kd.slice(1);Fr(uE,"on"+hE)}Fr(vw,"onAnimationEnd");Fr(yw,"onAnimationIteration");Fr(xw,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(bw,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Py(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,uC(i,e,void 0,n),n.currentTarget=null}function _w(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Py(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Py(r,o,c),s=l}}}if(pu)throw n=Lf,pu=!1,Lf=null,n}function et(n,e){var t=e[Wf];t===void 0&&(t=e[Wf]=new Set);var i=n+"__bubble";t.has(i)||(kw(e,n,2,!1),t.add(i))}function Ad(n,e,t){var i=0;e&&(i|=4),kw(t,n,i,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Jo(n){if(!n[_c]){n[_c]=!0,P0.forEach(function(t){t!=="selectionchange"&&(dE.has(t)||Ad(t,!1,n),Ad(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[_c]||(e[_c]=!0,Ad("selectionchange",!1,e))}}function kw(n,e,t,i){switch(aw(e)){case 1:var r=CC;break;case 4:r=EC;break;default:r=vp}t=r.bind(null,e,t,n),r=void 0,!Nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Sd(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=es(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}Y0(function(){var c=s,u=fp(t),h=[];e:{var d=ww.get(n);if(d!==void 0){var g=xp,p=n;switch(n){case"keypress":if(Wc(t)===0)break e;case"keydown":case"keyup":g=BC;break;case"focusin":p="focus",g=yd;break;case"focusout":p="blur",g=yd;break;case"beforeblur":case"afterblur":g=yd;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=PC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=UC;break;case vw:case yw:case xw:g=LC;break;case bw:g=$C;break;case"scroll":g=TC;break;case"wheel":g=qC;break;case"copy":case"cut":case"paste":g=OC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=by}var m=(e&4)!==0,x=!m&&n==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=c,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,v!==null&&(C=$o(y,v),C!=null&&m.push(el(y,C,b)))),x)break;y=y.return}0<m.length&&(d=new g(d,p,null,t,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",d&&t!==Pf&&(p=t.relatedTarget||t.fromElement)&&(es(p)||p[Mi]))break e;if((g||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=t.relatedTarget||t.toElement,g=c,p=p?es(p):null,p!==null&&(x=Ss(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(m=yy,C="onMouseLeave",v="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(m=by,C="onPointerLeave",v="onPointerEnter",y="pointer"),x=g==null?d:$s(g),b=p==null?d:$s(p),d=new m(C,y+"leave",g,t,u),d.target=x,d.relatedTarget=b,C=null,es(u)===c&&(m=new m(v,y+"enter",p,t,u),m.target=b,m.relatedTarget=x,C=m),x=C,g&&p)t:{for(m=g,v=p,y=0,b=m;b;b=Os(b))y++;for(b=0,C=v;C;C=Os(C))b++;for(;0<y-b;)m=Os(m),y--;for(;0<b-y;)v=Os(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Os(m),v=Os(v)}m=null}else m=null;g!==null&&Ry(h,d,g,m,!1),p!==null&&x!==null&&Ry(h,x,p,m,!0)}}e:{if(d=c?$s(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=nE;else if(ky(d))if(dw)S=aE;else{S=rE;var R=iE}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=sE);if(S&&(S=S(n,c))){hw(h,S,t,u);break e}R&&R(n,d,c),n==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Sf(d,"number",d.value)}switch(R=c?$s(c):window,n){case"focusin":(ky(R)||R.contentEditable==="true")&&(Us=R,Ff=c,No=null);break;case"focusout":No=Ff=Us=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Ty(h,t,u);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":Ty(h,t,u)}var k;if(wp)e:{switch(n){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Xs?cw(n,t)&&(w="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(w="onCompositionStart");w&&(lw&&t.locale!=="ko"&&(Xs||w!=="onCompositionStart"?w==="onCompositionEnd"&&Xs&&(k=ow()):(or=u,yp="value"in or?or.value:or.textContent,Xs=!0)),R=bu(c,w),0<R.length&&(w=new xy(w,n,null,t,u),h.push({event:w,listeners:R}),k?w.data=k:(k=uw(t),k!==null&&(w.data=k)))),(k=QC?ZC(n,t):JC(n,t))&&(c=bu(c,"onBeforeInput"),0<c.length&&(u=new xy("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=k))}_w(h,e)})}function el(n,e,t){return{instance:n,listener:e,currentTarget:t}}function bu(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=$o(n,t),s!=null&&i.unshift(el(n,s,r)),s=$o(n,e),s!=null&&i.push(el(n,s,r))),n=n.return}return i}function Os(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ry(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=$o(t,s),l!=null&&a.unshift(el(t,l,o))):r||(l=$o(t,s),l!=null&&a.push(el(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var fE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function Ny(n){return(typeof n=="string"?n:""+n).replace(fE,`
`).replace(gE,"")}function kc(n,e,t){if(e=Ny(e),Ny(n)!==e&&t)throw Error(K(425))}function wu(){}var zf=null,jf=null;function Hf(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bf=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(n){return Ly.resolve(null).then(n).catch(vE)}:Bf;function vE(n){setTimeout(function(){throw n})}function Cd(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Ko(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Ko(e)}function gr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function My(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Na=Math.random().toString(36).slice(2),ci="__reactFiber$"+Na,tl="__reactProps$"+Na,Mi="__reactContainer$"+Na,Wf="__reactEvents$"+Na,yE="__reactListeners$"+Na,xE="__reactHandles$"+Na;function es(n){var e=n[ci];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Mi]||t[ci]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=My(n);n!==null;){if(t=n[ci])return t;n=My(n)}return e}n=t,t=n.parentNode}return null}function Il(n){return n=n[ci]||n[Mi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $s(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(K(33))}function fh(n){return n[tl]||null}var Xf=[],Gs=-1;function Vr(n){return{current:n}}function nt(n){0>Gs||(n.current=Xf[Gs],Xf[Gs]=null,Gs--)}function Qe(n,e){Gs++,Xf[Gs]=n.current,n.current=e}var Cr={},Zt=Vr(Cr),gn=Vr(!1),hs=Cr;function pa(n,e){var t=n.type.contextTypes;if(!t)return Cr;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function pn(n){return n=n.childContextTypes,n!=null}function _u(){nt(gn),nt(Zt)}function Oy(n,e,t){if(Zt.current!==Cr)throw Error(K(168));Qe(Zt,e),Qe(gn,t)}function Aw(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(K(108,iC(n)||"Unknown",r));return lt({},t,i)}function ku(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cr,hs=Zt.current,Qe(Zt,n),Qe(gn,gn.current),!0}function Dy(n,e,t){var i=n.stateNode;if(!i)throw Error(K(169));t?(n=Aw(n,e,hs),i.__reactInternalMemoizedMergedChildContext=n,nt(gn),nt(Zt),Qe(Zt,n)):nt(gn),Qe(gn,t)}var Ai=null,gh=!1,Ed=!1;function Sw(n){Ai===null?Ai=[n]:Ai.push(n)}function bE(n){gh=!0,Sw(n)}function zr(){if(!Ed&&Ai!==null){Ed=!0;var n=0,e=Ue;try{var t=Ai;for(Ue=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Ai=null,gh=!1}catch(r){throw Ai!==null&&(Ai=Ai.slice(n+1)),K0(gp,zr),r}finally{Ue=e,Ed=!1}}return null}var qs=[],Ks=0,Au=null,Su=0,Rn=[],Nn=0,ds=null,Si=1,Ci="";function Gr(n,e){qs[Ks++]=Su,qs[Ks++]=Au,Au=n,Su=e}function Cw(n,e,t){Rn[Nn++]=Si,Rn[Nn++]=Ci,Rn[Nn++]=ds,ds=n;var i=Si;n=Ci;var r=32-Zn(i)-1;i&=~(1<<r),t+=1;var s=32-Zn(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Si=1<<32-Zn(e)+r|t<<r|i,Ci=s+n}else Si=1<<s|t<<r|i,Ci=n}function kp(n){n.return!==null&&(Gr(n,1),Cw(n,1,0))}function Ap(n){for(;n===Au;)Au=qs[--Ks],qs[Ks]=null,Su=qs[--Ks],qs[Ks]=null;for(;n===ds;)ds=Rn[--Nn],Rn[Nn]=null,Ci=Rn[--Nn],Rn[Nn]=null,Si=Rn[--Nn],Rn[Nn]=null}var _n=null,bn=null,rt=!1,Gn=null;function Ew(n,e){var t=On(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Fy(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,_n=n,bn=gr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,_n=n,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ds!==null?{id:Si,overflow:Ci}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=On(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,_n=n,bn=null,!0):!1;default:return!1}}function Uf(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Yf(n){if(rt){var e=bn;if(e){var t=e;if(!Fy(n,e)){if(Uf(n))throw Error(K(418));e=gr(t.nextSibling);var i=_n;e&&Fy(n,e)?Ew(i,t):(n.flags=n.flags&-4097|2,rt=!1,_n=n)}}else{if(Uf(n))throw Error(K(418));n.flags=n.flags&-4097|2,rt=!1,_n=n}}}function Vy(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;_n=n}function Ac(n){if(n!==_n)return!1;if(!rt)return Vy(n),rt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Hf(n.type,n.memoizedProps)),e&&(e=bn)){if(Uf(n))throw Tw(),Error(K(418));for(;e;)Ew(n,e),e=gr(e.nextSibling)}if(Vy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(K(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){bn=gr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}bn=null}}else bn=_n?gr(n.stateNode.nextSibling):null;return!0}function Tw(){for(var n=bn;n;)n=gr(n.nextSibling)}function ma(){bn=_n=null,rt=!1}function Sp(n){Gn===null?Gn=[n]:Gn.push(n)}var wE=Bi.ReactCurrentBatchConfig;function co(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(K(309));var i=t.stateNode}if(!i)throw Error(K(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(K(284));if(!t._owner)throw Error(K(290,n))}return n}function Sc(n,e){throw n=Object.prototype.toString.call(e),Error(K(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function zy(n){var e=n._init;return e(n._payload)}function Iw(n){function e(v,y){if(n){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function t(v,y){if(!n)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=yr(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,n?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,C){return y===null||y.tag!==6?(y=Md(b,v.mode,C),y.return=v,y):(y=r(y,b),y.return=v,y)}function l(v,y,b,C){var S=b.type;return S===Ws?u(v,y,b.props.children,C,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zi&&zy(S)===y.type)?(C=r(y,b.props),C.ref=co(v,y,b),C.return=v,C):(C=Kc(b.type,b.key,b.props,null,v.mode,C),C.ref=co(v,y,b),C.return=v,C)}function c(v,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Od(b,v.mode,C),y.return=v,y):(y=r(y,b.children||[]),y.return=v,y)}function u(v,y,b,C,S){return y===null||y.tag!==7?(y=ls(b,v.mode,C,S),y.return=v,y):(y=r(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Md(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gc:return b=Kc(y.type,y.key,y.props,null,v.mode,b),b.ref=co(v,null,y),b.return=v,b;case Bs:return y=Od(y,v.mode,b),y.return=v,y;case Zi:var C=y._init;return h(v,C(y._payload),b)}if(mo(y)||ro(y))return y=ls(y,v.mode,b,null),y.return=v,y;Sc(v,y)}return null}function d(v,y,b,C){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(v,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gc:return b.key===S?l(v,y,b,C):null;case Bs:return b.key===S?c(v,y,b,C):null;case Zi:return S=b._init,d(v,y,S(b._payload),C)}if(mo(b)||ro(b))return S!==null?null:u(v,y,b,C,null);Sc(v,b)}return null}function g(v,y,b,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(b)||null,o(y,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gc:return v=v.get(C.key===null?b:C.key)||null,l(y,v,C,S);case Bs:return v=v.get(C.key===null?b:C.key)||null,c(y,v,C,S);case Zi:var R=C._init;return g(v,y,b,R(C._payload),S)}if(mo(C)||ro(C))return v=v.get(b)||null,u(y,v,C,S,null);Sc(y,C)}return null}function p(v,y,b,C){for(var S=null,R=null,k=y,w=y=0,A=null;k!==null&&w<b.length;w++){k.index>w?(A=k,k=null):A=k.sibling;var T=d(v,k,b[w],C);if(T===null){k===null&&(k=A);break}n&&k&&T.alternate===null&&e(v,k),y=s(T,y,w),R===null?S=T:R.sibling=T,R=T,k=A}if(w===b.length)return t(v,k),rt&&Gr(v,w),S;if(k===null){for(;w<b.length;w++)k=h(v,b[w],C),k!==null&&(y=s(k,y,w),R===null?S=k:R.sibling=k,R=k);return rt&&Gr(v,w),S}for(k=i(v,k);w<b.length;w++)A=g(k,v,w,b[w],C),A!==null&&(n&&A.alternate!==null&&k.delete(A.key===null?w:A.key),y=s(A,y,w),R===null?S=A:R.sibling=A,R=A);return n&&k.forEach(function(P){return e(v,P)}),rt&&Gr(v,w),S}function m(v,y,b,C){var S=ro(b);if(typeof S!="function")throw Error(K(150));if(b=S.call(b),b==null)throw Error(K(151));for(var R=S=null,k=y,w=y=0,A=null,T=b.next();k!==null&&!T.done;w++,T=b.next()){k.index>w?(A=k,k=null):A=k.sibling;var P=d(v,k,T.value,C);if(P===null){k===null&&(k=A);break}n&&k&&P.alternate===null&&e(v,k),y=s(P,y,w),R===null?S=P:R.sibling=P,R=P,k=A}if(T.done)return t(v,k),rt&&Gr(v,w),S;if(k===null){for(;!T.done;w++,T=b.next())T=h(v,T.value,C),T!==null&&(y=s(T,y,w),R===null?S=T:R.sibling=T,R=T);return rt&&Gr(v,w),S}for(k=i(v,k);!T.done;w++,T=b.next())T=g(k,v,w,T.value,C),T!==null&&(n&&T.alternate!==null&&k.delete(T.key===null?w:T.key),y=s(T,y,w),R===null?S=T:R.sibling=T,R=T);return n&&k.forEach(function(L){return e(v,L)}),rt&&Gr(v,w),S}function x(v,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Ws&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gc:e:{for(var S=b.key,R=y;R!==null;){if(R.key===S){if(S=b.type,S===Ws){if(R.tag===7){t(v,R.sibling),y=r(R,b.props.children),y.return=v,v=y;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zi&&zy(S)===R.type){t(v,R.sibling),y=r(R,b.props),y.ref=co(v,R,b),y.return=v,v=y;break e}t(v,R);break}else e(v,R);R=R.sibling}b.type===Ws?(y=ls(b.props.children,v.mode,C,b.key),y.return=v,v=y):(C=Kc(b.type,b.key,b.props,null,v.mode,C),C.ref=co(v,y,b),C.return=v,v=C)}return a(v);case Bs:e:{for(R=b.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){t(v,y.sibling),y=r(y,b.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=Od(b,v.mode,C),y.return=v,v=y}return a(v);case Zi:return R=b._init,x(v,y,R(b._payload),C)}if(mo(b))return p(v,y,b,C);if(ro(b))return m(v,y,b,C);Sc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(t(v,y.sibling),y=r(y,b),y.return=v,v=y):(t(v,y),y=Md(b,v.mode,C),y.return=v,v=y),a(v)):t(v,y)}return x}var va=Iw(!0),Pw=Iw(!1),Cu=Vr(null),Eu=null,Qs=null,Cp=null;function Ep(){Cp=Qs=Eu=null}function Tp(n){var e=Cu.current;nt(Cu),n._currentValue=e}function $f(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function aa(n,e){Eu=n,Cp=Qs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(fn=!0),n.firstContext=null)}function jn(n){var e=n._currentValue;if(Cp!==n)if(n={context:n,memoizedValue:e,next:null},Qs===null){if(Eu===null)throw Error(K(308));Qs=n,Eu.dependencies={lanes:0,firstContext:n}}else Qs=Qs.next=n;return e}var ts=null;function Ip(n){ts===null?ts=[n]:ts.push(n)}function Rw(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Ip(e)):(t.next=r.next,r.next=t),e.interleaved=t,Oi(n,i)}function Oi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ji=!1;function Pp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nw(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ze&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Oi(n,t)}return r=i.interleaved,r===null?(e.next=e,Ip(i)):(e.next=r.next,r.next=e),i.interleaved=e,Oi(n,t)}function Xc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,pp(n,t)}}function jy(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Tu(n,e,t,i){var r=n.updateQueue;Ji=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,g=o.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=n,m=o;switch(d=e,g=t,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=lt({},h,d);break e;case 2:Ji=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[o]:d.push(o))}else g={eventTime:g,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,a|=d;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);gs|=a,n.lanes=a,n.memoizedState=h}}function Hy(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var Pl={},hi=Vr(Pl),nl=Vr(Pl),il=Vr(Pl);function ns(n){if(n===Pl)throw Error(K(174));return n}function Rp(n,e){switch(Qe(il,e),Qe(nl,n),Qe(hi,Pl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ef(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ef(e,n)}nt(hi),Qe(hi,e)}function ya(){nt(hi),nt(nl),nt(il)}function Lw(n){ns(il.current);var e=ns(hi.current),t=Ef(e,n.type);e!==t&&(Qe(nl,n),Qe(hi,t))}function Np(n){nl.current===n&&(nt(hi),nt(nl))}var at=Vr(0);function Iu(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Td=[];function Lp(){for(var n=0;n<Td.length;n++)Td[n]._workInProgressVersionPrimary=null;Td.length=0}var Uc=Bi.ReactCurrentDispatcher,Id=Bi.ReactCurrentBatchConfig,fs=0,ot=null,kt=null,Rt=null,Pu=!1,Lo=!1,rl=0,_E=0;function Yt(){throw Error(K(321))}function Mp(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ti(n[t],e[t]))return!1;return!0}function Op(n,e,t,i,r,s){if(fs=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uc.current=n===null||n.memoizedState===null?CE:EE,n=t(i,r),Lo){s=0;do{if(Lo=!1,rl=0,25<=s)throw Error(K(301));s+=1,Rt=kt=null,e.updateQueue=null,Uc.current=TE,n=t(i,r)}while(Lo)}if(Uc.current=Ru,e=kt!==null&&kt.next!==null,fs=0,Rt=kt=ot=null,Pu=!1,e)throw Error(K(300));return n}function Dp(){var n=rl!==0;return rl=0,n}function ai(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function Hn(){if(kt===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=kt.next;var e=Rt===null?ot.memoizedState:Rt.next;if(e!==null)Rt=e,kt=n;else{if(n===null)throw Error(K(310));kt=n,n={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Rt===null?ot.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function sl(n,e){return typeof e=="function"?e(n):e}function Pd(n){var e=Hn(),t=e.queue;if(t===null)throw Error(K(311));t.lastRenderedReducer=n;var i=kt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((fs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=i):l=l.next=h,ot.lanes|=u,gs|=u}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,ti(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ot.lanes|=s,gs|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Rd(n){var e=Hn(),t=e.queue;if(t===null)throw Error(K(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);ti(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Mw(){}function Ow(n,e){var t=ot,i=Hn(),r=e(),s=!ti(i.memoizedState,r);if(s&&(i.memoizedState=r,fn=!0),i=i.queue,Fp(Vw.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(t.flags|=2048,al(9,Fw.bind(null,t,i,r,e),void 0,null),Nt===null)throw Error(K(349));fs&30||Dw(t,e,r)}return r}function Dw(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Fw(n,e,t,i){e.value=t,e.getSnapshot=i,zw(e)&&jw(n)}function Vw(n,e,t){return t(function(){zw(e)&&jw(n)})}function zw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ti(n,t)}catch{return!0}}function jw(n){var e=Oi(n,1);e!==null&&Jn(e,n,1,-1)}function By(n){var e=ai();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},e.queue=n,n=n.dispatch=SE.bind(null,ot,n),[e.memoizedState,n]}function al(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Hw(){return Hn().memoizedState}function Yc(n,e,t,i){var r=ai();ot.flags|=n,r.memoizedState=al(1|e,t,void 0,i===void 0?null:i)}function ph(n,e,t,i){var r=Hn();i=i===void 0?null:i;var s=void 0;if(kt!==null){var a=kt.memoizedState;if(s=a.destroy,i!==null&&Mp(i,a.deps)){r.memoizedState=al(e,t,s,i);return}}ot.flags|=n,r.memoizedState=al(1|e,t,s,i)}function Wy(n,e){return Yc(8390656,8,n,e)}function Fp(n,e){return ph(2048,8,n,e)}function Bw(n,e){return ph(4,2,n,e)}function Ww(n,e){return ph(4,4,n,e)}function Xw(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Uw(n,e,t){return t=t!=null?t.concat([n]):null,ph(4,4,Xw.bind(null,e,n),t)}function Vp(){}function Yw(n,e){var t=Hn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Mp(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function $w(n,e){var t=Hn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Mp(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Gw(n,e,t){return fs&21?(ti(t,e)||(t=J0(),ot.lanes|=t,gs|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,fn=!0),n.memoizedState=t)}function kE(n,e){var t=Ue;Ue=t!==0&&4>t?t:4,n(!0);var i=Id.transition;Id.transition={};try{n(!1),e()}finally{Ue=t,Id.transition=i}}function qw(){return Hn().memoizedState}function AE(n,e,t){var i=vr(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Kw(n))Qw(e,t);else if(t=Rw(n,e,t,i),t!==null){var r=an();Jn(t,n,i,r),Zw(t,e,i)}}function SE(n,e,t){var i=vr(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Kw(n))Qw(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,ti(o,a)){var l=e.interleaved;l===null?(r.next=r,Ip(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=Rw(n,e,r,i),t!==null&&(r=an(),Jn(t,n,i,r),Zw(t,e,i))}}function Kw(n){var e=n.alternate;return n===ot||e!==null&&e===ot}function Qw(n,e){Lo=Pu=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Zw(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,pp(n,t)}}var Ru={readContext:jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},CE={readContext:jn,useCallback:function(n,e){return ai().memoizedState=[n,e===void 0?null:e],n},useContext:jn,useEffect:Wy,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Yc(4194308,4,Xw.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Yc(4194308,4,n,e)},useInsertionEffect:function(n,e){return Yc(4,2,n,e)},useMemo:function(n,e){var t=ai();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ai();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=AE.bind(null,ot,n),[i.memoizedState,n]},useRef:function(n){var e=ai();return n={current:n},e.memoizedState=n},useState:By,useDebugValue:Vp,useDeferredValue:function(n){return ai().memoizedState=n},useTransition:function(){var n=By(!1),e=n[0];return n=kE.bind(null,n[1]),ai().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ot,r=ai();if(rt){if(t===void 0)throw Error(K(407));t=t()}else{if(t=e(),Nt===null)throw Error(K(349));fs&30||Dw(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Wy(Vw.bind(null,i,s,n),[n]),i.flags|=2048,al(9,Fw.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ai(),e=Nt.identifierPrefix;if(rt){var t=Ci,i=Si;t=(i&~(1<<32-Zn(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=rl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=_E++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},EE={readContext:jn,useCallback:Yw,useContext:jn,useEffect:Fp,useImperativeHandle:Uw,useInsertionEffect:Bw,useLayoutEffect:Ww,useMemo:$w,useReducer:Pd,useRef:Hw,useState:function(){return Pd(sl)},useDebugValue:Vp,useDeferredValue:function(n){var e=Hn();return Gw(e,kt.memoizedState,n)},useTransition:function(){var n=Pd(sl)[0],e=Hn().memoizedState;return[n,e]},useMutableSource:Mw,useSyncExternalStore:Ow,useId:qw,unstable_isNewReconciler:!1},TE={readContext:jn,useCallback:Yw,useContext:jn,useEffect:Fp,useImperativeHandle:Uw,useInsertionEffect:Bw,useLayoutEffect:Ww,useMemo:$w,useReducer:Rd,useRef:Hw,useState:function(){return Rd(sl)},useDebugValue:Vp,useDeferredValue:function(n){var e=Hn();return kt===null?e.memoizedState=n:Gw(e,kt.memoizedState,n)},useTransition:function(){var n=Rd(sl)[0],e=Hn().memoizedState;return[n,e]},useMutableSource:Mw,useSyncExternalStore:Ow,useId:qw,unstable_isNewReconciler:!1};function Yn(n,e){if(n&&n.defaultProps){e=lt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Gf(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:lt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var mh={isMounted:function(n){return(n=n._reactInternals)?Ss(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=an(),r=vr(n),s=Pi(i,r);s.payload=e,t!=null&&(s.callback=t),e=pr(n,s,r),e!==null&&(Jn(e,n,r,i),Xc(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=an(),r=vr(n),s=Pi(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=pr(n,s,r),e!==null&&(Jn(e,n,r,i),Xc(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=an(),i=vr(n),r=Pi(t,i);r.tag=2,e!=null&&(r.callback=e),e=pr(n,r,i),e!==null&&(Jn(e,n,i,t),Xc(e,n,i))}};function Xy(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Zo(t,i)||!Zo(r,s):!0}function Jw(n,e,t){var i=!1,r=Cr,s=e.contextType;return typeof s=="object"&&s!==null?s=jn(s):(r=pn(e)?hs:Zt.current,i=e.contextTypes,s=(i=i!=null)?pa(n,r):Cr),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mh,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Uy(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&mh.enqueueReplaceState(e,e.state,null)}function qf(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Pp(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=jn(s):(s=pn(e)?hs:Zt.current,r.context=pa(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gf(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&mh.enqueueReplaceState(r,r.state,null),Tu(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function xa(n,e){try{var t="",i=e;do t+=nC(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Nd(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Kf(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var IE=typeof WeakMap=="function"?WeakMap:Map;function e1(n,e,t){t=Pi(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Lu||(Lu=!0,ag=i),Kf(n,e)},t}function t1(n,e,t){t=Pi(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Kf(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Kf(n,e),typeof i!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Yy(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new IE;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=WE.bind(null,n,e,t),e.then(n,n))}function $y(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Gy(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Pi(-1,1),e.tag=2,pr(t,e,1))),t.lanes|=1),n)}var PE=Bi.ReactCurrentOwner,fn=!1;function nn(n,e,t,i){e.child=n===null?Pw(e,null,t,i):va(e,n.child,t,i)}function qy(n,e,t,i,r){t=t.render;var s=e.ref;return aa(e,r),i=Op(n,e,t,i,s,r),t=Dp(),n!==null&&!fn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Di(n,e,r)):(rt&&t&&kp(e),e.flags|=1,nn(n,e,i,r),e.child)}function Ky(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Yp(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,n1(n,e,s,i,r)):(n=Kc(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Zo,t(a,i)&&n.ref===e.ref)return Di(n,e,r)}return e.flags|=1,n=yr(s,i),n.ref=e.ref,n.return=e,e.child=n}function n1(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Zo(s,i)&&n.ref===e.ref)if(fn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(fn=!0);else return e.lanes=n.lanes,Di(n,e,r)}return Qf(n,e,t,i,r)}function i1(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Js,xn),xn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Qe(Js,xn),xn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Qe(Js,xn),xn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Qe(Js,xn),xn|=i;return nn(n,e,r,t),e.child}function r1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Qf(n,e,t,i,r){var s=pn(t)?hs:Zt.current;return s=pa(e,s),aa(e,r),t=Op(n,e,t,i,s,r),i=Dp(),n!==null&&!fn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Di(n,e,r)):(rt&&i&&kp(e),e.flags|=1,nn(n,e,t,r),e.child)}function Qy(n,e,t,i,r){if(pn(t)){var s=!0;ku(e)}else s=!1;if(aa(e,r),e.stateNode===null)$c(n,e),Jw(e,t,i),qf(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=pn(t)?hs:Zt.current,c=pa(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&Uy(e,a,i,c),Ji=!1;var d=e.memoizedState;a.state=d,Tu(e,i,a,r),l=e.memoizedState,o!==i||d!==l||gn.current||Ji?(typeof u=="function"&&(Gf(e,t,u,i),l=e.memoizedState),(o=Ji||Xy(e,t,o,i,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Nw(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:Yn(e.type,o),a.props=c,h=e.pendingProps,d=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=pn(t)?hs:Zt.current,l=pa(e,l));var g=t.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&Uy(e,a,i,l),Ji=!1,d=e.memoizedState,a.state=d,Tu(e,i,a,r);var p=e.memoizedState;o!==h||d!==p||gn.current||Ji?(typeof g=="function"&&(Gf(e,t,g,i),p=e.memoizedState),(c=Ji||Xy(e,t,c,i,d,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return Zf(n,e,t,i,s,r)}function Zf(n,e,t,i,r,s){r1(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Dy(e,t,!1),Di(n,e,s);i=e.stateNode,PE.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=va(e,n.child,null,s),e.child=va(e,null,o,s)):nn(n,e,o,s),e.memoizedState=i.state,r&&Dy(e,t,!0),e.child}function s1(n){var e=n.stateNode;e.pendingContext?Oy(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Oy(n,e.context,!1),Rp(n,e.containerInfo)}function Zy(n,e,t,i,r){return ma(),Sp(r),e.flags|=256,nn(n,e,t,i),e.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function eg(n){return{baseLanes:n,cachePool:null,transitions:null}}function a1(n,e,t){var i=e.pendingProps,r=at.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Qe(at,r&1),n===null)return Yf(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xh(a,i,0,null),n=ls(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=eg(t),e.memoizedState=Jf,n):zp(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return RE(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=yr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=yr(o,s):(s=ls(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?eg(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=Jf,i}return s=n.child,n=s.sibling,i=yr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function zp(n,e){return e=xh({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Cc(n,e,t,i){return i!==null&&Sp(i),va(e,n.child,null,t),n=zp(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function RE(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=Nd(Error(K(422))),Cc(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=xh({mode:"visible",children:i.children},r,0,null),s=ls(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&va(e,n.child,null,a),e.child.memoizedState=eg(a),e.memoizedState=Jf,s);if(!(e.mode&1))return Cc(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(K(419)),i=Nd(s,i,void 0),Cc(n,e,a,i)}if(o=(a&n.childLanes)!==0,fn||o){if(i=Nt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Oi(n,r),Jn(i,n,r,-1))}return Up(),i=Nd(Error(K(421))),Cc(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=XE.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,bn=gr(r.nextSibling),_n=e,rt=!0,Gn=null,n!==null&&(Rn[Nn++]=Si,Rn[Nn++]=Ci,Rn[Nn++]=ds,Si=n.id,Ci=n.overflow,ds=e),e=zp(e,i.children),e.flags|=4096,e)}function Jy(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),$f(n.return,e,t)}function Ld(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function o1(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(nn(n,e,i.children,t),i=at.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jy(n,t,e);else if(n.tag===19)Jy(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Qe(at,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Iu(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ld(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Iu(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ld(e,!0,t,null,s);break;case"together":Ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Di(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),gs|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(K(153));if(e.child!==null){for(n=e.child,t=yr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=yr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function NE(n,e,t){switch(e.tag){case 3:s1(e),ma();break;case 5:Lw(e);break;case 1:pn(e.type)&&ku(e);break;case 4:Rp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Qe(Cu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Qe(at,at.current&1),e.flags|=128,null):t&e.child.childLanes?a1(n,e,t):(Qe(at,at.current&1),n=Di(n,e,t),n!==null?n.sibling:null);Qe(at,at.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return o1(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Qe(at,at.current),i)break;return null;case 22:case 23:return e.lanes=0,i1(n,e,t)}return Di(n,e,t)}var l1,tg,c1,u1;l1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};tg=function(){};c1=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ns(hi.current);var s=null;switch(t){case"input":r=kf(n,r),i=kf(n,i),s=[];break;case"select":r=lt({},r,{value:void 0}),i=lt({},i,{value:void 0}),s=[];break;case"textarea":r=Cf(n,r),i=Cf(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=wu)}Tf(t,i);var a;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&et("scroll",n),s||o===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};u1=function(n,e,t,i){t!==i&&(e.flags|=4)};function uo(n,e){if(!rt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function $t(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function LE(n,e,t){var i=e.pendingProps;switch(Ap(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return pn(e.type)&&_u(),$t(e),null;case 3:return i=e.stateNode,ya(),nt(gn),nt(Zt),Lp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ac(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(cg(Gn),Gn=null))),tg(n,e),$t(e),null;case 5:Np(e);var r=ns(il.current);if(t=e.type,n!==null&&e.stateNode!=null)c1(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return $t(e),null}if(n=ns(hi.current),Ac(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ci]=e,i[tl]=s,n=(e.mode&1)!==0,t){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(r=0;r<yo.length;r++)et(yo[r],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":ly(i,s),et("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},et("invalid",i);break;case"textarea":uy(i,s),et("invalid",i)}Tf(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&kc(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&kc(i.textContent,o,n),r=["children",""+o]):Uo.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&et("scroll",i)}switch(t){case"input":pc(i),cy(i,s,!0);break;case"textarea":pc(i),hy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=wu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=V0(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[ci]=e,n[tl]=i,l1(n,e,!1,!1),e.stateNode=n;e:{switch(a=If(t,i),t){case"dialog":et("cancel",n),et("close",n),r=i;break;case"iframe":case"object":case"embed":et("load",n),r=i;break;case"video":case"audio":for(r=0;r<yo.length;r++)et(yo[r],n);r=i;break;case"source":et("error",n),r=i;break;case"img":case"image":case"link":et("error",n),et("load",n),r=i;break;case"details":et("toggle",n),r=i;break;case"input":ly(n,i),r=kf(n,i),et("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=lt({},i,{value:void 0}),et("invalid",n);break;case"textarea":uy(n,i),r=Cf(n,i),et("invalid",n);break;default:r=i}Tf(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?H0(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z0(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Yo(n,l):typeof l=="number"&&Yo(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",n):l!=null&&cp(n,s,l,a))}switch(t){case"input":pc(n),cy(n,i,!1);break;case"textarea":pc(n),hy(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Sr(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?na(n,!!i.multiple,s,!1):i.defaultValue!=null&&na(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=wu)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(n&&e.stateNode!=null)u1(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(t=ns(il.current),ns(hi.current),Ac(e)){if(i=e.stateNode,t=e.memoizedProps,i[ci]=e,(s=i.nodeValue!==t)&&(n=_n,n!==null))switch(n.tag){case 3:kc(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kc(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ci]=e,e.stateNode=i}return $t(e),null;case 13:if(nt(at),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rt&&bn!==null&&e.mode&1&&!(e.flags&128))Tw(),ma(),e.flags|=98560,s=!1;else if(s=Ac(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[ci]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Gn!==null&&(cg(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||at.current&1?St===0&&(St=3):Up())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return ya(),tg(n,e),n===null&&Jo(e.stateNode.containerInfo),$t(e),null;case 10:return Tp(e.type._context),$t(e),null;case 17:return pn(e.type)&&_u(),$t(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return $t(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)uo(s,!1);else{if(St!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Iu(n),a!==null){for(e.flags|=128,uo(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Qe(at,at.current&1|2),e.child}n=n.sibling}s.tail!==null&&mt()>ba&&(e.flags|=128,i=!0,uo(s,!1),e.lanes=4194304)}else{if(!i)if(n=Iu(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!rt)return $t(e),null}else 2*mt()-s.renderingStartTime>ba&&t!==1073741824&&(e.flags|=128,i=!0,uo(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,t=at.current,Qe(at,i?t&1|2:t&1),e):($t(e),null);case 22:case 23:return Xp(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?xn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function ME(n,e){switch(Ap(e),e.tag){case 1:return pn(e.type)&&_u(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return ya(),nt(gn),nt(Zt),Lp(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Np(e),null;case 13:if(nt(at),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ma()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nt(at),null;case 4:return ya(),null;case 10:return Tp(e.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Ec=!1,Kt=!1,OE=typeof WeakSet=="function"?WeakSet:Set,le=null;function Zs(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){ht(n,e,i)}else t.current=null}function ng(n,e,t){try{t()}catch(i){ht(n,e,i)}}var ex=!1;function DE(n,e){if(zf=yu,n=pw(),_p(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var g;h!==t||r!==0&&h.nodeType!==3||(o=a+r),h!==s||i!==0&&h.nodeType!==3||(l=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===n)break t;if(d===t&&++c===r&&(o=a),d===s&&++u===i&&(l=a),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(jf={focusedElem:n,selectionRange:t},yu=!1,le=e;le!==null;)if(e=le,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,le=n;else for(;le!==null;){e=le;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Yn(e.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(C){ht(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}return p=ex,ex=!1,p}function Mo(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&ng(e,t,s)}r=r.next}while(r!==i)}}function vh(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function ig(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function h1(n){var e=n.alternate;e!==null&&(n.alternate=null,h1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ci],delete e[tl],delete e[Wf],delete e[yE],delete e[xE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function d1(n){return n.tag===5||n.tag===3||n.tag===4}function tx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||d1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=wu));else if(i!==4&&(n=n.child,n!==null))for(rg(n,e,t),n=n.sibling;n!==null;)rg(n,e,t),n=n.sibling}function sg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(sg(n,e,t),n=n.sibling;n!==null;)sg(n,e,t),n=n.sibling}var Mt=null,$n=!1;function Ki(n,e,t){for(t=t.child;t!==null;)f1(n,e,t),t=t.sibling}function f1(n,e,t){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(ch,t)}catch{}switch(t.tag){case 5:Kt||Zs(t,e);case 6:var i=Mt,r=$n;Mt=null,Ki(n,e,t),Mt=i,$n=r,Mt!==null&&($n?(n=Mt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Mt.removeChild(t.stateNode));break;case 18:Mt!==null&&($n?(n=Mt,t=t.stateNode,n.nodeType===8?Cd(n.parentNode,t):n.nodeType===1&&Cd(n,t),Ko(n)):Cd(Mt,t.stateNode));break;case 4:i=Mt,r=$n,Mt=t.stateNode.containerInfo,$n=!0,Ki(n,e,t),Mt=i,$n=r;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ng(t,e,a),r=r.next}while(r!==i)}Ki(n,e,t);break;case 1:if(!Kt&&(Zs(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){ht(t,e,o)}Ki(n,e,t);break;case 21:Ki(n,e,t);break;case 22:t.mode&1?(Kt=(i=Kt)||t.memoizedState!==null,Ki(n,e,t),Kt=i):Ki(n,e,t);break;default:Ki(n,e,t)}}function nx(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new OE),e.forEach(function(i){var r=UE.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Wn(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Mt=o.stateNode,$n=!1;break e;case 3:Mt=o.stateNode.containerInfo,$n=!0;break e;case 4:Mt=o.stateNode.containerInfo,$n=!0;break e}o=o.return}if(Mt===null)throw Error(K(160));f1(s,a,r),Mt=null,$n=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ht(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g1(e,n),e=e.sibling}function g1(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Wn(e,n),si(n),i&4){try{Mo(3,n,n.return),vh(3,n)}catch(m){ht(n,n.return,m)}try{Mo(5,n,n.return)}catch(m){ht(n,n.return,m)}}break;case 1:Wn(e,n),si(n),i&512&&t!==null&&Zs(t,t.return);break;case 5:if(Wn(e,n),si(n),i&512&&t!==null&&Zs(t,t.return),n.flags&32){var r=n.stateNode;try{Yo(r,"")}catch(m){ht(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&D0(r,s),If(o,a);var c=If(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?H0(r,h):u==="dangerouslySetInnerHTML"?z0(r,h):u==="children"?Yo(r,h):cp(r,u,h,c)}switch(o){case"input":Af(r,s);break;case"textarea":F0(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?na(r,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?na(r,!!s.multiple,s.defaultValue,!0):na(r,!!s.multiple,s.multiple?[]:"",!1))}r[tl]=s}catch(m){ht(n,n.return,m)}}break;case 6:if(Wn(e,n),si(n),i&4){if(n.stateNode===null)throw Error(K(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){ht(n,n.return,m)}}break;case 3:if(Wn(e,n),si(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(m){ht(n,n.return,m)}break;case 4:Wn(e,n),si(n);break;case 13:Wn(e,n),si(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Bp=mt())),i&4&&nx(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Kt=(c=Kt)||u,Wn(e,n),Kt=c):Wn(e,n),si(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(le=n,u=n.child;u!==null;){for(h=le=u;le!==null;){switch(d=le,g=d.child,d.tag){case 0:case 11:case 14:case 15:Mo(4,d,d.return);break;case 1:Zs(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ht(i,t,m)}}break;case 5:Zs(d,d.return);break;case 22:if(d.memoizedState!==null){rx(h);continue}}g!==null?(g.return=d,le=g):rx(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=j0("display",a))}catch(m){ht(n,n.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){ht(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wn(e,n),si(n),i&4&&nx(n);break;case 21:break;default:Wn(e,n),si(n)}}function si(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(d1(t)){var i=t;break e}t=t.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Yo(r,""),i.flags&=-33);var s=tx(n);sg(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=tx(n);rg(n,o,a);break;default:throw Error(K(161))}}catch(l){ht(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function FE(n,e,t){le=n,p1(n)}function p1(n,e,t){for(var i=(n.mode&1)!==0;le!==null;){var r=le,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Ec;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||Kt;o=Ec;var c=Kt;if(Ec=a,(Kt=l)&&!c)for(le=r;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?sx(r):l!==null?(l.return=a,le=l):sx(r);for(;s!==null;)le=s,p1(s),s=s.sibling;le=r,Ec=o,Kt=c}ix(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,le=s):ix(n)}}function ix(n){for(;le!==null;){var e=le;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||vh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Kt)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Yn(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hy(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Hy(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Kt||e.flags&512&&ig(e)}catch(d){ht(e,e.return,d)}}if(e===n){le=null;break}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}}function rx(n){for(;le!==null;){var e=le;if(e===n){le=null;break}var t=e.sibling;if(t!==null){t.return=e.return,le=t;break}le=e.return}}function sx(n){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{vh(4,e)}catch(l){ht(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ht(e,r,l)}}var s=e.return;try{ig(e)}catch(l){ht(e,s,l)}break;case 5:var a=e.return;try{ig(e)}catch(l){ht(e,a,l)}}}catch(l){ht(e,e.return,l)}if(e===n){le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,le=o;break}le=e.return}}var VE=Math.ceil,Nu=Bi.ReactCurrentDispatcher,jp=Bi.ReactCurrentOwner,Fn=Bi.ReactCurrentBatchConfig,ze=0,Nt=null,yt=null,jt=0,xn=0,Js=Vr(0),St=0,ol=null,gs=0,yh=0,Hp=0,Oo=null,hn=null,Bp=0,ba=1/0,ki=null,Lu=!1,ag=null,mr=null,Tc=!1,lr=null,Mu=0,Do=0,og=null,Gc=-1,qc=0;function an(){return ze&6?mt():Gc!==-1?Gc:Gc=mt()}function vr(n){return n.mode&1?ze&2&&jt!==0?jt&-jt:wE.transition!==null?(qc===0&&(qc=J0()),qc):(n=Ue,n!==0||(n=window.event,n=n===void 0?16:aw(n.type)),n):1}function Jn(n,e,t,i){if(50<Do)throw Do=0,og=null,Error(K(185));El(n,t,i),(!(ze&2)||n!==Nt)&&(n===Nt&&(!(ze&2)&&(yh|=t),St===4&&tr(n,jt)),mn(n,i),t===1&&ze===0&&!(e.mode&1)&&(ba=mt()+500,gh&&zr()))}function mn(n,e){var t=n.callbackNode;wC(n,e);var i=vu(n,n===Nt?jt:0);if(i===0)t!==null&&gy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&gy(t),e===1)n.tag===0?bE(ax.bind(null,n)):Sw(ax.bind(null,n)),mE(function(){!(ze&6)&&zr()}),t=null;else{switch(ew(i)){case 1:t=gp;break;case 4:t=Q0;break;case 16:t=mu;break;case 536870912:t=Z0;break;default:t=mu}t=k1(t,m1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function m1(n,e){if(Gc=-1,qc=0,ze&6)throw Error(K(327));var t=n.callbackNode;if(oa()&&n.callbackNode!==t)return null;var i=vu(n,n===Nt?jt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ou(n,i);else{e=i;var r=ze;ze|=2;var s=y1();(Nt!==n||jt!==e)&&(ki=null,ba=mt()+500,os(n,e));do try{HE();break}catch(o){v1(n,o)}while(!0);Ep(),Nu.current=s,ze=r,yt!==null?e=0:(Nt=null,jt=0,e=St)}if(e!==0){if(e===2&&(r=Mf(n),r!==0&&(i=r,e=lg(n,r))),e===1)throw t=ol,os(n,0),tr(n,i),mn(n,mt()),t;if(e===6)tr(n,i);else{if(r=n.current.alternate,!(i&30)&&!zE(r)&&(e=Ou(n,i),e===2&&(s=Mf(n),s!==0&&(i=s,e=lg(n,s))),e===1))throw t=ol,os(n,0),tr(n,i),mn(n,mt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:qr(n,hn,ki);break;case 3:if(tr(n,i),(i&130023424)===i&&(e=Bp+500-mt(),10<e)){if(vu(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){an(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Bf(qr.bind(null,n,hn,ki),e);break}qr(n,hn,ki);break;case 4:if(tr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-Zn(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=mt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VE(i/1960))-i,10<i){n.timeoutHandle=Bf(qr.bind(null,n,hn,ki),i);break}qr(n,hn,ki);break;case 5:qr(n,hn,ki);break;default:throw Error(K(329))}}}return mn(n,mt()),n.callbackNode===t?m1.bind(null,n):null}function lg(n,e){var t=Oo;return n.current.memoizedState.isDehydrated&&(os(n,e).flags|=256),n=Ou(n,e),n!==2&&(e=hn,hn=t,e!==null&&cg(e)),n}function cg(n){hn===null?hn=n:hn.push.apply(hn,n)}function zE(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!ti(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tr(n,e){for(e&=~Hp,e&=~yh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Zn(e),i=1<<t;n[t]=-1,e&=~i}}function ax(n){if(ze&6)throw Error(K(327));oa();var e=vu(n,0);if(!(e&1))return mn(n,mt()),null;var t=Ou(n,e);if(n.tag!==0&&t===2){var i=Mf(n);i!==0&&(e=i,t=lg(n,i))}if(t===1)throw t=ol,os(n,0),tr(n,e),mn(n,mt()),t;if(t===6)throw Error(K(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,qr(n,hn,ki),mn(n,mt()),null}function Wp(n,e){var t=ze;ze|=1;try{return n(e)}finally{ze=t,ze===0&&(ba=mt()+500,gh&&zr())}}function ps(n){lr!==null&&lr.tag===0&&!(ze&6)&&oa();var e=ze;ze|=1;var t=Fn.transition,i=Ue;try{if(Fn.transition=null,Ue=1,n)return n()}finally{Ue=i,Fn.transition=t,ze=e,!(ze&6)&&zr()}}function Xp(){xn=Js.current,nt(Js)}function os(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,pE(t)),yt!==null)for(t=yt.return;t!==null;){var i=t;switch(Ap(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_u();break;case 3:ya(),nt(gn),nt(Zt),Lp();break;case 5:Np(i);break;case 4:ya();break;case 13:nt(at);break;case 19:nt(at);break;case 10:Tp(i.type._context);break;case 22:case 23:Xp()}t=t.return}if(Nt=n,yt=n=yr(n.current,null),jt=xn=e,St=0,ol=null,Hp=yh=gs=0,hn=Oo=null,ts!==null){for(e=0;e<ts.length;e++)if(t=ts[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}ts=null}return n}function v1(n,e){do{var t=yt;try{if(Ep(),Uc.current=Ru,Pu){for(var i=ot.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Pu=!1}if(fs=0,Rt=kt=ot=null,Lo=!1,rl=0,jp.current=null,t===null||t.return===null){St=1,ol=e,yt=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=jt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=$y(a);if(g!==null){g.flags&=-257,Gy(g,a,o,s,e),g.mode&1&&Yy(s,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Yy(s,c,e),Up();break e}l=Error(K(426))}}else if(rt&&o.mode&1){var x=$y(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gy(x,a,o,s,e),Sp(xa(l,o));break e}}s=l=xa(l,o),St!==4&&(St=2),Oo===null?Oo=[s]:Oo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=e1(s,l,e);jy(s,v);break e;case 1:o=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mr===null||!mr.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=t1(s,o,e);jy(s,C);break e}}s=s.return}while(s!==null)}b1(t)}catch(S){e=S,yt===t&&t!==null&&(yt=t=t.return);continue}break}while(!0)}function y1(){var n=Nu.current;return Nu.current=Ru,n===null?Ru:n}function Up(){(St===0||St===3||St===2)&&(St=4),Nt===null||!(gs&268435455)&&!(yh&268435455)||tr(Nt,jt)}function Ou(n,e){var t=ze;ze|=2;var i=y1();(Nt!==n||jt!==e)&&(ki=null,os(n,e));do try{jE();break}catch(r){v1(n,r)}while(!0);if(Ep(),ze=t,Nu.current=i,yt!==null)throw Error(K(261));return Nt=null,jt=0,St}function jE(){for(;yt!==null;)x1(yt)}function HE(){for(;yt!==null&&!dC();)x1(yt)}function x1(n){var e=_1(n.alternate,n,xn);n.memoizedProps=n.pendingProps,e===null?b1(n):yt=e,jp.current=null}function b1(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ME(t,e),t!==null){t.flags&=32767,yt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{St=6,yt=null;return}}else if(t=LE(t,e,xn),t!==null){yt=t;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=n}while(e!==null);St===0&&(St=5)}function qr(n,e,t){var i=Ue,r=Fn.transition;try{Fn.transition=null,Ue=1,BE(n,e,t,i)}finally{Fn.transition=r,Ue=i}return null}function BE(n,e,t,i){do oa();while(lr!==null);if(ze&6)throw Error(K(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(K(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(_C(n,s),n===Nt&&(yt=Nt=null,jt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Tc||(Tc=!0,k1(mu,function(){return oa(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Fn.transition,Fn.transition=null;var a=Ue;Ue=1;var o=ze;ze|=4,jp.current=null,DE(n,t),g1(t,n),lE(jf),yu=!!zf,jf=zf=null,n.current=t,FE(t),fC(),ze=o,Ue=a,Fn.transition=s}else n.current=t;if(Tc&&(Tc=!1,lr=n,Mu=r),s=n.pendingLanes,s===0&&(mr=null),mC(t.stateNode),mn(n,mt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Lu)throw Lu=!1,n=ag,ag=null,n;return Mu&1&&n.tag!==0&&oa(),s=n.pendingLanes,s&1?n===og?Do++:(Do=0,og=n):Do=0,zr(),null}function oa(){if(lr!==null){var n=ew(Mu),e=Fn.transition,t=Ue;try{if(Fn.transition=null,Ue=16>n?16:n,lr===null)var i=!1;else{if(n=lr,lr=null,Mu=0,ze&6)throw Error(K(331));var r=ze;for(ze|=4,le=n.current;le!==null;){var s=le,a=s.child;if(le.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(le=c;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:Mo(8,u,s)}var h=u.child;if(h!==null)h.return=u,le=h;else for(;le!==null;){u=le;var d=u.sibling,g=u.return;if(h1(u),u===c){le=null;break}if(d!==null){d.return=g,le=d;break}le=g}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,le=a;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,le=v;break e}le=s.return}}var y=n.current;for(le=y;le!==null;){a=le;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,le=b;else e:for(a=y;le!==null;){if(o=le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vh(9,o)}}catch(S){ht(o,o.return,S)}if(o===a){le=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,le=C;break e}le=o.return}}if(ze=r,zr(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(ch,n)}catch{}i=!0}return i}finally{Ue=t,Fn.transition=e}}return!1}function ox(n,e,t){e=xa(t,e),e=e1(n,e,1),n=pr(n,e,1),e=an(),n!==null&&(El(n,1,e),mn(n,e))}function ht(n,e,t){if(n.tag===3)ox(n,n,t);else for(;e!==null;){if(e.tag===3){ox(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mr===null||!mr.has(i))){n=xa(t,n),n=t1(e,n,1),e=pr(e,n,1),n=an(),e!==null&&(El(e,1,n),mn(e,n));break}}e=e.return}}function WE(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=an(),n.pingedLanes|=n.suspendedLanes&t,Nt===n&&(jt&t)===t&&(St===4||St===3&&(jt&130023424)===jt&&500>mt()-Bp?os(n,0):Hp|=t),mn(n,e)}function w1(n,e){e===0&&(n.mode&1?(e=yc,yc<<=1,!(yc&130023424)&&(yc=4194304)):e=1);var t=an();n=Oi(n,e),n!==null&&(El(n,e,t),mn(n,t))}function XE(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),w1(n,t)}function UE(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),w1(n,t)}var _1;_1=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||gn.current)fn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return fn=!1,NE(n,e,t);fn=!!(n.flags&131072)}else fn=!1,rt&&e.flags&1048576&&Cw(e,Su,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;$c(n,e),n=e.pendingProps;var r=pa(e,Zt.current);aa(e,t),r=Op(null,e,i,n,r,t);var s=Dp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(i)?(s=!0,ku(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Pp(e),r.updater=mh,e.stateNode=r,r._reactInternals=e,qf(e,i,n,t),e=Zf(null,e,i,!0,s,t)):(e.tag=0,rt&&s&&kp(e),nn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch($c(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=$E(i),n=Yn(i,n),r){case 0:e=Qf(null,e,i,n,t);break e;case 1:e=Qy(null,e,i,n,t);break e;case 11:e=qy(null,e,i,n,t);break e;case 14:e=Ky(null,e,i,Yn(i.type,n),t);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),Qf(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),Qy(n,e,i,r,t);case 3:e:{if(s1(e),n===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Nw(n,e),Tu(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=xa(Error(K(423)),e),e=Zy(n,e,i,t,r);break e}else if(i!==r){r=xa(Error(K(424)),e),e=Zy(n,e,i,t,r);break e}else for(bn=gr(e.stateNode.containerInfo.firstChild),_n=e,rt=!0,Gn=null,t=Pw(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ma(),i===r){e=Di(n,e,t);break e}nn(n,e,i,t)}e=e.child}return e;case 5:return Lw(e),n===null&&Yf(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,Hf(i,r)?a=null:s!==null&&Hf(i,s)&&(e.flags|=32),r1(n,e),nn(n,e,a,t),e.child;case 6:return n===null&&Yf(e),null;case 13:return a1(n,e,t);case 4:return Rp(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=va(e,null,i,t):nn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),qy(n,e,i,r,t);case 7:return nn(n,e,e.pendingProps,t),e.child;case 8:return nn(n,e,e.pendingProps.children,t),e.child;case 12:return nn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Qe(Cu,i._currentValue),i._currentValue=a,s!==null)if(ti(s.value,a)){if(s.children===r.children&&!gn.current){e=Di(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Pi(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),$f(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),$f(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}nn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,aa(e,t),r=jn(r),i=i(r),e.flags|=1,nn(n,e,i,t),e.child;case 14:return i=e.type,r=Yn(i,e.pendingProps),r=Yn(i.type,r),Ky(n,e,i,r,t);case 15:return n1(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),$c(n,e),e.tag=1,pn(i)?(n=!0,ku(e)):n=!1,aa(e,t),Jw(e,i,r),qf(e,i,r,t),Zf(null,e,i,!0,n,t);case 19:return o1(n,e,t);case 22:return i1(n,e,t)}throw Error(K(156,e.tag))};function k1(n,e){return K0(n,e)}function YE(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,e,t,i){return new YE(n,e,t,i)}function Yp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $E(n){if(typeof n=="function")return Yp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===hp)return 11;if(n===dp)return 14}return 2}function yr(n,e){var t=n.alternate;return t===null?(t=On(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Kc(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")Yp(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Ws:return ls(t.children,r,s,e);case up:a=8,r|=8;break;case xf:return n=On(12,t,e,r|2),n.elementType=xf,n.lanes=s,n;case bf:return n=On(13,t,e,r),n.elementType=bf,n.lanes=s,n;case wf:return n=On(19,t,e,r),n.elementType=wf,n.lanes=s,n;case L0:return xh(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R0:a=10;break e;case N0:a=9;break e;case hp:a=11;break e;case dp:a=14;break e;case Zi:a=16,i=null;break e}throw Error(K(130,n==null?n:typeof n,""))}return e=On(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ls(n,e,t,i){return n=On(7,n,i,e),n.lanes=t,n}function xh(n,e,t,i){return n=On(22,n,i,e),n.elementType=L0,n.lanes=t,n.stateNode={isHidden:!1},n}function Md(n,e,t){return n=On(6,n,null,e),n.lanes=t,n}function Od(n,e,t){return e=On(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function GE(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pd(0),this.expirationTimes=pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $p(n,e,t,i,r,s,a,o,l){return n=new GE(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(s),n}function qE(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function A1(n){if(!n)return Cr;n=n._reactInternals;e:{if(Ss(n)!==n||n.tag!==1)throw Error(K(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(n.tag===1){var t=n.type;if(pn(t))return Aw(n,t,e)}return e}function S1(n,e,t,i,r,s,a,o,l){return n=$p(t,i,!0,n,r,s,a,o,l),n.context=A1(null),t=n.current,i=an(),r=vr(t),s=Pi(i,r),s.callback=e??null,pr(t,s,r),n.current.lanes=r,El(n,r,i),mn(n,i),n}function bh(n,e,t,i){var r=e.current,s=an(),a=vr(r);return t=A1(t),e.context===null?e.context=t:e.pendingContext=t,e=Pi(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=pr(r,e,a),n!==null&&(Jn(n,r,a,s),Xc(n,r,a)),a}function Du(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function lx(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Gp(n,e){lx(n,e),(n=n.alternate)&&lx(n,e)}function KE(){return null}var C1=typeof reportError=="function"?reportError:function(n){console.error(n)};function qp(n){this._internalRoot=n}wh.prototype.render=qp.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(K(409));bh(n,e,null,null)};wh.prototype.unmount=qp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ps(function(){bh(null,n,null,null)}),e[Mi]=null}};function wh(n){this._internalRoot=n}wh.prototype.unstable_scheduleHydration=function(n){if(n){var e=iw();n={blockedOn:null,target:n,priority:e};for(var t=0;t<er.length&&e!==0&&e<er[t].priority;t++);er.splice(t,0,n),t===0&&sw(n)}};function Kp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function _h(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cx(){}function QE(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Du(a);s.call(c)}}var a=S1(e,i,n,0,null,!1,!1,"",cx);return n._reactRootContainer=a,n[Mi]=a.current,Jo(n.nodeType===8?n.parentNode:n),ps(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=Du(l);o.call(c)}}var l=$p(n,0,!1,null,null,!1,!1,"",cx);return n._reactRootContainer=l,n[Mi]=l.current,Jo(n.nodeType===8?n.parentNode:n),ps(function(){bh(e,l,t,i)}),l}function kh(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=Du(a);o.call(l)}}bh(e,a,n,r)}else a=QE(t,e,n,r,i);return Du(a)}tw=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vo(e.pendingLanes);t!==0&&(pp(e,t|1),mn(e,mt()),!(ze&6)&&(ba=mt()+500,zr()))}break;case 13:ps(function(){var i=Oi(n,1);if(i!==null){var r=an();Jn(i,n,1,r)}}),Gp(n,1)}};mp=function(n){if(n.tag===13){var e=Oi(n,134217728);if(e!==null){var t=an();Jn(e,n,134217728,t)}Gp(n,134217728)}};nw=function(n){if(n.tag===13){var e=vr(n),t=Oi(n,e);if(t!==null){var i=an();Jn(t,n,e,i)}Gp(n,e)}};iw=function(){return Ue};rw=function(n,e){var t=Ue;try{return Ue=n,e()}finally{Ue=t}};Rf=function(n,e,t){switch(e){case"input":if(Af(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=fh(i);if(!r)throw Error(K(90));O0(i),Af(i,r)}}}break;case"textarea":F0(n,t);break;case"select":e=t.value,e!=null&&na(n,!!t.multiple,e,!1)}};X0=Wp;U0=ps;var ZE={usingClientEntryPoint:!1,Events:[Il,$s,fh,B0,W0,Wp]},ho={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JE={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=G0(n),n===null?null:n.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||KE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{ch=Ic.inject(JE),ui=Ic}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;Sn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kp(e))throw Error(K(200));return qE(n,e,null,t)};Sn.createRoot=function(n,e){if(!Kp(n))throw Error(K(299));var t=!1,i="",r=C1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=$p(n,1,!1,null,null,t,!1,i,r),n[Mi]=e.current,Jo(n.nodeType===8?n.parentNode:n),new qp(e)};Sn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(K(188)):(n=Object.keys(n).join(","),Error(K(268,n)));return n=G0(e),n=n===null?null:n.stateNode,n};Sn.flushSync=function(n){return ps(n)};Sn.hydrate=function(n,e,t){if(!_h(e))throw Error(K(200));return kh(null,n,e,!0,t)};Sn.hydrateRoot=function(n,e,t){if(!Kp(n))throw Error(K(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=C1;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=S1(e,null,n,1,t??null,r,!1,s,a),n[Mi]=e.current,Jo(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new wh(e)};Sn.render=function(n,e,t){if(!_h(e))throw Error(K(200));return kh(null,n,e,!1,t)};Sn.unmountComponentAtNode=function(n){if(!_h(n))throw Error(K(40));return n._reactRootContainer?(ps(function(){kh(null,null,n,!1,function(){n._reactRootContainer=null,n[Mi]=null})}),!0):!1};Sn.unstable_batchedUpdates=Wp;Sn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!_h(t))throw Error(K(200));if(n==null||n._reactInternals===void 0)throw Error(K(38));return kh(n,e,t,!1,i)};Sn.version="18.3.1-next-f1338f8080-20240426";function E1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E1)}catch(n){console.error(n)}}E1(),E0.exports=Sn;var eT=E0.exports,T1,ux=eT;T1=ux.createRoot,ux.hydrateRoot;function tT(){return I.jsx("div",{className:"card",children:I.jsx("p",{className:"muted",children:"This is the React port. Use the sidebar to navigate."})})}/*!
 * ApexCharts v4.7.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function ug(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function I1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hx(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,N1(i.key),i)}}function re(n,e,t){return e&&hx(n.prototype,e),t&&hx(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function xo(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Qp(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw s}}}}function Rl(n){var e=P1();return function(){var t,i=Vu(n);if(e){var r=Vu(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(s,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I1(s)}(this,t)}}function Fu(n,e,t){return(e=N1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vu(n){return Vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vu(n)}function Nl(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hg(n,e)}function P1(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P1=function(){return!!n})()}function dx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Q(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dx(Object(t),!0).forEach(function(i){Fu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hg(n,e){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},hg(n,e)}function R1(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,o,l,c=[],u=!0,h=!1;try{if(o=(r=r.call(t)).next,i===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(s=o.call(r)).done)&&(c.push(s.value),c.length!==i);u=!0);}catch(d){h=!0,a=d}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(n,e)||Qp(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ct(n){return function(e){if(Array.isArray(e))return ug(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||Qp(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N1(n){var e=function(t,i){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:e+""}function wa(n){return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(n)}function Qp(n,e){if(n){if(typeof n=="string")return ug(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ug(n,e):void 0}}var O=function(){function n(){ie(this,n)}return re(n,[{key:"shadeRGBColor",value:function(e,t){var i=t.split(","),r=e<0?0:255,s=e<0?-1*e:e,a=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),l=parseInt(i[2],10);return"rgb("+(Math.round((r-a)*s)+a)+","+(Math.round((r-o)*s)+o)+","+(Math.round((r-l)*s)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var i=parseInt(t.slice(1),16),r=e<0?0:255,s=e<0?-1*e:e,a=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((r-a)*s)+a)+256*(Math.round((r-o)*s)+o)+(Math.round((r-l)*s)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return n.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&wa(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(s),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}return a});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){i.isObject(t[s])&&s in e?r[s]=i.extend(e[s],t[s]):Object.assign(r,Fu({},s,t[s]))}),r}},{key:"extendArray",value:function(e,t){var i=[];return e.map(function(r){i.push(n.extend(t,r))}),e=i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||wa(e)!=="object")return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){t=[],i.set(e,t);for(var r=0;r<e.length;r++)t[r]=this.clone(e[r],i)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},i.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],i));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),i=e.clientHeight,r=e.clientWidth;return i-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,i){return Array.isArray(i)&&(i=i.reduce(function(r,s){return r.length>s.length?r:s})),t.length>i.length?t:i},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var i=e.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var r=0;r<i.length;r++)i[r]=parseInt(i[r].length===1?i[r]+i[r]:i[r],16);return t!==void 0&&i.push(t),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var i=[],r=2*Math.PI/t,s=0;s<t;s++){var a={};a.x=e*Math.sin(s*r),a.y=-e*Math.cos(s*r),i.push(a)}return i}},{key:"polarToCartesian",value:function(e,t,i,r){var s=(r-90)*Math.PI/180;return{x:e+i*Math.cos(s),y:t+i*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=e.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,i){if(i>=e.length)for(var r=i-e.length+1;r--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style.key=t[i])}},{key:"preciseAddition",value:function(e,t){var i=(String(e).split(".")[1]||"").length,r=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(i,r));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*r),t=Math.round(Math.abs(t)*r);t;){var s=t;t=e%t,e=s}return e/r}},{key:"getPrimeFactors",value:function(e){for(var t=[],i=2;e>=2;)e%i==0?(t.push(i),e/=i):i++;return t}},{key:"mod",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*r))%(t=Math.round(Math.abs(t)*r))/r}}]),n}(),La=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"animateLine",value:function(e,t,i,r){e.attr(t).animate(r).attr(i)}},{key:"animateMarker",value:function(e,t,i,r){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){r()})}},{key:"animateRect",value:function(e,t,i,r,s){e.attr(t).animate(r).attr(i).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,i=e.realIndex,r=e.j,s=e.fill,a=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,i,r,u.config.chart.type!=="line"||u.globals.comboCharts?s:"stroke",a,o,l,c*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,i,r,s,a,o,l){var c=this,u=this.w;s||(s=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var h=function(d){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=h()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=h()),u.globals.shouldAnimate||(o=1),e.plot(s).animate(1,l).plot(s).animate(o,l).plot(a).after(function(){O.isNumber(i)?i===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):r!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),n}();const dg={},L1=[];function Ie(n,e){if(Array.isArray(n))for(const t of n)Ie(t,e);else if(typeof n!="object")M1(Object.getOwnPropertyNames(e)),dg[n]=Object.assign(dg[n]||{},e);else for(const t in n)Ie(t,n[t])}function cn(n){return dg[n]||{}}function M1(n){L1.push(...n)}function Zp(n,e){let t;const i=n.length,r=[];for(t=0;t<i;t++)r.push(e(n[t]));return r}function Dd(n){return n%360*Math.PI/180}function Ma(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Oa(n,e,t,i){return e!=null&&t!=null||(i=i||n.bbox(),e==null?e=i.width/i.height*t:t==null&&(t=i.height/i.width*e)),{width:e,height:t}}function fg(n,e){const t=n.origin;let i=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",r=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";t!=null&&([i,r]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const s=typeof i=="string",a=typeof r=="string";if(s||a){const{height:o,width:l,x:c,y:u}=e.bbox();s&&(i=i.includes("left")?c:i.includes("right")?c+l:c+l/2),a&&(r=r.includes("top")?u:r.includes("bottom")?u+o:u+o/2)}return[i,r]}const nT=new Set(["desc","metadata","title"]),gg=n=>nT.has(n.nodeName),O1=(n,e,t={})=>{const i={...e};for(const r in i)i[r].valueOf()===t[r]&&delete i[r];Object.keys(i).length?n.node.setAttribute("data-svgjs",JSON.stringify(i)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},Jp="http://www.w3.org/2000/svg",Fd="http://www.w3.org/2000/xmlns/",Da="http://www.w3.org/1999/xlink",De={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Ll(){return De.window}let em=class{};const cs={},tm="___SYMBOL___ROOT___";function ll(n,e=Jp){return De.document.createElementNS(e,n)}function rn(n,e=!1){if(n instanceof em)return n;if(typeof n=="object")return Vd(n);if(n==null)return new cs[tm];if(typeof n=="string"&&n.charAt(0)!=="<")return Vd(De.document.querySelector(n));const t=e?De.document.createElement("div"):ll("svg");return t.innerHTML=n,n=Vd(t.firstChild),t.removeChild(t.firstChild),n}function $e(n,e){return e&&(e instanceof De.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:ll(n)}function Pn(n){if(!n)return null;if(n.instance instanceof em)return n.instance;if(n.nodeName==="#document-fragment")return new cs.Fragment(n);let e=Ma(n.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":cs[e]||(e="Dom"),new cs[e](n)}let Vd=Pn;function Fe(n,e=n.name,t=!1){return cs[e]=n,t&&(cs[tm]=n),M1(Object.getOwnPropertyNames(n.prototype)),n}let iT=1e3;function D1(n){return"Svgjs"+Ma(n)+iT++}function F1(n){for(let e=n.children.length-1;e>=0;e--)F1(n.children[e]);return n.id&&(n.id=D1(n.nodeName)),n}function ve(n,e){let t,i;for(i=(n=Array.isArray(n)?n:[n]).length-1;i>=0;i--)for(t in e)n[i].prototype[t]=e[t]}function Ye(n){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?n.apply(this,e):n.apply(this,e.slice(0,-1)).attr(t)}}Ie("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const n=this.position();return this.parent().add(this.remove(),n+1),this},backward:function(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(n){(n=rn(n)).remove();const e=this.position();return this.parent().add(n,e),this},after:function(n){(n=rn(n)).remove();const e=this.position();return this.parent().add(n,e+1),this},insertBefore:function(n){return(n=rn(n)).before(this),this},insertAfter:function(n){return(n=rn(n)).after(this),this}});const V1=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,rT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,sT=/rgb\((\d+),(\d+),(\d+)\)/,aT=/(#[a-z_][a-z0-9\-_]*)/i,oT=/\)\s*,?\s*/,lT=/\s/g,fx=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,gx=/^rgb\(/,px=/^(\s+)?$/,mx=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cT=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Wi=/[\s,]+/,nm=/[MLHVCSQTAZ]/i;function uT(n){const e=Math.round(n),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Ds(n,e){for(let t=e.length;t--;)if(n[e[t]]==null)return!1;return!0}function zd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}Ie("Dom",{classes:function(){const n=this.attr("class");return n==null?[]:n.trim().split(Wi)},hasClass:function(n){return this.classes().indexOf(n)!==-1},addClass:function(n){if(!this.hasClass(n)){const e=this.classes();e.push(n),this.attr("class",e.join(" "))}return this},removeClass:function(n){return this.hasClass(n)&&this.attr("class",this.classes().filter(function(e){return e!==n}).join(" ")),this},toggleClass:function(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}}),Ie("Dom",{css:function(n,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const r=i.split(/\s*:\s*/);t[r[0]]=r[1]}),t;if(arguments.length<2){if(Array.isArray(n)){for(const i of n){const r=i;t[i]=this.node.style.getPropertyValue(r)}return t}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const i in n)this.node.style.setProperty(i,n[i]==null||px.test(n[i])?"":n[i])}return arguments.length===2&&this.node.style.setProperty(n,e==null||px.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Ie("Dom",{data:function(n,e,t){if(n==null)return this.data(Zp(function(i,r){let s;const a=i.length,o=[];for(s=0;s<a;s++)r(i[s])&&o.push(i[s]);return o}(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(n instanceof Array){const i={};for(const r of n)i[r]=this.data(r);return i}if(typeof n=="object")for(e in n)this.data(e,n[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch{return this.attr("data-"+n)}else this.attr("data-"+n,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Ie("Dom",{remember:function(n,e){if(typeof arguments[0]=="object")for(const t in n)this.remember(t,n[t]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this},memory:function(){return this._memory=this._memory||{}}});let yi=class _t{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof _t||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:i,round:r,sin:s,PI:a}=Math;if(e==="vibrant"){const o=24*i()+57,l=38*i()+45,c=360*i();return new _t(o,l,c,"lch")}if(e==="sine"){const o=r(80*s(2*a*(t=t??i())/.5+.01)+150),l=r(50*s(2*a*t/.5+4.6)+200),c=r(100*s(2*a*t/.5+2.3)+150);return new _t(o,l,c)}if(e==="pastel"){const o=8*i()+86,l=17*i()+9,c=360*i();return new _t(o,l,c,"lch")}if(e==="dark"){const o=10+10*i(),l=50*i()+86,c=360*i();return new _t(o,l,c,"lch")}if(e==="rgb"){const o=255*i(),l=255*i(),c=255*i();return new _t(o,l,c)}if(e==="lab"){const o=100*i(),l=256*i()-128,c=256*i()-128;return new _t(o,l,c,"lab")}if(e==="grey"){const o=255*i();return new _t(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(fx.test(e)||gx.test(e))}cmyk(){const{_a:e,_b:t,_c:i}=this.rgb(),[r,s,a]=[e,t,i].map(l=>l/255),o=Math.min(1-r,1-s,1-a);return o===1?new _t(0,0,0,1,"cmyk"):new _t((1-r-o)/(1-o),(1-s-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:t,_c:i}=this.rgb(),[r,s,a]=[e,t,i].map(d=>d/255),o=Math.max(r,s,a),l=Math.min(r,s,a),c=(o+l)/2,u=o===l,h=o-l;return new _t(360*(u?0:o===r?((s-a)/h+(s<a?6:0))/6:o===s?((a-r)/h+2)/6:o===a?((r-s)/h+4)/6:0),100*(u?0:c>.5?h/(2-o-l):h/(o+l)),100*c,"hsl")}init(e=0,t=0,i=0,r=0,s="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")s=typeof r=="string"?r:s,r=typeof r=="string"?0:r,Object.assign(this,{_a:e,_b:t,_c:i,_d:r,space:s});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(d,g){const p=Ds(d,"rgb")?{_a:d.r,_b:d.g,_c:d.b,_d:0,space:"rgb"}:Ds(d,"xyz")?{_a:d.x,_b:d.y,_c:d.z,_d:0,space:"xyz"}:Ds(d,"hsl")?{_a:d.h,_b:d.s,_c:d.l,_d:0,space:"hsl"}:Ds(d,"lab")?{_a:d.l,_b:d.a,_c:d.b,_d:0,space:"lab"}:Ds(d,"lch")?{_a:d.l,_b:d.c,_c:d.h,_d:0,space:"lch"}:Ds(d,"cmyk")?{_a:d.c,_b:d.m,_c:d.y,_d:d.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return p.space=g||p.space,p}(e,t);Object.assign(this,h)}else if(typeof e=="string")if(gx.test(e)){const h=e.replace(lT,""),[d,g,p]=sT.exec(h).slice(1,4).map(m=>parseInt(m));Object.assign(this,{_a:d,_b:g,_c:p,_d:0,space:"rgb"})}else{if(!fx.test(e))throw Error("Unsupported string format, can't construct Color");{const h=m=>parseInt(m,16),[,d,g,p]=rT.exec(function(m){return m.length===4?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m}(e)).map(h);Object.assign(this,{_a:d,_b:g,_c:p,_d:0,space:"rgb"})}}const{_a:a,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:a,g:o,b:l}:this.space==="xyz"?{x:a,y:o,z:l}:this.space==="hsl"?{h:a,s:o,l}:this.space==="lab"?{l:a,a:o,b:l}:this.space==="lch"?{l:a,c:o,h:l}:this.space==="cmyk"?{c:a,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:i}=this.xyz();return new _t(116*t-16,500*(e-t),200*(t-i),"lab")}lch(){const{l:e,a:t,b:i}=this.lab(),r=Math.sqrt(t**2+i**2);let s=180*Math.atan2(i,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new _t(e,r,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:i,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:g,a:p,b:m}=this;if(this.space==="lch"){const{c:R,h:k}=this,w=Math.PI/180;p=R*Math.cos(w*k),m=R*Math.sin(w*k)}const x=(g+16)/116,v=p/500+x,y=x-m/200,b=16/116,C=.008856,S=7.787;t=.95047*(v**3>C?v**3:(v-b)/S),i=1*(x**3>C?x**3:(x-b)/S),r=1.08883*(y**3>C?y**3:(y-b)/S)}const s=3.2406*t+-1.5372*i+-.4986*r,a=-.9689*t+1.8758*i+.0415*r,o=.0557*t+-.204*i+1.057*r,l=Math.pow,c=.0031308,u=s>c?1.055*l(s,1/2.4)-.055:12.92*s,h=a>c?1.055*l(a,1/2.4)-.055:12.92*a,d=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new _t(255*u,255*h,255*d)}if(this.space==="hsl"){let{h:t,s:i,l:r}=this;if(t/=360,i/=100,r/=100,i===0)return r*=255,new _t(r,r,r);const s=r<.5?r*(1+i):r+i-r*i,a=2*r-s,o=255*zd(a,s,t+1/3),l=255*zd(a,s,t),c=255*zd(a,s,t-1/3);return new _t(o,l,c)}if(this.space==="cmyk"){const{c:t,m:i,y:r,k:s}=this,a=255*(1-Math.min(1,t*(1-s)+s)),o=255*(1-Math.min(1,i*(1-s)+s)),l=255*(1-Math.min(1,r*(1-s)+s));return new _t(a,o,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:i,_d:r,space:s}=this;return[e,t,i,r,s]}toHex(){const[e,t,i]=this._clamped().map(uT);return`#${e}${t}${i}`}toRgb(){const[e,t,i]=this._clamped();return`rgb(${e},${t},${i})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:i}=this.rgb(),[r,s,a]=[e,t,i].map(x=>x/255),o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=(.4124*o+.3576*l+.1805*c)/.95047,h=(.2126*o+.7152*l+.0722*c)/1,d=(.0193*o+.1192*l+.9505*c)/1.08883,g=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116,m=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new _t(g,p,m,"xyz")}_clamped(){const{_a:e,_b:t,_c:i}=this.rgb(),{max:r,min:s,round:a}=Math;return[e,t,i].map(o=>r(0,s(a(o),255)))}},Xe=class z1{constructor(...e){this.init(...e)}clone(){return new z1(this)}init(e,t){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){he.isMatrixLike(e)||(e=new he(e));const{x:t,y:i}=this;return this.x=e.a*t+e.c*i+e.e,this.y=e.b*t+e.d*i+e.f,this}};function Fs(n,e,t){return Math.abs(e-n)<1e-6}class he{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,i=e.flip&&(t||e.flip==="x")?-1:1,r=e.flip&&(t||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleX)?e.scaleX*i:i,l=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,c=e.shear||0,u=e.rotate||e.theta||0,h=new Xe(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=h.x,g=h.y,p=new Xe(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),m=p.x,x=p.y,v=new Xe(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=v.x,b=v.y,C=new Xe(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:s,skewY:a,shear:c,theta:u,rx:C.x,ry:C.y,tx:y,ty:b,ox:d,oy:g,px:m,py:x}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,i){const r=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return i.a=r,i.b=s,i.c=a,i.d=o,i.e=l,i.f=c,i}around(e,t,i){return this.clone().aroundO(e,t,i)}aroundO(e,t,i){const r=e||0,s=t||0;return this.translateO(-r,-s).lmultiplyO(i).translateO(r,s)}clone(){return new he(this)}decompose(e=0,t=0){const i=this.a,r=this.b,s=this.c,a=this.d,o=this.e,l=this.f,c=i*a-r*s,u=c>0?1:-1,h=u*Math.sqrt(i*i+r*r),d=Math.atan2(u*r,u*i),g=180/Math.PI*d,p=Math.cos(d),m=Math.sin(d),x=(i*s+r*a)/c,v=s*h/(x*i-r)||a*h/(x*r+i);return{scaleX:h,scaleY:v,shear:x,rotate:g,translateX:o-e+e*p*h+t*(x*p*h-m*v),translateY:l-t+e*m*h+t*(x*m*h+p*v),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new he(e);return Fs(this.a,t.a)&&Fs(this.b,t.b)&&Fs(this.c,t.c)&&Fs(this.d,t.d)&&Fs(this.e,t.e)&&Fs(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=he.fromArray([1,0,0,1,0,0]);return e=e instanceof Bt?e.matrixify():typeof e=="string"?he.fromArray(e.split(Wi).map(parseFloat)):Array.isArray(e)?he.fromArray(e):typeof e=="object"&&he.isMatrixLike(e)?e:typeof e=="object"?new he().transform(e):arguments.length===6?he.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,i=this.c,r=this.d,s=this.e,a=this.f,o=e*r-t*i;if(!o)throw new Error("Cannot invert "+this);const l=r/o,c=-t/o,u=-i/o,h=e/o,d=-(l*s+u*a),g=-(c*s+h*a);return this.a=l,this.b=c,this.c=u,this.d=h,this.e=d,this.f=g,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof he?e:new he(e);return he.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof he?e:new he(e);return he.matrixMultiply(this,t,this)}rotate(e,t,i){return this.clone().rotateO(e,t,i)}rotateO(e,t=0,i=0){e=Dd(e);const r=Math.cos(e),s=Math.sin(e),{a,b:o,c:l,d:c,e:u,f:h}=this;return this.a=a*r-o*s,this.b=o*r+a*s,this.c=l*r-c*s,this.d=c*r+l*s,this.e=u*r-h*s+i*s-t*r+t,this.f=h*r+u*s-t*s-i*r+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,i=0,r=0){arguments.length===3&&(r=i,i=t,t=e);const{a:s,b:a,c:o,d:l,e:c,f:u}=this;return this.a=s*e,this.b=a*t,this.c=o*e,this.d=l*t,this.e=c*e-i*e+i,this.f=u*t-r*t+r,this}shear(e,t,i){return this.clone().shearO(e,t,i)}shearO(e,t=0,i=0){const{a:r,b:s,c:a,d:o,e:l,f:c}=this;return this.a=r+s*e,this.c=a+o*e,this.e=l+c*e-i*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,i=0,r=0){arguments.length===3&&(r=i,i=t,t=e),e=Dd(e),t=Dd(t);const s=Math.tan(e),a=Math.tan(t),{a:o,b:l,c,d:u,e:h,f:d}=this;return this.a=o+l*s,this.b=l+o*a,this.c=c+u*s,this.d=u+c*a,this.e=h+d*s-r*s,this.f=d+h*a-i*a,this}skewX(e,t,i){return this.skew(e,0,t,i)}skewY(e,t,i){return this.skew(0,e,t,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(he.isMatrixLike(e))return new he(e).multiplyO(this);const t=he.formatTransforms(e),{x:i,y:r}=new Xe(t.ox,t.oy).transform(this),s=new he().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-i,-r).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(i,r);if(isFinite(t.px)||isFinite(t.py)){const a=new Xe(i,r).transform(s),o=isFinite(t.px)?t.px-a.x:0,l=isFinite(t.py)?t.py-a.y:0;s.translateO(o,l)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function nr(){if(!nr.nodes){const n=rn().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const e=n.path().node;nr.nodes={svg:n,path:e}}if(!nr.nodes.svg.node.parentNode){const n=De.document.body||De.document.documentElement;nr.nodes.svg.addTo(n)}return nr.nodes}function j1(n){return!(n.width||n.height||n.x||n.y)}Fe(he,"Matrix");class dt{constructor(...e){this.init(...e)}addOffset(){return this.x+=De.window.pageXOffset,this.y+=De.window.pageYOffset,new dt(this)}init(e){return e=typeof e=="string"?e.split(Wi).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return j1(this)}merge(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-i;return new dt(t,i,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof he||(e=new he(e));let t=1/0,i=-1/0,r=1/0,s=-1/0;return[new Xe(this.x,this.y),new Xe(this.x2,this.y),new Xe(this.x,this.y2),new Xe(this.x2,this.y2)].forEach(function(a){a=a.transform(e),t=Math.min(t,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),new dt(t,r,i-t,s-r)}}function vx(n,e,t){let i;try{if(i=e(n.node),j1(i)&&(r=n.node)!==De.document&&!(De.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===De.document}).call(De.document.documentElement,r))throw new Error("Element not in the dom")}catch{i=t(n)}var r;return i}Ie({viewbox:{viewbox(n,e,t,i){return n==null?new dt(this.attr("viewBox")):this.attr("viewBox",new dt(n,e,t,i))},zoom(n,e){let{width:t,height:i}=this.attr(["width","height"]);if((t||i)&&typeof t!="string"&&typeof i!="string"||(t=this.node.clientWidth,i=this.node.clientHeight),!t||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),s=t/r.width,a=i/r.height,o=Math.min(s,a);if(n==null)return o;let l=o/n;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new Xe(t/2/s+r.x,i/2/a+r.y);const c=new dt(r).transform(new he({scale:l,origin:e}));return this.viewbox(c)}}}),Fe(dt,"Box");class ms extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}ve([ms],{each(n,...e){return typeof n=="function"?this.map((t,i,r)=>n.call(t,t,i,r)):this.map(t=>t[n](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const hT=["toArray","constructor","each"];function Cs(n,e){return new ms(Zp((e||De.document).querySelectorAll(n),function(t){return Pn(t)}))}ms.extend=function(n){n=n.reduce((e,t)=>(hT.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...i){return this.each(t,...i)}),e),{}),ve([ms],n)};let dT=0;const H1={};function B1(n){let e=n.getEventHolder();return e===De.window&&(e=H1),e.events||(e.events={}),e.events}function im(n){return n.getEventTarget()}function Ei(n,e,t,i,r){const s=t.bind(i||n),a=rn(n),o=B1(a),l=im(a);e=Array.isArray(e)?e:e.split(Wi),t._svgjsListenerId||(t._svgjsListenerId=++dT),e.forEach(function(c){const u=c.split(".")[0],h=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][h]=o[u][h]||{},o[u][h][t._svgjsListenerId]=s,l.addEventListener(u,s,r||!1)})}function Dn(n,e,t,i){const r=rn(n),s=B1(r),a=im(r);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Wi)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,h;if(t)s[l]&&s[l][c||"*"]&&(a.removeEventListener(l,s[l][c||"*"][t],i||!1),delete s[l][c||"*"][t]);else if(l&&c){if(s[l]&&s[l][c]){for(h in s[l][c])Dn(a,[l,c].join("."),h);delete s[l][c]}}else if(c)for(o in s)for(u in s[o])c===u&&Dn(a,[o,c].join("."));else if(l){if(s[l]){for(u in s[l])Dn(a,[l,u].join("."));delete s[l]}}else{for(o in s)Dn(a,o);(function(d){let g=d.getEventHolder();g===De.window&&(g=H1),g.events&&(g.events={})})(r)}})}let Ml=class extends em{addEventListener(){}dispatch(e,t,i){return function(r,s,a,o){const l=im(r);return s instanceof De.window.Event||(s=new De.window.CustomEvent(s,{detail:a,cancelable:!0,...o})),l.dispatchEvent(s),s}(this,e,t,i)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const i=t[e.type];for(const r in i)for(const s in i[r])i[r][s](e);return!e.defaultPrevented}fire(e,t,i){return this.dispatch(e,t,i),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,i){return Dn(this,e,t,i),this}on(e,t,i,r){return Ei(this,e,t,i,r),this}removeEventListener(){}};function yx(){}Fe(Ml,"EventTarget");const jd=400,fT=">",gT=0,pT={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class vs extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Wi).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}let je=class Un{constructor(...e){this.init(...e)}convert(e){return new Un(this.value,e)}divide(e){return e=new Un(e),new Un(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(V1))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Un&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Un(e),new Un(this-e,this.unit||e.unit)}plus(e){return e=new Un(e),new Un(this+e,this.unit||e.unit)}times(e){return e=new Un(e),new Un(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const mT=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),W1=[];class Er extends Ml{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=rn(e)).removeNamespace&&this.node instanceof De.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return rn(e).put(this,t)}children(){return new ms(Zp(this.node.children,function(e){return Pn(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let i=this.node.cloneNode(e);return t&&(i=F1(i)),new this.constructor(i)}each(e,t){const i=this.children();let r,s;for(r=0,s=i.length;r<s;r++)e.apply(i[r],[r,i]),t&&i[r].each(e,t);return this}element(e,t){return this.put(new Er(ll(e),t))}first(){return Pn(this.node.firstChild)}get(e){return Pn(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=D1(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Pn(this.node.lastChild)}matches(e){const t=this.node,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return i&&i.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Pn(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Pn(t.node.parentNode));return t}put(e,t){return e=rn(e),this.add(e,t),e}putIn(e,t){return rn(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=rn(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const i=10**e,r=this.attr(t);for(const s in r)typeof r[s]=="number"&&(r[s]=Math.round(r[s]*i)/i);return this.attr(r),this}svg(e,t){return this.xml(e,t,Jp)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const i=t.index(this);return t.put(e,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let o=this;if(e!=null){if(o=Pn(o.node.cloneNode(!0)),t){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?o.node.outerHTML:o.node.innerHTML}t=t!=null&&t;const r=ll("wrapper",i),s=De.document.createDocumentFragment();r.innerHTML=e;for(let o=r.children.length;o--;)s.appendChild(r.firstElementChild);const a=this.parent();return t?this.replace(s)&&a:this.add(s)}}ve(Er,{attr:function(n,e,t){if(n==null){n={},e=this.node.attributes;for(const i of e)n[i.nodeName]=mx.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return n}if(n instanceof Array)return n.reduce((i,r)=>(i[r]=this.attr(r),i),{});if(typeof n=="object"&&n.constructor===Object)for(e in n)this.attr(e,n[e]);else if(e===null)this.node.removeAttribute(n);else{if(e==null)return(e=this.node.getAttribute(n))==null?pT[n]:mx.test(e)?parseFloat(e):e;typeof(e=W1.reduce((i,r)=>r(n,i,this),e))=="number"?e=new je(e):mT.has(n)&&yi.isColor(e)?e=new yi(e):e.constructor===Array&&(e=new vs(e)),n==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,n,e.toString()):this.node.setAttribute(n,e.toString()),!this.rebuild||n!=="font-size"&&n!=="x"||this.rebuild()}return this},find:function(n){return Cs(n,this.node)},findOne:function(n){return Pn(this.node.querySelector(n))}}),Fe(Er,"Dom");let Bt=class extends Er{constructor(n,e){super(n,e),this.dom={},this.node.instance=this,(n.hasAttribute("data-svgjs")||n.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(n.getAttribute("data-svgjs"))??JSON.parse(n.getAttribute("svgjs:data"))??{})}center(n,e){return this.cx(n).cy(e)}cx(n){return n==null?this.x()+this.width()/2:this.x(n-this.width()/2)}cy(n){return n==null?this.y()+this.height()/2:this.y(n-this.height()/2)}defs(){const n=this.root();return n&&n.defs()}dmove(n,e){return this.dx(n).dy(e)}dx(n=0){return this.x(new je(n).plus(this.x()))}dy(n=0){return this.y(new je(n).plus(this.y()))}getEventHolder(){return this}height(n){return this.attr("height",n)}move(n,e){return this.x(n).y(e)}parents(n=this.root()){const e=typeof n=="string";e||(n=rn(n));const t=new ms;let i=this;for(;(i=i.parent())&&i.node!==De.document&&i.nodeName!=="#document-fragment"&&(t.push(i),e||i.node!==n.node)&&(!e||!i.matches(n));)if(i.node===this.root().node)return null;return t}reference(n){if(!(n=this.attr(n)))return null;const e=(n+"").match(aT);return e?rn(e[1]):null}root(){const n=this.parent(function(e){return cs[e]}(tm));return n&&n.root()}setData(n){return this.dom=n,this}size(n,e){const t=Oa(this,n,e);return this.width(new je(t.width)).height(new je(t.height))}width(n){return this.attr("width",n)}writeDataToDom(){return O1(this,this.dom),super.writeDataToDom()}x(n){return this.attr("x",n)}y(n){return this.attr("y",n)}};ve(Bt,{bbox:function(){const n=vx(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(nr().svg).show(),i=t.node.getBBox();return t.remove(),i}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new dt(n)},rbox:function(n){const e=vx(this,i=>i.getBoundingClientRect(),i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)}),t=new dt(e);return n?t.transform(n.screenCTM().inverseO()):t.addOffset()},inside:function(n,e){const t=this.bbox();return n>t.x&&e>t.y&&n<t.x+t.width&&e<t.y+t.height},point:function(n,e){return new Xe(n,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new he(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),e=n.node.getScreenCTM();return n.remove(),new he(e)}return new he(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new he}}}),Fe(Bt,"Element");const fo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,e){return e==="color"?n:n+"-"+e}};["fill","stroke"].forEach(function(n){const e={};let t;e[n]=function(i){if(i===void 0)return this.attr(n);if(typeof i=="string"||i instanceof yi||yi.isRgb(i)||i instanceof Bt)this.attr(n,i);else for(t=fo[n].length-1;t>=0;t--)i[fo[n][t]]!=null&&this.attr(fo.prefix(n,fo[n][t]),i[fo[n][t]]);return this},Ie(["Element","Runner"],e)}),Ie(["Element","Runner"],{matrix:function(n,e,t,i,r,s){return n==null?new he(this):this.attr("transform",new he(n,e,t,i,r,s))},rotate:function(n,e,t){return this.transform({rotate:n,ox:e,oy:t},!0)},skew:function(n,e,t,i){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:e,oy:t},!0):this.transform({skew:[n,e],ox:t,oy:i},!0)},shear:function(n,e,t){return this.transform({shear:n,ox:e,oy:t},!0)},scale:function(n,e,t,i){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:e,oy:t},!0):this.transform({scale:[n,e],ox:t,oy:i},!0)},translate:function(n,e){return this.transform({translate:[n,e]},!0)},relative:function(n,e){return this.transform({relative:[n,e]},!0)},flip:function(n="both",e="center"){return"xybothtrue".indexOf(n)===-1&&(e=n,n="both"),this.transform({flip:n,origin:e},!0)},opacity:function(n){return this.attr("opacity",n)}}),Ie("radius",{radius:function(n,e=n){return(this._element||this).type==="radialGradient"?this.attr("r",new je(n)):this.rx(n).ry(e)}}),Ie("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new Xe(this.node.getPointAtLength(n))}}),Ie(["Element","Runner"],{font:function(n,e){if(typeof n=="object"){for(e in n)this.font(e,n[e]);return this}return n==="leading"?this.leading(e):n==="anchor"?this.attr("text-anchor",e):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,e):this.attr(n,e)}});Ie("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(n,e){return n[e]=function(t){return t===null?this.off(e):this.on(e,t),this},n},{})),Ie("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(oT).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(Wi).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(he.fromArray(t[1])):e[t[0]].apply(e,t[1])},new he)},toParent:function(n,e){if(this===n)return this;if(gg(this.node))return this.addTo(n,e);const t=this.screenCTM(),i=n.screenCTM().inverse();return this.addTo(n,e).untransform().transform(i.multiply(t)),this},toRoot:function(n){return this.toParent(this.root(),n)},transform:function(n,e){if(n==null||typeof n=="string"){const i=new he(this).decompose();return n==null?i:i[n]}he.isMatrixLike(n)||(n={...n,origin:fg(n,this)});const t=new he(e===!0?this:e||!1).transform(n);return this.attr("transform",t)}});let En=class X1 extends Bt{flatten(){return this.each(function(){if(this instanceof X1)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(i,r){return r[r.length-i-1].toParent(e,t)}),this.remove()}};Fe(En,"Container");class Ah extends En{constructor(e,t=e){super($e("defs",e),t)}flatten(){return this}ungroup(){return this}}Fe(Ah,"Defs");class Tn extends Bt{}function rm(n){return this.attr("rx",n)}function sm(n){return this.attr("ry",n)}function U1(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function Y1(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function $1(n){return this.attr("cx",n)}function G1(n){return this.attr("cy",n)}function q1(n){return n==null?2*this.rx():this.rx(new je(n).divide(2))}function K1(n){return n==null?2*this.ry():this.ry(new je(n).divide(2))}Fe(Tn,"Shape");var vT=Object.freeze({__proto__:null,cx:$1,cy:G1,height:K1,rx:rm,ry:sm,width:q1,x:U1,y:Y1});class Qc extends Tn{constructor(e,t=e){super($e("ellipse",e),t)}size(e,t){const i=Oa(this,e,t);return this.rx(new je(i.width).divide(2)).ry(new je(i.height).divide(2))}}ve(Qc,vT),Ie("Container",{ellipse:Ye(function(n=0,e=n){return this.put(new Qc).size(n,e).move(0,0)})}),Fe(Qc,"Ellipse");class Q1 extends Er{constructor(e=De.document.createDocumentFragment()){super(e)}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){const r=new Er(ll("wrapper",i));return r.add(this.node.cloneNode(!0)),r.xml(!1,i)}return super.xml(e,!1,i)}}function Z1(n,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new je(n),fy:new je(e)}):this.attr({x1:new je(n),y1:new je(e)})}function J1(n,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new je(n),cy:new je(e)}):this.attr({x2:new je(n),y2:new je(e)})}Fe(Q1,"Fragment");var yT=Object.freeze({__proto__:null,from:Z1,to:J1});class Fo extends En{constructor(e,t){super($e(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,i){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,i)}bbox(){return new dt}targets(){return Cs("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ve(Fo,yT),Ie({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:Ye(function(n,e){return this.put(new Fo(n)).update(e)})}}),Fe(Fo,"Gradient");class cl extends En{constructor(e,t=e){super($e("pattern",e),t)}attr(e,t,i){return e==="transform"&&(e="patternTransform"),super.attr(e,t,i)}bbox(){return new dt}targets(){return Cs("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ie({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:Ye(function(n,e,t){return this.put(new cl).update(t).attr({x:0,y:0,width:n,height:e,patternUnits:"userSpaceOnUse"})})}}),Fe(cl,"Pattern");let Zc=class extends Tn{constructor(n,e=n){super($e("image",n),e)}load(n,e){if(!n)return this;const t=new De.window.Image;return Ei(t,"load",function(i){const r=this.parent(cl);this.width()===0&&this.height()===0&&this.size(t.width,t.height),r instanceof cl&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)},this),Ei(t,"load error",function(){Dn(t)}),this.attr("href",t.src=n,Da)}};var xx;xx=function(n,e,t){return n!=="fill"&&n!=="stroke"||cT.test(e)&&(e=t.root().defs().image(e)),e instanceof Zc&&(e=t.root().defs().pattern(0,0,i=>{i.add(e)})),e},W1.push(xx),Ie({Container:{image:Ye(function(n,e){return this.put(new Zc).size(0,0).load(n,e)})}}),Fe(Zc,"Image");class Tr extends vs{bbox(){let e=-1/0,t=-1/0,i=1/0,r=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),i=Math.min(s[0],i),r=Math.min(s[1],r)}),new dt(i,r,e-i,t-r)}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Wi).map(parseFloat)).length%2!=0&&e.pop();for(let i=0,r=e.length;i<r;i+=2)t.push([e[i],e[i+1]]);return t}size(e,t){let i;const r=this.bbox();for(i=this.length-1;i>=0;i--)r.width&&(this[i][0]=(this[i][0]-r.x)*e/r.width+r.x),r.height&&(this[i][1]=(this[i][1]-r.y)*t/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,i=this.length;t<i;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){he.isMatrixLike(e)||(e=new he(e));for(let t=this.length;t--;){const[i,r]=this[t];this[t][0]=e.a*i+e.c*r+e.e,this[t][1]=e.b*i+e.d*r+e.f}return this}}const xT=Tr;var am=Object.freeze({__proto__:null,MorphArray:xT,height:function(n){const e=this.bbox();return n==null?e.height:this.size(e.width,n)},width:function(n){const e=this.bbox();return n==null?e.width:this.size(n,e.height)},x:function(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)},y:function(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}});let is=class extends Tn{constructor(n,e=n){super($e("line",n),e)}array(){return new Tr([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(n,e){return this.attr(this.array().move(n,e).toLine())}plot(n,e,t,i){return n==null?this.array():(n=e!==void 0?{x1:n,y1:e,x2:t,y2:i}:new Tr(n).toLine(),this.attr(n))}size(n,e){const t=Oa(this,n,e);return this.attr(this.array().size(t.width,t.height).toLine())}};ve(is,am),Ie({Container:{line:Ye(function(...n){return is.prototype.plot.apply(this.put(new is),n[0]!=null?n:[0,0,0,0])})}}),Fe(is,"Line");let Jc=class extends En{constructor(n,e=n){super($e("marker",n),e)}height(n){return this.attr("markerHeight",n)}orient(n){return this.attr("orient",n)}ref(n,e){return this.attr("refX",n).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(n){return this.clear(),typeof n=="function"&&n.call(this,this),this}width(n){return this.attr("markerWidth",n)}};function ea(n,e){return function(t){return t==null?this[n]:(this[n]=t,e&&e.call(this),this)}}Ie({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:Ye(function(n,e,t){return this.put(new Jc).size(n,e).ref(n/2,e/2).viewbox(0,0,n,e).attr("orient","auto").update(t)})},marker:{marker(n,e,t,i){let r=["marker"];return n!=="all"&&r.push(n),r=r.join("-"),n=arguments[1]instanceof Jc?arguments[1]:this.defs().marker(e,t,i),this.attr(r,n)}}}),Fe(Jc,"Marker");const bT={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return 1-Math.cos(n*Math.PI/2)},bezier:function(n,e,t,i){return function(r){return r<0?n>0?e/n*r:t>0?i/t*r:0:r>1?t<1?(1-i)/(1-t)*r+(i-t)/(1-t):n<1?(1-e)/(1-n)*r+(e-n)/(1-n):1:3*r*(1-r)**2*e+3*r**2*(1-r)*i+r**3}},steps:function(n,e="end"){e=e.split("-").reverse()[0];let t=n;return e==="none"?--t:e==="both"&&++t,(i,r=!1)=>{let s=Math.floor(i*n);const a=i*s%1==0;return e!=="start"&&e!=="both"||++s,r&&a&&--s,i>=0&&s<0&&(s=0),i<=1&&s>t&&(s=t),s/t}}};class om{done(){return!1}}class pg extends om{constructor(e=fT){super(),this.ease=bT[e]||e}step(e,t,i){return typeof e!="number"?i<1?e:t:e+(t-e)*this.ease(i)}}class zu extends om{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,i,r){return this.stepper(e,t,i,r)}}function bx(){const n=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,i=Math.log(e/100+1e-10),r=-i/Math.sqrt(t*t+i*i),s=3.9/(r*n);this.d=2*r*s,this.k=s*s}ve(class extends zu{constructor(n=500,e=0){super(),this.duration(n).overshoot(e)}step(n,e,t,i){if(typeof n=="string")return n;if(i.done=t===1/0,t===1/0)return e;if(t===0)return n;t>100&&(t=16),t/=1e3;const r=i.velocity||0,s=-this.d*r-this.k*(n-e),a=n+r*t+s*t*t/2;return i.velocity=r+s*t,i.done=Math.abs(e-a)+Math.abs(r)<.002,i.done?e:a}},{duration:ea("_duration",bx),overshoot:ea("_overshoot",bx)});ve(class extends zu{constructor(n=.1,e=.01,t=0,i=1e3){super(),this.p(n).i(e).d(t).windup(i)}step(n,e,t,i){if(typeof n=="string")return n;if(i.done=t===1/0,t===1/0)return e;if(t===0)return n;const r=e-n;let s=(i.integral||0)+r*t;const a=(r-(i.error||0))/t,o=this._windup;return o!==!1&&(s=Math.max(-o,Math.min(s,o))),i.error=r,i.integral=s,i.done=Math.abs(r)<.001,i.done?e:n+(this.P*r+this.I*s+this.D*a)}},{windup:ea("_windup"),p:ea("P"),i:ea("I"),d:ea("D")});const wT={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},mg={M:function(n,e,t){return e.x=t.x=n[0],e.y=t.y=n[1],["M",e.x,e.y]},L:function(n,e){return e.x=n[0],e.y=n[1],["L",n[0],n[1]]},H:function(n,e){return e.x=n[0],["H",n[0]]},V:function(n,e){return e.y=n[0],["V",n[0]]},C:function(n,e){return e.x=n[4],e.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,e){return e.x=n[2],e.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,e){return e.x=n[2],e.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,e){return e.x=n[0],e.y=n[1],["T",n[0],n[1]]},Z:function(n,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(n,e){return e.x=n[5],e.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},Hd="mlhvqtcsaz".split("");for(let n=0,e=Hd.length;n<e;++n)mg[Hd[n]]=function(t){return function(i,r,s){if(t==="H")i[0]=i[0]+r.x;else if(t==="V")i[0]=i[0]+r.y;else if(t==="A")i[5]=i[5]+r.x,i[6]=i[6]+r.y;else for(let a=0,o=i.length;a<o;++a)i[a]=i[a]+(a%2?r.y:r.x);return mg[t](i,r,s)}}(Hd[n].toUpperCase());function vg(n){return n.segment.length&&n.segment.length-1===wT[n.segment[0].toUpperCase()]}function _T(n,e){n.inNumber&&Kr(n,!1);const t=nm.test(e);if(t)n.segment=[e];else{const i=n.lastCommand,r=i.toLowerCase(),s=i===r;n.segment=[r==="m"?s?"l":"L":i]}return n.inSegment=!0,n.lastCommand=n.segment[0],t}function Kr(n,e){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=e,n.number="",n.pointSeen=!1,n.hasExponent=!1,vg(n)&&yg(n)}function yg(n){n.inSegment=!1,n.absolute&&(n.segment=function(e){const t=e.segment[0];return mg[t](e.segment.slice(1),e.p,e.p0)}(n)),n.segments.push(n.segment)}function kT(n){if(!n.segment.length)return!1;const e=n.segment[0].toUpperCase()==="A",t=n.segment.length;return e&&(t===4||t===5)}function AT(n){return n.lastToken.toUpperCase()==="E"}const ST=new Set([" ",",","	",`
`,"\r","\f"]);class qn extends vs{bbox(){return nr().path.setAttribute("d",this.toString()),new dt(nr.nodes.path.getBBox())}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]+=e,this[s][2]+=t):r==="H"?this[s][1]+=e:r==="V"?this[s][1]+=t:r==="C"||r==="S"||r==="Q"?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,r==="C"&&(this[s][5]+=e,this[s][6]+=t)):r==="A"&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,i=!0){let r=0,s="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new Xe,p:new Xe};for(;a.lastToken=s,s=t.charAt(r++);)if(a.inSegment||!_T(a,s))if(s!==".")if(isNaN(parseInt(s)))if(ST.has(s))a.inNumber&&Kr(a,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(nm.test(s)){if(a.inNumber)Kr(a,!1);else{if(!vg(a))throw new Error("parser Error");yg(a)}--r}}else a.number+=s,a.hasExponent=!0;else{if(a.inNumber&&!AT(a)){Kr(a,!1),--r;continue}a.number+=s,a.inNumber=!0}else{if(a.number==="0"||kT(a)){a.inNumber=!0,a.number=s,Kr(a,!0);continue}a.inNumber=!0,a.number+=s}else{if(a.pointSeen||a.hasExponent){Kr(a,!1),--r;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=s}return a.inNumber&&Kr(a,!1),a.inSegment&&vg(a)&&yg(a),a.segments}(e)}size(e,t){const i=this.bbox();let r,s;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]=(this[r][1]-i.x)*e/i.width+i.x,this[r][2]=(this[r][2]-i.y)*t/i.height+i.y):s==="H"?this[r][1]=(this[r][1]-i.x)*e/i.width+i.x:s==="V"?this[r][1]=(this[r][1]-i.y)*t/i.height+i.y:s==="C"||s==="S"||s==="Q"?(this[r][1]=(this[r][1]-i.x)*e/i.width+i.x,this[r][2]=(this[r][2]-i.y)*t/i.height+i.y,this[r][3]=(this[r][3]-i.x)*e/i.width+i.x,this[r][4]=(this[r][4]-i.y)*t/i.height+i.y,s==="C"&&(this[r][5]=(this[r][5]-i.x)*e/i.width+i.x,this[r][6]=(this[r][6]-i.y)*t/i.height+i.y)):s==="A"&&(this[r][1]=this[r][1]*e/i.width,this[r][2]=this[r][2]*t/i.height,this[r][6]=(this[r][6]-i.x)*e/i.width+i.x,this[r][7]=(this[r][7]-i.y)*t/i.height+i.y);return this}toString(){return function(e){let t="";for(let i=0,r=e.length;i<r;i++)t+=e[i][0],e[i][1]!=null&&(t+=e[i][1],e[i][2]!=null&&(t+=" ",t+=e[i][2],e[i][3]!=null&&(t+=" ",t+=e[i][3],t+=" ",t+=e[i][4],e[i][5]!=null&&(t+=" ",t+=e[i][5],t+=" ",t+=e[i][6],e[i][7]!=null&&(t+=" ",t+=e[i][7])))));return t+" "}(this)}}const e_=n=>{const e=typeof n;return e==="number"?je:e==="string"?yi.isColor(n)?yi:Wi.test(n)?nm.test(n)?qn:vs:V1.test(n)?je:xg:bg.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?vs:e==="object"?ul:xg};class Qr{constructor(e){this._stepper=e||new pg("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(e_(e));let t=new this._type(e);return this._type===yi&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===ul&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(i){return i.done=!0,i}),t}}class xg{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ol{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Ol.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Ol.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const CT=(n,e)=>n[0]<e[0]?-1:n[0]>e[0]?1:0;class ul{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let i=0,r=t.length;i<r;++i){if(t[i+1]===e[i+1]){if(t[i+1]===yi&&e[i+7]!==t[i+7]){const o=e[i+7],l=new yi(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...l)}i+=t[i+2]+2;continue}if(!e[i+1])return this;const s=new e[i+1]().toArray(),a=t[i+2]+3;t.splice(i,a,e[i],e[i+1],e[i+2],...s),i+=t[i+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const i in e){const r=e_(e[i]),s=new r(e[i]).toArray();t.push([i,r,s.length,...s])}return t.sort(CT),this.values=t.reduce((i,r)=>i.concat(r),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const i=t.shift(),r=t.shift(),s=t.shift(),a=t.splice(0,s);e[i]=new r(a)}return e}}const bg=[xg,Ol,ul];class la extends Tn{constructor(e,t=e){super($e("path",e),t)}array(){return this._array||(this._array=new qn(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new qn(e))}size(e,t){const i=Oa(this,e,t);return this.attr("d",this.array().size(i.width,i.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}la.prototype.MorphArray=qn,Ie({Container:{path:Ye(function(n){return this.put(new la).plot(n||new qn)})}}),Fe(la,"Path");var t_=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Tr(this.attr("points")))},clear:function(){return delete this._array,this},move:function(n,e){return this.attr("points",this.array().move(n,e))},plot:function(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new Tr(n))},size:function(n,e){const t=Oa(this,n,e);return this.attr("points",this.array().size(t.width,t.height))}});class rs extends Tn{constructor(e,t=e){super($e("polygon",e),t)}}Ie({Container:{polygon:Ye(function(n){return this.put(new rs).plot(n||new Tr)})}}),ve(rs,am),ve(rs,t_),Fe(rs,"Polygon");class ss extends Tn{constructor(e,t=e){super($e("polyline",e),t)}}Ie({Container:{polyline:Ye(function(n){return this.put(new ss).plot(n||new Tr)})}}),ve(ss,am),ve(ss,t_),Fe(ss,"Polyline");class eu extends Tn{constructor(e,t=e){super($e("rect",e),t)}}ve(eu,{rx:rm,ry:sm}),Ie({Container:{rect:Ye(function(n,e){return this.put(new eu).size(n,e)})}}),Fe(eu,"Rect");class Bd{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Be={nextDraw:null,frames:new Bd,timeouts:new Bd,immediates:new Bd,timer:()=>De.window.performance||De.window.Date,transforms:[],frame(n){const e=Be.frames.push({run:n});return Be.nextDraw===null&&(Be.nextDraw=De.window.requestAnimationFrame(Be._draw)),e},timeout(n,e){e=e||0;const t=Be.timer().now()+e,i=Be.timeouts.push({run:n,time:t});return Be.nextDraw===null&&(Be.nextDraw=De.window.requestAnimationFrame(Be._draw)),i},immediate(n){const e=Be.immediates.push(n);return Be.nextDraw===null&&(Be.nextDraw=De.window.requestAnimationFrame(Be._draw)),e},cancelFrame(n){n!=null&&Be.frames.remove(n)},clearTimeout(n){n!=null&&Be.timeouts.remove(n)},cancelImmediate(n){n!=null&&Be.immediates.remove(n)},_draw(n){let e=null;const t=Be.timeouts.last();for(;(e=Be.timeouts.shift())&&(n>=e.time?e.run():Be.timeouts.push(e),e!==t););let i=null;const r=Be.frames.last();for(;i!==r&&(i=Be.frames.shift());)i.run(n);let s=null;for(;s=Be.immediates.shift();)s();Be.nextDraw=Be.timeouts.first()||Be.frames.first()?De.window.requestAnimationFrame(Be._draw):null}},ET=function(n){const e=n.start,t=n.runner.duration();return{start:e,duration:t,end:e+t,runner:n.runner}},TT=function(){const n=De.window;return(n.performance||n.Date).now()};class n_ extends Ml{constructor(e=TT){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const i=Math.abs(t);return this.speed(e?-i:i)}schedule(e,t,i){if(e==null)return this._runners.map(ET);let r=0;const s=this.getEndTime();if(t=t||0,i==null||i==="last"||i==="after")r=s;else if(i==="absolute"||i==="start")r=t,t=0;else if(i==="now")r=this._time;else if(i==="relative"){const l=this.getRunnerInfoById(e.id);l&&(r=l.start+t,t=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();r=l?l.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),o={persist:a===null?this._persist:a,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Be.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Be.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let i=t-this._lastSourceTime;e&&(i=0);const r=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const o=this._runners[a],l=o.runner;this._time-o.start<=0&&l.reset()}let s=!1;for(let a=0,o=this._runners.length;a<o;a++){const l=this._runners[a],c=l.runner;let u=r;const h=this._time-l.start;if(h<=0){s=!0;continue}h<u&&(u=h),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--a,--o):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Ie({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new n_,this._timeline):(this._timeline=n,this)}}});class kn extends Ml{constructor(e){super(),this.id=kn.id++,e=typeof(e=e??jd)=="function"?new zu(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof zu,this._stepper=this._isDeclarative?e:new pg,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new he,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,i){let r=1,s=!1,a=0;return t=t??gT,i=i||"last",typeof(e=e??jd)!="object"||e instanceof om||(t=e.delay??t,i=e.when??i,s=e.swing||s,r=e.times??r,a=e.wait??a,e=e.duration??jd),{duration:e,delay:t,swing:s,times:r,wait:a,when:i}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,i){const r=kn.sanitise(e,t,i),s=new kn(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new he,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new pg(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,i){return typeof e=="object"&&(t=e.swing,i=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/t),a=(this._time-s*t)/this._duration;return Math.min(s+a,this._times)}const i=e%1,r=t*Math.floor(e)+this._duration*i;return this.time(r)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,i=this._duration,r=this._wait,s=this._times,a=this._swing,o=this._reverse;let l;if(e==null){const h=function(g){const p=a*Math.floor(g%(2*(r+i))/(r+i)),m=p&&!o||!p&&o,x=Math.pow(-1,m)*(g%(r+i))/i+m;return Math.max(Math.min(x,1),0)},d=s*(r+i)-r;return l=t<=0?Math.round(h(1e-5)):t<d?h(t):Math.round(h(d-1e-5)),l}const c=Math.floor(this.loops()),u=a&&c%2==0;return l=c+(u&&!o||o&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,i,r){return this._queue.push({initialiser:e||yx,runner:t||yx,retarget:i,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,i){if(e instanceof n_||(i=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,i),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),i=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const r=this.duration(),s=this._lastTime<=0&&this._time>0,a=this._lastTime<r&&this._time>=r;this._lastTime=this._time,s&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!a&&this._time>=r,this._reseted=!1;let l=!1;return(i||o)&&(this._initialise(i),this.transforms=new he,l=this._run(o?e:t),this.fire("step",this)),this.done=this.done||l&&o,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,i=this._queue.length;t<i;++t){const r=this._queue[t],s=this._isDeclarative||!r.initialised&&e;e=!r.finished,s&&e&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(e){let t=!0;for(let i=0,r=this._queue.length;i<r;++i){const s=this._queue[i],a=s.runner.call(this,e);s.finished=s.finished||a===!0,t=t&&s.finished}return t}_tryRetarget(e,t,i){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,i):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}kn.id=0;class ju{constructor(e=new he,t=-1,i=!0){this.transforms=e,this.id=t,this.done=i}clearTransformsFromQueue(){}}ve([kn,ju],{mergeWith(n){return new ju(n.transforms.lmultiply(this.transforms),n.id)}});const i_=(n,e)=>n.lmultiplyO(e),r_=n=>n.transforms;function IT(){const n=this._transformationRunners.runners.map(r_).reduce(i_,new he);this.transform(n),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class PT{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new ju).forEach(i=>i.clearTransformsFromQueue()),this}edit(e,t){const i=this.ids.indexOf(e+1);return this.ids.splice(i,1,e+1),this.runners.splice(i,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const i=this.runners[t];if(e&&i.done&&e.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(i.id);const r=i.mergeWith(e);this.edit(e.id,r),e=r,--t}else e=i}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Ie({Element:{animate(n,e,t){const i=kn.sanitise(n,e,t),r=this.timeline();return new kn(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(n,e){return this.animate(0,n,e)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter(e=>e.id<=n.id).map(r_).reduce(i_,new he)},_addRunner(n){this._transformationRunners.add(n),Be.cancelImmediate(this._frameId),this._frameId=Be.immediate(IT.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new PT().add(new ju(new he(this))))}}});ve(kn,{attr(n,e){return this.styleAttr("attr",n,e)},css(n,e){return this.styleAttr("css",n,e)},styleAttr(n,e,t){if(typeof e=="string")return this.styleAttr(n,{[e]:t});let i=e;if(this._tryRetarget(n,i))return this;let r=new Qr(this._stepper).to(i),s=Object.keys(i);return this.queue(function(){r=r.from(this.element()[n](s))},function(a){return this.element()[n](r.at(a).valueOf()),r.done()},function(a){const o=Object.keys(a),l=(c=s,o.filter(h=>!c.includes(h)));var c;if(l.length){const h=this.element()[n](l),d=new ul(r.from()).valueOf();Object.assign(d,h),r.from(d)}const u=new ul(r.to()).valueOf();Object.assign(u,a),r.to(u),s=o,i=a}),this._rememberMorpher(n,r),this},zoom(n,e){if(this._tryRetarget("zoom",n,e))return this;let t=new Qr(this._stepper).to(new je(n));return this.queue(function(){t=t.from(this.element().zoom())},function(i){return this.element().zoom(t.at(i),e),t.done()},function(i,r){e=r,t.to(i)}),this._rememberMorpher("zoom",t),this},transform(n,e,t){if(e=n.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",n))return this;const i=he.isMatrixLike(n);t=n.affine!=null?n.affine:t??!i;const r=new Qr(this._stepper).type(t?Ol:he);let s,a,o,l,c;return this.queue(function(){a=a||this.element(),s=s||fg(n,a),c=new he(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:d}=new Xe(s).transform(a._currentTransform(this));let g=new he({...n,origin:[h,d]}),p=this._isDeclarative&&o?o:c;if(t){g=g.decompose(h,d),p=p.decompose(h,d);const x=g.rotate,v=p.rotate,y=[x-360,x,x+360],b=y.map(R=>Math.abs(R-v)),C=Math.min(...b),S=b.indexOf(C);g.rotate=y[S]}e&&(i||(g.rotate=n.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),r.from(p),r.to(g);const m=r.at(u);return l=m.rotate,o=new he(m),this.addTransform(o),a._addRunner(this),r.done()},function(u){(u.origin||"center").toString()!==(n.origin||"center").toString()&&(s=fg(u,a)),n={...u,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,e){return this.dx(n).dy(e)},_queueNumberDelta(n,e){if(e=new je(e),this._tryRetarget(n,e))return this;const t=new Qr(this._stepper).to(e);let i=null;return this.queue(function(){i=this.element()[n](),t.from(i),t.to(i+e)},function(r){return this.element()[n](t.at(r)),t.done()},function(r){t.to(i+new je(r))}),this._rememberMorpher(n,t),this},_queueObject(n,e){if(this._tryRetarget(n,e))return this;const t=new Qr(this._stepper).to(e);return this.queue(function(){t.from(this.element()[n]())},function(i){return this.element()[n](t.at(i)),t.done()}),this._rememberMorpher(n,t),this},_queueNumber(n,e){return this._queueObject(n,new je(e))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,e){return this.x(n).y(e)},amove(n,e){return this.ax(n).ay(e)},center(n,e){return this.cx(n).cy(e)},size(n,e){let t;return n&&e||(t=this._element.bbox()),n||(n=t.width/t.height*e),e||(e=t.height/t.width*n),this.width(n).height(e)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,e,t,i){if(arguments.length===4)return this.plot([n,e,t,i]);if(this._tryRetarget("plot",n))return this;const r=new Qr(this._stepper).type(this._element.MorphArray).to(n);return this.queue(function(){r.from(this._element.array())},function(s){return this._element.plot(r.at(s)),r.done()}),this._rememberMorpher("plot",r),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,e,t,i){return this._queueObject("viewbox",new dt(n,e,t,i))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}}),ve(kn,{rx:rm,ry:sm,from:Z1,to:J1}),Fe(kn,"Runner");class wg extends En{constructor(e,t=e){super($e("svg",e),t),this.namespace()}defs(){return this.isRoot()?Pn(this.node.querySelector("defs"))||this.put(new Ah):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof De.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Jp,version:"1.1"}).attr("xmlns:xlink",Da,Fd):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Fd).attr("xmlns:svgjs",null,Fd)}root(){return this.isRoot()?this:super.root()}}Ie({Container:{nested:Ye(function(){return this.put(new wg)})}}),Fe(wg,"Svg",!0);let _g=class extends En{constructor(n,e=n){super($e("symbol",n),e)}};Ie({Container:{symbol:Ye(function(){return this.put(new _g)})}}),Fe(_g,"Symbol");var s_=Object.freeze({__proto__:null,amove:function(n,e){return this.ax(n).ay(e)},ax:function(n){return this.attr("x",n)},ay:function(n){return this.attr("y",n)},build:function(n){return this._build=!!n,this},center:function(n,e,t=this.bbox()){return this.cx(n,t).cy(e,t)},cx:function(n,e=this.bbox()){return n==null?e.cx:this.attr("x",this.attr("x")+n-e.cx)},cy:function(n,e=this.bbox()){return n==null?e.cy:this.attr("y",this.attr("y")+n-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(n,e,t=this.bbox()){return this.x(n,t).y(e,t)},plain:function(n){return this._build===!1&&this.clear(),this.node.appendChild(De.document.createTextNode(n)),this},x:function(n,e=this.bbox()){return n==null?e.x:this.attr("x",this.attr("x")+n-e.x)},y:function(n,e=this.bbox()){return n==null?e.y:this.attr("y",this.attr("y")+n-e.y)}});class Kn extends Tn{constructor(e,t=e){super($e("text",e),t),this.dom.leading=this.dom.leading??new je(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new je(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let i=0;const r=this.dom.leading;this.each(function(s){if(gg(this.node))return;const a=De.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=r*new je(a);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",s?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new je(e.leading||1.3),this}writeDataToDom(){return O1(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let i=0;e="";for(let r=0,s=t.length;r<s;++r)t[r].nodeName==="textPath"||gg(t[r])?r===0&&(i=r+1):(r!==i&&t[r].nodeType!==3&&Pn(t[r]).dom.newLined===!0&&(e+=`
`),e+=t[r].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,i=(e=(e+"").split(`
`)).length;t<i;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}ve(Kn,s_),Ie({Container:{text:Ye(function(n=""){return this.put(new Kn).text(n)}),plain:Ye(function(n=""){return this.put(new Kn).plain(n)})}}),Fe(Kn,"Text");class tu extends Tn{constructor(e,t=e){super($e("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Kn))return this;const t=e.index(this),i=De.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new je(i);return this.dy(t?r:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}ve(tu,s_),Ie({Tspan:{tspan:Ye(function(n=""){const e=new tu;return this._build||this.clear(),this.put(e).text(n)})},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}}),Fe(tu,"Tspan");class Wd extends Tn{constructor(e,t=e){super($e("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new je(e).divide(2))}}ve(Wd,{x:U1,y:Y1,cx:$1,cy:G1,width:q1,height:K1}),Ie({Container:{circle:Ye(function(n=0){return this.put(new Wd).size(n).move(0,0)})}}),Fe(Wd,"Circle");class Xd extends En{constructor(e,t=e){super($e("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Cs("svg [clip-path*="+this.id()+"]")}}Ie({Container:{clip:Ye(function(){return this.defs().put(new Xd)})},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const e=n instanceof Xd?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Fe(Xd,"ClipPath");class wx extends Bt{constructor(e,t=e){super($e("foreignObject",e),t)}}Ie({Container:{foreignObject:Ye(function(n,e){return this.put(new wx).size(n,e)})}}),Fe(wx,"ForeignObject");var a_=Object.freeze({__proto__:null,dmove:function(n,e){return this.children().forEach(t=>{let i;try{i=t.node instanceof Ll().SVGSVGElement?new dt(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const r=new he(t),s=r.translate(n,e).transform(r.inverse()),a=new Xe(i.x,i.y).transform(s);t.move(a.x,a.y)}),this},dx:function(n){return this.dmove(n,0)},dy:function(n){return this.dmove(0,n)},height:function(n,e=this.bbox()){return n==null?e.height:this.size(e.width,n,e)},move:function(n=0,e=0,t=this.bbox()){const i=n-t.x,r=e-t.y;return this.dmove(i,r)},size:function(n,e,t=this.bbox()){const i=Oa(this,n,e,t),r=i.width/t.width,s=i.height/t.height;return this.children().forEach(a=>{const o=new Xe(t).transform(new he(a).inverse());a.scale(r,s,o.x,o.y)}),this},width:function(n,e=this.bbox()){return n==null?e.width:this.size(n,e.height,e)},x:function(n,e=this.bbox()){return n==null?e.x:this.move(n,e.y,e)},y:function(n,e=this.bbox()){return n==null?e.y:this.move(e.x,n,e)}});class xr extends En{constructor(e,t=e){super($e("g",e),t)}}ve(xr,a_),Ie({Container:{group:Ye(function(){return this.put(new xr)})}}),Fe(xr,"G");class Pc extends En{constructor(e,t=e){super($e("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Da)}}ve(Pc,a_),Ie({Container:{link:Ye(function(n){return this.put(new Pc).to(n)})},Element:{unlink(){const n=this.linker();if(!n)return this;const e=n.parent();if(!e)return this.remove();const t=e.index(n);return e.add(this,t),n.remove(),this},linkTo(n){let e=this.linker();return e||(e=new Pc,this.wrap(e)),typeof n=="function"?n.call(e,e):e.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}}),Fe(Pc,"A");class Ud extends En{constructor(e,t=e){super($e("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Cs("svg [mask*="+this.id()+"]")}}Ie({Container:{mask:Ye(function(){return this.defs().put(new Ud)})},Element:{masker(){return this.reference("mask")},maskWith(n){const e=n instanceof Ud?n:this.parent().mask().add(n);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Fe(Ud,"Mask");class _x extends Bt{constructor(e,t=e){super($e("stop",e),t)}update(e){return(typeof e=="number"||e instanceof je)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new je(e.offset)),this}}Ie({Gradient:{stop:function(n,e,t){return this.put(new _x).update(n,e,t)}}}),Fe(_x,"Stop");class Yd extends Bt{constructor(e,t=e){super($e("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,i={}){return this.rule("@font-face",{fontFamily:e,src:t,...i})}rule(e,t){return this.addText(function(i,r){if(!i)return"";if(!r)return i;let s=i+"{";for(const a in r)s+=a.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+r[a]+";";return s+="}",s}(e,t))}}Ie("Dom",{style(n,e){return this.put(new Yd).rule(n,e)},fontface(n,e,t){return this.put(new Yd).font(n,e,t)}}),Fe(Yd,"Style");class $d extends Kn{constructor(e,t=e){super($e("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let i=null;return t&&(i=t.plot(e)),e==null?i:this}track(){return this.reference("href")}}Ie({Container:{textPath:Ye(function(n,e){return n instanceof Kn||(n=this.text(n)),n.path(e)})},Text:{path:Ye(function(n,e=!0){const t=new $d;let i;if(n instanceof la||(n=this.defs().path(n)),t.attr("href","#"+n,Da),e)for(;i=this.node.firstChild;)t.node.appendChild(i);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:Ye(function(n){return n instanceof Kn||(n=new Kn().addTo(this.parent()).text(n)),n.path(this)}),targets(){return Cs("svg textPath").filter(n=>(n.attr("href")||"").includes(this.id()))}}}),$d.prototype.MorphArray=qn,Fe($d,"TextPath");class kx extends Tn{constructor(e,t=e){super($e("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Da)}}Ie({Container:{use:Ye(function(n,e){return this.put(new kx).use(n,e)})}}),Fe(kx,"Use");const RT=rn;ve([wg,_g,Zc,cl,Jc],cn("viewbox")),ve([is,ss,rs,la],cn("marker")),ve(Kn,cn("Text")),ve(la,cn("Path")),ve(Ah,cn("Defs")),ve([Kn,tu],cn("Tspan")),ve([eu,Qc,Fo,kn],cn("radius")),ve(Ml,cn("EventTarget")),ve(Er,cn("Dom")),ve(Bt,cn("Element")),ve(Tn,cn("Shape")),ve([En,Q1],cn("Container")),ve(Fo,cn("Gradient")),ve(kn,cn("Runner")),ms.extend([...new Set(L1)]),function(n=[]){bg.push(...[].concat(n))}([je,yi,dt,he,vs,Tr,qn,Xe]),ve(bg,{to(n){return new Qr().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,e,t,i,r){return this.fromArray(n.map(function(s,a){return i.step(s,e[a],t,r[a],r)}))}});class Ke extends Bt{constructor(e){super($e("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Cs('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class lm extends Bt{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const In=n=>function(...e){for(let t=n.length;t--;)e[t]!=null&&this.attr(n[t],e[t])},NT={blend:In(["in","in2","mode"]),colorMatrix:In(["type","values"]),composite:In(["in","in2","operator"]),convolveMatrix:function(n){n=new vs(n).toString(),this.attr({order:Math.sqrt(n.split(" ").length),kernelMatrix:n})},diffuseLighting:In(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:In(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:In(["in","dx","dy","stdDeviation"]),flood:In(["flood-color","flood-opacity"]),gaussianBlur:function(n=0,e=n){this.attr("stdDeviation",n+" "+e)},image:function(n){this.attr("href",n,Da)},morphology:In(["operator","radius"]),offset:In(["dx","dy"]),specularLighting:In(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:In([]),turbulence:In(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(n=>{const e=Ma(n),t=NT[n];Ke[e+"Effect"]=class extends lm{constructor(i){super($e("fe"+e,i),i)}update(i){return t.apply(this,i),this}},Ke.prototype[n]=Ye(function(i,...r){const s=new Ke[e+"Effect"];return i==null?this.put(s):(typeof i=="function"?i.call(s,s):r.unshift(i),this.put(s).update(r))})}),ve(Ke,{merge(n){const e=this.put(new Ke.MergeEffect);return typeof n=="function"?(n.call(e,e),e):((n instanceof Array?n:[...arguments]).forEach(t=>{t instanceof Ke.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(n={}){const e=this.put(new Ke.ComponentTransferEffect);if(typeof n=="function")return n.call(e,e),e;n.r||n.g||n.b||n.a||(n={r:n,g:n,b:n,a:n});for(const t in n)e.add(new Ke["Func"+t.toUpperCase()](n[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(n=>{const e=Ma(n);Ke[e]=class extends lm{constructor(t){super($e("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(n){const e=Ke[Ma(n)],t=Ye(function(){return this.put(new e)});Ke.ComponentTransferEffect.prototype[n]=t});["distantLight","pointLight","spotLight"].forEach(n=>{const e=Ke[Ma(n)],t=Ye(function(){return this.put(new e)});Ke.DiffuseLightingEffect.prototype[n]=t,Ke.SpecularLightingEffect.prototype[n]=t}),ve(Ke.MergeEffect,{mergeNode(n){return this.put(new Ke.MergeNode).attr("in",n)}}),ve(Ah,{filter:function(n){const e=this.put(new Ke);return typeof n=="function"&&n.call(e,e),e}}),ve(En,{filter:function(n){return this.defs().filter(n)}}),ve(Bt,{filterWith:function(n){const e=n instanceof Ke?n:this.defs().filter(n);return this.attr("filter",e)},unfilter:function(n){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const LT={blend:function(n,e){return this.parent()&&this.parent().blend(this,n,e)},colorMatrix:function(n,e){return this.parent()&&this.parent().colorMatrix(n,e).in(this)},componentTransfer:function(n){return this.parent()&&this.parent().componentTransfer(n).in(this)},composite:function(n,e){return this.parent()&&this.parent().composite(this,n,e)},convolveMatrix:function(n){return this.parent()&&this.parent().convolveMatrix(n).in(this)},diffuseLighting:function(n,e,t,i){return this.parent()&&this.parent().diffuseLighting(n,t,i).in(this)},displacementMap:function(n,e,t,i){return this.parent()&&this.parent().displacementMap(this,n,e,t,i)},dropShadow:function(n,e,t){return this.parent()&&this.parent().dropShadow(this,n,e,t).in(this)},flood:function(n,e){return this.parent()&&this.parent().flood(n,e)},gaussianBlur:function(n,e){return this.parent()&&this.parent().gaussianBlur(n,e).in(this)},image:function(n){return this.parent()&&this.parent().image(n)},merge:function(n){return n=n instanceof Array?n:[...n],this.parent()&&this.parent().merge(this,...n)},morphology:function(n,e){return this.parent()&&this.parent().morphology(n,e).in(this)},offset:function(n,e){return this.parent()&&this.parent().offset(n,e).in(this)},specularLighting:function(n,e,t,i,r){return this.parent()&&this.parent().specularLighting(n,t,i,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(n,e,t,i,r){return this.parent()&&this.parent().turbulence(n,e,t,i,r).in(this)}};ve(lm,LT),ve(Ke.MergeEffect,{in:function(n){return n instanceof Ke.MergeNode?this.add(n,0):this.add(new Ke.MergeNode().in(n),0),this}}),ve([Ke.CompositeEffect,Ke.BlendEffect,Ke.DisplacementMapEffect],{in2:function(n){if(n==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",n)}}),Ke.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var zt=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"getDefaultFilter",value:function(e,t){var i=this.w;e.unfilter(!0),new Ke().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,i){var r,s=this,a=this.w;if(e.unfilter(!0),i!=="none"){var o,l,c=a.config.chart.dropShadow,u=i==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&s.addShadow(h,t,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,i,r){var s,a=this.w,o=i.blur,l=i.top,c=i.left,u=i.color,h=i.opacity;if(u=Array.isArray(u)?u[t]:u,((s=a.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:r,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",r])}},{key:"dropShadow",value:function(e,t){var i,r,s,a,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),O.isMsEdge()&&u.config.chart.type==="radialBar"||((i=u.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(c))===-1?e:(e.filterWith(function(h){l.addShadow(h,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(o=a.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node),e)}},{key:"setSelectionFilter",value:function(e,t,i){var r=this.w;if(r.globals.selectedDataPoints[t]!==void 0&&r.globals.selectedDataPoints[t].indexOf(i)>-1){e.node.setAttribute("selected",!0);var s=r.config.states.active.filter;s!=="none"&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),n}(),W=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"roundPathCorners",value:function(e,t){function i(w,A,T){var P=A.x-w.x,L=A.y-w.y,N=Math.sqrt(P*P+L*L);return r(w,A,Math.min(1,T/N))}function r(w,A,T){return{x:w.x+(A.x-w.x)*T,y:w.y+(A.y-w.y)*T}}function s(w,A){w.length>2&&(w[w.length-2]=A.x,w[w.length-1]=A.y)}function a(w){return{x:parseFloat(w[w.length-2]),y:parseFloat(w[w.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(w,A){var T=A.match(/^([a-zA-Z])(.+)/);return T?(w.push(T[1]),w.push(T[2])):w.push(A),w},[]).reduce(function(w,A){return parseFloat(A)==A&&w.length?w[w.length-1].push(A):w.push([A]),w},[]),l=[];if(o.length>1){var c=a(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",c.x,c.y],o[o.length-1]=u),l.push(o[0]);for(var h=1;h<o.length;h++){var d=l[l.length-1],g=o[h],p=g==u?o[1]:o[h+1];if(p&&d&&d.length>2&&g[0]=="L"&&p.length>2&&p[0]=="L"){var m,x,v=a(d),y=a(g),b=a(p);m=i(y,v,t),x=i(y,b,t),s(g,m),g.origPoint=y,l.push(g);var C=r(m,y,.5),S=r(y,x,.5),R=["C",C.x,C.y,S.x,S.y,x.x,x.y];R.origPoint=y,l.push(R)}else l.push(g)}if(u){var k=a(l[l.length-1]);l.push(["Z"]),s(l[0],k)}}else l=o;return l.reduce(function(w,A){return w+A.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:i,y2:r,stroke:s,"stroke-dasharray":a,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:i>0?i:0,height:r>0?r:0,rx:s,ry:s,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),h.node.setAttribute("fill",a),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":i})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var i=this.w.globals.dom.Paper.circle(2*e);return t!==null&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,i=t===void 0?"":t,r=e.stroke,s=r===void 0?"#a8a8a8":r,a=e.strokeWidth,o=a===void 0?1:a,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,h=e.strokeOpacity,d=h===void 0?1:h,g=e.classes,p=e.strokeLinecap,m=p===void 0?null:p,x=e.strokeDashArray,v=x===void 0?0:x,y=this.w;return m===null&&(m=y.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(i).attr({fill:l,"fill-opacity":u,stroke:s,"stroke-opacity":d,"stroke-linecap":m,"stroke-width":o,"stroke-dasharray":v,class:g})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var i=["M",e,t].join(" ");return i}},{key:"line",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=null;return i===null?r=[" L",e,t].join(" "):i==="H"?r=[" H",e].join(" "):i==="V"&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,i,r,s,a){var o=["C",e,t,i,r,s,a].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,i,r){return["Q",e,t,i,r].join(" ")}},{key:"arc",value:function(e,t,i,r,s,a,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,i,r,s,a,o].join(" ");return c}},{key:"renderPaths",value:function(e){var t,i=e.j,r=e.realIndex,s=e.pathFrom,a=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,h=e.animationDelay,d=e.initialSpeed,g=e.dataChangeSpeed,p=e.className,m=e.chartType,x=e.shouldClipToGrid,v=x===void 0||x,y=e.bindEventsOnPaths,b=y===void 0||y,C=e.drawShadow,S=C===void 0||C,R=this.w,k=new zt(this.ctx),w=new La(this.ctx),A=this.w.config.chart.animations.enabled,T=A&&this.w.config.chart.animations.dynamicAnimation.enabled;if(s&&s.startsWith("M 0 0")&&a){var P=a.match(/^M\s+[\d.-]+\s+[\d.-]+/);P&&(s=s.replace(/^M\s+0\s+0/,P[0]))}var L=!!(A&&!R.globals.resized||T&&R.globals.dataChanged&&R.globals.shouldAnimate);L?t=s:(t=a,R.globals.animationEnded=!0);var N=R.config.stroke.dashArray,V=0;V=Array.isArray(N)?N[r]:R.config.stroke.dashArray;var H=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:u,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:V});H.attr("index",r),v&&(m==="bar"&&!R.globals.isHorizontal||R.globals.comboCharts?H.attr({"clip-path":"url(#gridRectBarMask".concat(R.globals.cuid,")")}):H.attr({"clip-path":"url(#gridRectMask".concat(R.globals.cuid,")")})),R.config.chart.dropShadow.enabled&&S&&k.dropShadow(H,R.config.chart.dropShadow,r),b&&(H.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,H)),H.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,H)),H.node.addEventListener("mousedown",this.pathMouseDown.bind(this,H))),H.attr({pathTo:a,pathFrom:s});var Y={el:H,j:i,realIndex:r,pathFrom:s,pathTo:a,fill:u,strokeWidth:l,delay:h};return!A||R.globals.resized||R.globals.dataChanged?!R.globals.resized&&R.globals.dataChanged||w.showDelayedElements():w.animatePathsGradually(Q(Q({},Y),{},{speed:d})),R.globals.dataChanged&&T&&L&&w.animatePathsGradually(Q(Q({},Y),{},{speed:g})),H}},{key:"drawPattern",value:function(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,i,function(a){e==="horizontalLines"?a.line(0,0,i,0).stroke({color:r,width:s+1}):e==="verticalLines"?a.line(0,0,0,t).stroke({color:r,width:s+1}):e==="slantedLines"?a.line(0,0,t,i).stroke({color:r,width:s}):e==="squares"?a.rect(t,i).fill("none").stroke({color:r,width:s}):e==="circles"&&a.circle(t).fill("none").stroke({color:r,width:s})})}},{key:"drawGradient",value:function(e,t,i,r,s){var a,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=O.hexToRgba(t,r)),i.length<9&&i.indexOf("#")===0&&(i=O.hexToRgba(i,s));var d=0,g=1,p=1,m=null;l!==null&&(d=l[0]!==void 0?l[0]/100:0,g=l[1]!==void 0?l[1]/100:1,p=l[2]!==void 0?l[2]/100:1,m=l[3]!==void 0?l[3]/100:null);var x=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(a=c&&c.length!==0?h.globals.dom.Paper.gradient(x?"radial":"linear",function(b){(Array.isArray(c[u])?c[u]:c).forEach(function(C){b.stop(C.offset/100,C.color,C.opacity)})}):h.globals.dom.Paper.gradient(x?"radial":"linear",function(b){b.stop(d,t,r),b.stop(g,i,s),b.stop(p,i,s),m!==null&&b.stop(m,t,r)}),x){var v=h.globals.gridWidth/2,y=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:v,cy:y,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,i=e.maxWidth,r=e.fontSize,s=e.fontFamily,a=this.getTextRects(t,r,s),o=a.width/t.length,l=Math.floor(i/o);return i<a.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,i=e.x,r=e.y,s=e.text,a=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,h=e.opacity,d=e.maxWidth,g=e.cssClass,p=g===void 0?"":g,m=e.isPlainText,x=m===void 0||m,v=e.dominantBaseline,y=v===void 0?"auto":v,b=this.w;s===void 0&&(s="");var C=s;a||(a="start"),u&&u.length||(u=b.config.chart.foreColor),l=l||b.config.chart.fontFamily,c=c||"regular";var S,R={maxWidth:d,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(s)?S=b.globals.dom.Paper.text(function(k){for(var w=0;w<s.length;w++)C=s[w],d&&(C=t.getTextBasedOnMaxWidth(Q({text:s[w]},R))),w===0?k.tspan(C):k.tspan(C).newLine()}):(d&&(C=this.getTextBasedOnMaxWidth(Q({text:s},R))),S=x?b.globals.dom.Paper.plain(s):b.globals.dom.Paper.text(function(k){return k.tspan(C)})),S.attr({x:i,y:r,"text-anchor":a,"dominant-baseline":y,"font-size":o,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+p}),S.node.style.fontFamily=l,S.node.style.opacity=h,S}},{key:"getMarkerPath",value:function(e,t,i,r){var s="";switch(i){case"cross":s="M ".concat(e-(r/=1.4)," ").concat(t-r," L ").concat(e+r," ").concat(t+r,"  M ").concat(e-r," ").concat(t+r," L ").concat(e+r," ").concat(t-r);break;case"plus":s="M ".concat(e-(r/=1.12)," ").concat(t," L ").concat(e+r," ").concat(t,"  M ").concat(e," ").concat(t-r," L ").concat(e," ").concat(t+r);break;case"star":case"sparkle":var a=5;r*=1.15,i==="sparkle"&&(r/=1.1,a=4);for(var o=Math.PI/a,l=0;l<=2*a;l++){var c=l*o,u=l%2==0?r:r/2;s+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(t-u*Math.cos(c))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t+r,` 
             L `).concat(e-r," ").concat(t+r,` 
             Z`);break;case"square":case"rect":s="M ".concat(e-(r/=1.125)," ").concat(t-r,` 
           L `).concat(e+r," ").concat(t-r,` 
           L `).concat(e+r," ").concat(t+r,` 
           L `).concat(e-r," ").concat(t+r,` 
           Z`);break;case"diamond":r*=1.05,s="M ".concat(e," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t,` 
             L `).concat(e," ").concat(t+r,` 
             L `).concat(e-r," ").concat(t,` 
            Z`);break;case"line":s="M ".concat(e-(r/=1.1)," ").concat(t,` 
           L `).concat(e+r," ").concat(t);break;default:r*=2,s="M ".concat(e,", ").concat(t,` 
           m -`).concat(r/2,`, 0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,`,0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,i,r,s){var a=this.drawPath({d:this.getMarkerPath(e,t,i,r,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),a}},{key:"drawMarker",value:function(e,t,i){e=e||0;var r=i.pSize||0;return O.isNumber(t)||(r=0,t=0),this.drawMarkerShape(e,t,i==null?void 0:i.shape,r,Q(Q({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var i=this.w,r=new zt(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}]),(i.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;r.applyFilter(e,s,o.type)}}},{key:"pathMouseLeave",value:function(e,t){var i=this.w,r=new zt(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}]),i.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&r.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var i=this.w,r=new zt(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),i.globals.selectedDataPoints[s].indexOf(a)>-1){var l=i.globals.selectedDataPoints[s].indexOf(a);i.globals.selectedDataPoints[s].splice(l,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var c=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(p){Array.prototype.forEach.call(p,function(m){m.node.setAttribute("selected","false"),r.getDefaultFilter(m,s)})};h(c),h(u)}e.node.setAttribute("selected","true"),o="true",i.globals.selectedDataPoints[s]===void 0&&(i.globals.selectedDataPoints[s]=[]),i.globals.selectedDataPoints[s].push(a)}if(o==="true"){var d=i.config.states.active.filter;if(d!=="none")r.applyFilter(e,s,d.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var g=i.config.states.hover.filter;r.applyFilter(e,s,g.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?r.getDefaultFilter(e,s):(g=i.config.states.hover.filter,r.applyFilter(e,s,g.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:i}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:i}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,i,r){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:i,foreColor:"#fff",opacity:0});r&&o.attr("transform",r),a.globals.dom.Paper.add(o);var l=o.bbox();return s||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,i){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=i/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=i/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}}]),n}(),ft=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,i=[];if(t.globals.series.length===0)return i;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var s=0,a=0;a<t.globals.series.length;a++)t.globals.series[a][r]!==void 0&&e.indexOf(a)===-1&&(s+=t.globals.series[a][r]);i.push(s)}return i}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,i){return t+i},0):this.w.globals.series[e].reduce(function(t,i){return t+i},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,i=[];return t.globals.seriesGroups.forEach(function(r){var s=[];t.config.series.forEach(function(o,l){r.indexOf(t.globals.seriesNames[l])>-1&&s.push(l)});var a=t.globals.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});i.push(e.getStackedSeriesTotals(a))}),i}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,i=[],r=[],s=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(h){return Array.isArray(h.seriesName)});t.series.forEach(function(h,d){s.push(d),r.push(null)}),t.yaxis.forEach(function(h,d){i[d]=[]});var o=[];t.yaxis.forEach(function(h,d){var g=!1;if(h.seriesName){var p=[];Array.isArray(h.seriesName)?p=h.seriesName:p.push(h.seriesName),p.forEach(function(m){t.series.forEach(function(x,v){if(x.name===m){var y=v;d===v||a?!a||s.indexOf(v)>-1?i[d].push([d,v]):console.warn("Series '"+x.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[v].push([v,d]),y=d),g=!0,(y=s.indexOf(y))!==-1&&s.splice(y,1)}})})}g||o.push(d)}),i=i.map(function(h,d){var g=[];return h.forEach(function(p){r[p[1]]=p[0],g.push(p[1])}),g});for(var l=t.yaxis.length-1,c=0;c<o.length&&(l=o[c],i[l]=[],s);c++){var u=s[0];s.shift(),i[l].push(u),r[u]=l}s.forEach(function(h){i[l].push(h),r[h]=l}),e.seriesYAxisMap=i.map(function(h){return h}),e.seriesYAxisReverseMap=r.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,d){h.forEach(function(g){t.series[g]&&t.series[g].group===void 0&&(t.series[g].group="apexcharts-axis-".concat(d.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,i,r){return t===r[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,i=e.slice();return t.config.xaxis.convertedCatToNumeric&&(i=e.map(function(r,s){return t.config.xaxis.labels.formatter(r-t.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(i){t=Math.max(t,i)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(i){t=Math.max(t,i.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,i){var r=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=t[s];else r+=t;return r})}},{key:"getSeriesTotalsXRange",value:function(e,t){var i=this.w;return i.globals.series.map(function(r,s){for(var a=0,o=0;o<r.length;o++)i.globals.seriesX[s][o]>e&&i.globals.seriesX[s][o]<t&&(a+=r[o]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,i){var r=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var a=e.globals.stackedSeriesTotals[s],o=0;a&&(o=100*t[s]/a),r.push(o)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);r.push(l)}return r})}},{key:"getCalculatedRatios",value:function(){var e,t,i,r=this,s=this.w,a=s.globals,o=[],l=0,c=[],u=.1,h=0;if(a.yRange=[],a.isMultipleYAxis)for(var d=0;d<a.minYArr.length;d++)a.yRange.push(Math.abs(a.minYArr[d]-a.maxYArr[d])),c.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var g=0;g<a.yRange.length;g++)o.push(a.yRange[g]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,i=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var p=function(x,v){var y=s.config.yaxis[s.globals.seriesYAxisReverseMap[v]],b=x<0?-1:1;return x=Math.abs(x),y.logarithmic&&(x=r.getBaseLog(y.logBase,x)),-b*x/o[v]};if(a.isMultipleYAxis){c=[];for(var m=0;m<o.length;m++)c.push(p(a.minYArr[m],m))}else(c=[]).push(p(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(u=-a.minY/e,h=a.minX/t)}else(c=[]).push(0),u=0,h=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:i,baseLineInvertedY:u,baseLineY:c,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,i=this.w;return i.globals.seriesLog=e.map(function(r,s){var a=i.globals.seriesYAxisReverseMap[s];return i.config.yaxis[a]&&i.config.yaxis[a].logarithmic?r.map(function(o){return o===null?null:t.getLogVal(i.config.yaxis[a].logBase,o,s)}):r}),i.globals.invalidLogScale?e:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var i=this.w,r=i.globals.seriesYAxisReverseMap[t];return i.config.yaxis[r]&&i.config.yaxis[r].logarithmic?this.getLogVal(i.config.yaxis[r].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,i){if(t<=0)return 0;var r=this.w,s=r.globals.minYArr[i]===0?-1:this.getBaseLog(e,r.globals.minYArr[i]),a=(r.globals.maxYArr[i]===0?0:this.getBaseLog(e,r.globals.maxYArr[i]))-s;return t<1?t/a:(this.getBaseLog(e,t)-s)/a}},{key:"getLogYRatios",value:function(e){var t=this,i=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(s,a){var o=i.globals.seriesYAxisReverseMap[a];if(i.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return r.seriesLog.forEach(function(h,d){h.forEach(function(g){i.config.yaxis[d]&&i.config.yaxis[d].logarithmic&&(c=Math.max(g,c),u=Math.min(g,u))})}),l=Math.pow(r.yRange[a],Math.abs(u-c)/r.yRange[a]),r.yLogRatio[a]=l/r.gridHeight,l}}),r.invalidLogScale?e.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,i,r){var s=this.w,a=[];return e.series.length>0&&t.forEach(function(o){var l=[],c=[];e.i.forEach(function(u,h){s.config.series[u].group===o&&(l.push(e.series[h]),c.push(u))}),l.length>0&&a.push(r.draw(l,i,c))}),a}}],[{key:"checkComboSeries",value:function(e,t){var i=!1,r=0,s=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||r++,a.type!==void 0&&a.type!==t&&s++}),s>0&&(i=!0),{comboBarCount:r,comboCharts:i}}},{key:"extendArrayProps",value:function(e,t,i){var r,s,a,o,l,c;return(r=t)!==null&&r!==void 0&&r.yaxis&&(t=e.extendYAxis(t,i)),(s=t)!==null&&s!==void 0&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(a=t)!==null&&a!==void 0&&(o=a.annotations)!==null&&o!==void 0&&o.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),n}(),Sh=function(){function n(e){ie(this,n),this.w=e.w,this.annoCtx=e}return re(n,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(e.label.orientation==="vertical"){var r=t!==null?t:0,s=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(s!==null){var a=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-a.height+4);var o=e.label.position==="top"?a.width:-a.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(s),c=l.x,u=l.y;s.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var i=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var r=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),a=t.label.style.padding,o=a.left,l=a.right,c=a.top,u=a.bottom;if(t.label.orientation==="vertical"){var h=[o,l,c,u];c=h[0],u=h[1],o=h[2],l=h[3]}var d=s.left-r.left-o,g=s.top-r.top-c,p=this.annoCtx.graphics.drawRect(d-i.globals.barPadForNumericAxis,g,s.width+o+l,s.height+c+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,i=function(r,s,a){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,r);c&&(l.insertBefore(c.node,o),r.label.mouseEnter&&c.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&c.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)),r.label.click&&c.node.addEventListener("click",r.label.click.bind(e,r)))}};t.config.annotations.xaxis.forEach(function(r,s){return i(r,s,"xaxis")}),t.config.annotations.yaxis.forEach(function(r,s){return i(r,s,"yaxis")}),t.config.annotations.points.forEach(function(r,s){return i(r,s,"point")})}},{key:"getY1Y2",value:function(e,t){var i,r=this.w,s=e==="y1"?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var o=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,l=o.indexOf(s),c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));i=c?parseFloat(c.getAttribute("y")):(r.globals.gridHeight/o.length-1)*(l+1)-r.globals.barHeight,t.seriesIndex!==void 0&&r.globals.barHeight&&(i-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*t.seriesIndex)}else{var u,h=r.globals.seriesYAxisMap[t.yAxisIndex][0],d=r.config.yaxis[t.yAxisIndex].logarithmic?new ft(this.annoCtx.ctx).getLogVal(r.config.yaxis[t.yAxisIndex].logBase,s,h)/r.globals.yLogRatio[h]:(s-r.globals.minYArr[h])/(r.globals.yRange[h]/r.globals.gridHeight);i=r.globals.gridHeight-Math.min(Math.max(d,0),r.globals.gridHeight),a=d>r.globals.gridHeight||d<0,!t.marker||t.y!==void 0&&t.y!==null||(i=0),(u=r.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(i=d)}return typeof s=="string"&&s.includes("px")&&(i=parseFloat(s)),{yP:i,clipped:a}}},{key:"getX1X2",value:function(e,t){var i=this.w,r=e==="x1"?t.x:t.x2,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(a-r)/(o/i.globals.gridWidth):(r-s)/(o/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(c=this.getStringX(r)),typeof r=="string"&&r.includes("px")&&(c=parseFloat(r)),r==null&&t.marker&&(c=i.globals.gridWidth),t.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*t.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(i.globals.gridWidth.toFixed(10))?(c=i.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,i=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return s&&(i=parseFloat(s.getAttribute("x"))),i}}]),n}(),MT=function(){function n(e){ie(this,n),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Sh(this.annoCtx)}return re(n,[{key:"addXaxisAnnotation",value:function(e,t,i){var r,s=this.w,a=this.helpers.getX1X2("x1",e),o=a.x,l=a.clipped,c=!0,u=e.label.text,h=e.strokeDashArray;if(O.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var d=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{var g=this.helpers.getX1X2("x2",e);if(r=g.x,c=g.clipped,r<o){var p=o;o=r,r=p}var m=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,r-o,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}if(!l||!c){var x=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),v=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?x.width/2:0):s.globals.gridHeight,y=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:v+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?x.width/2-12:-x.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:i}),t.appendChild(y.node),this.annoCtx.helpers.setOrientations(e,i)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(r,s){e.addXaxisAnnotation(r,i.node,s)}),i}}]),n}(),Ft=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return re(n,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var i=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var i=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(Ct(i.months)),a=[""].concat(Ct(i.shortMonths)),o=[""].concat(Ct(i.days)),l=[""].concat(Ct(i.shortDays));function c(w,A){var T=w+"";for(A=A||2;T.length<A;)T="0"+T;return T}var u=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+c(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var g=r?e.getUTCHours():e.getHours(),p=g>12?g-12:g===0?12:g;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(g))).replace(/(^|[^\\])H/g,"$1"+g)).replace(/(^|[^\\])hh+/g,"$1"+c(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(m))).replace(/(^|[^\\])m/g,"$1"+m);var x=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(x))).replace(/(^|[^\\])s/g,"$1"+x);var v=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(v,3)),v=Math.round(v/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(v)),v=Math.round(v/10);var y=g<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+v)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var C=-e.getTimezoneOffset(),S=r||!C?"Z":C>0?"+":"-";if(!r){var R=(C=Math.abs(C))%60;S+=c(Math.floor(C/60))+":"+c(R)}t=t.replace(/(^|[^\\])K/g,"$1"+S);var k=(r?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[k])).replace(new RegExp(l[0],"g"),l[k])).replace(new RegExp(s[0],"g"),s[h])).replace(new RegExp(a[0],"g"),a[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,i){var r=this.w;r.config.xaxis.min!==void 0&&(e=r.config.xaxis.min),r.config.xaxis.max!==void 0&&(t=r.config.xaxis.max);var s=this.getDate(e),a=this.getDate(t),o=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,i){return this.determineDaysOfMonths(e,t)-i}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,i){var r=this.daysCntOfYear[t]+i;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var i=30;switch(e=O.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(i=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:i=31}return i}}]),n}(),Dl=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return re(n,[{key:"xLabelFormat",value:function(e,t,i,r){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var a=new Ft(this.ctx);return a.formatDate(a.getDate(t),s.config.tooltip.x.format)}return e(t,i,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,i){var r=this.w;if(O.isNumber(e))if(r.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:r.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttKeyFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttZFormatter=function(i){return i},t.globals.legendFormatter=function(i){return e.defaultGeneralFormatter(i)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(i){if(O.isNumber(i)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(O.isNumber(t.config.xaxis.decimalsInFloat))return i.toFixed(t.config.xaxis.decimalsInFloat);var r=t.globals.maxX-t.globals.minX;return r>0&&r<100?i.toFixed(1):i.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(i,r){i.labels.formatter!==void 0?t.globals.yLabelFormatters[r]=i.labels.formatter:t.globals.yLabelFormatters[r]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(a){return e.defaultYFormatter(a,i,r)}):e.defaultYFormatter(s,i,r):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(i,r){return i.length>r.length?i:r},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),n}(),Ir=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"getLabel",value:function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[r]===void 0?"":e[r],u=c,h=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,g=!1,p=new Dl(this.ctx),m=c;o&&(u=p.xLabelFormat(h,c,m,{i:r,dateFormatter:new Ft(this.ctx).formatDate,w:l}),d!==void 0&&(u=d(c,e[r],{i:r,dateFormatter:new Ft(this.ctx).formatDate,w:l})));var x,v;t.length>0?(x=t[r].unit,v=null,t.forEach(function(S){S.unit==="month"?v="year":S.unit==="day"?v="month":S.unit==="hour"?v="day":S.unit==="minute"&&(v="hour")}),g=v===x,i=t[r].position,u=t[r].value):l.config.xaxis.type==="datetime"&&d===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var y=new W(this.ctx),b={};b=l.globals.rotateXLabels&&o?y.getTextRects(u,parseInt(a,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(u,parseInt(a,10));var C=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||s.indexOf(u)>=0&&C)&&(u=""),{x:i,text:u,textRect:b,isBold:g}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,i){var r=this.w,s=r.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(r.globals.gridWidth/120)),s>i||e%Math.round(i/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,i,r,s){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===i-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var o=s[s.length-1];t.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var i=this.w;return i.config.yaxis[e]&&i.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(i){return t.collapsedSeriesIndices.indexOf(i)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,i=t.globals,r=t.config.yaxis;return i.series.length>r.length||r.some(function(s){return Array.isArray(s.seriesName)})?e:i.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,i=t.config.yaxis[e];if(!i.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!i.showForNullSeries){var r=t.globals.seriesYAxisMap[e],s=new ft(this.ctx);return r.every(function(a){return s.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,i,r,s,a,o){var l=this.w,c=new W(this.ctx),u=l.globals.translateY+l.config.yaxis[s].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=a/2),r.show&&t>0){l.config.yaxis[s].opposite===!0&&(e+=r.width);for(var h=t;h>=0;h--){var d=c.drawLine(e+i.offsetX-r.width+r.offsetX,u+r.offsetY,e+i.offsetX+r.offsetX,u+r.offsetY,r.color);o.add(d),u+=a}}}}]),n}(),OT=function(){function n(e){ie(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new Sh(this.annoCtx),this.axesUtils=new Ir(this.annoCtx)}return re(n,[{key:"addYaxisAnnotation",value:function(e,t,i){var r,s=this.w,a=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,u=!0,h=!1,d=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){h=!0;var g=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}else{if(r=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,r>l){var p=l;l=r,r=p}if(!c||!u){h=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),l-r,0,e.fillColor,e.opacity,1,e.borderColor,a);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(h){var x=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,v=this.annoCtx.graphics.drawText({x:x+e.label.offsetX,y:(r??l)+e.label.offsetY-3,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});v.attr({rel:i}),t.appendChild(v.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(r,s){r.yAxisIndex=e.axesUtils.translateYAxisIndex(r.yAxisIndex),e.axesUtils.isYAxisHidden(r.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(r.yAxisIndex)||e.addYaxisAnnotation(r,i.node,s)}),i}}]),n}(),DT=function(){function n(e){ie(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new Sh(this.annoCtx)}return re(n,[{key:"addPointAnnotation",value:function(e,t,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",e),s=r.x,a=r.clipped,o=(r=this.helpers.getY1Y2("y1",e)).yP,l=r.clipped;if(O.isNumber(s)&&!l&&!a){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,o+e.marker.offsetY,c);t.appendChild(u.node);var h=e.label.text?e.label.text:"",d=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(d.attr({rel:i}),t.appendChild(d.node),e.customSVG.SVG){var g=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});g.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),g.node.innerHTML=e.customSVG.SVG,t.appendChild(g.node)}if(e.image.path){var p=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:s+e.image.offsetX-p/2,y:o+e.image.offsetY-m/2,width:p,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(r,s){e.addPointAnnotation(r,i.node,s)}),i}}]),n}(),o_={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Jr=function(){function n(){ie(this,n),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return re(n,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[o_],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),n}(),FT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.graphics=new W(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Sh(this),this.xAxisAnnotations=new MT(this),this.yAxisAnnotations=new OT(this),this.pointsAnnotations=new DT(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return re(n,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,a=[t,i,r],o=[i.node,t.node,r.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(a[l]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,i){e.addImage(t,i)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,i){e.addText(t,i)})}},{key:"addXaxisAnnotation",value:function(e,t,i){this.xAxisAnnotations.addXaxisAnnotation(e,t,i)}},{key:"addYaxisAnnotation",value:function(e,t,i){this.yAxisAnnotations.addYaxisAnnotation(e,t,i)}},{key:"addPointAnnotation",value:function(e,t,i){this.pointsAnnotations.addPointAnnotation(e,t,i)}},{key:"addText",value:function(e,t){var i=e.x,r=e.y,s=e.text,a=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,h=e.cssClass,d=e.backgroundColor,g=e.borderWidth,p=e.strokeDashArray,m=e.borderRadius,x=e.borderColor,v=e.appendTo,y=v===void 0?".apexcharts-svg":v,b=e.paddingLeft,C=b===void 0?4:b,S=e.paddingRight,R=S===void 0?4:S,k=e.paddingBottom,w=k===void 0?2:k,A=e.paddingTop,T=A===void 0?2:A,P=this.w,L=this.graphics.drawText({x:i,y:r,text:s,textAnchor:a||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||P.config.chart.fontFamily,foreColor:o||P.config.chart.foreColor,cssClass:h}),N=P.globals.dom.baseEl.querySelector(y);N&&N.appendChild(L.node);var V=L.bbox();if(s){var H=this.graphics.drawRect(V.x-C,V.y-T,V.width+C+R,V.height+w+T,m,d||"transparent",1,g,x,p);N.insertBefore(H.node,L.node)}}},{key:"addImage",value:function(e,t){var i=this.w,r=e.path,s=e.x,a=s===void 0?0:s,o=e.y,l=o===void 0?0:o,c=e.width,u=c===void 0?20:c,h=e.height,d=h===void 0?20:h,g=e.appendTo,p=g===void 0?".apexcharts-svg":g,m=i.globals.dom.Paper.image(r);m.size(u,d).move(a,l);var x=i.globals.dom.baseEl.querySelector(p);return x&&x.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(e,t,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(e){var t=e.params,i=e.pushToMemory,r=e.context,s=e.type,a=e.contextMethod,o=r,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),u=c.childNodes.length+1,h=new Jr,d=Object.assign({},s==="xaxis"?h.xAxisAnnotation:s==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),g=O.extend(d,t);switch(s){case"xaxis":this.addXaxisAnnotation(g,c,u);break;case"yaxis":this.addYaxisAnnotation(g,c,u);break;case"point":this.addPointAnnotation(g,c,u)}var p=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(u,"']")),m=this.helpers.addBackgroundToAnno(p,g);return m&&c.insertBefore(m.node,p),i&&l.globals.memory.methodsToExec.push({context:o,id:g.id?g.id:O.randomId(),method:a,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){for(var t=e.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=t.globals.memory.methodsToExec.length-1;r>=0;r--)t.globals.memory.methodsToExec[r].label!=="addText"&&t.globals.memory.methodsToExec[r].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(r,1);i=O.listToArray(i),Array.prototype.forEach.call(i,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var i=e.w,r=i.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(i.globals.memory.methodsToExec.map(function(s,a){s.id===t&&i.globals.memory.methodsToExec.splice(a,1)}),Object.keys(i.config.annotations).forEach(function(s){var a=i.config.annotations[s];Array.isArray(a)&&(i.config.annotations[s]=a.filter(function(o){return o.id!==t}))}),Array.prototype.forEach.call(r,function(s){s.parentElement.removeChild(s)}))}}]),n}(),Gd=function(n){var e,t=n.isTimeline,i=n.ctx,r=n.seriesIndex,s=n.dataPointIndex,a=n.y1,o=n.y2,l=n.w,c=l.globals.seriesRangeStart[r][s],u=l.globals.seriesRangeEnd[r][s],h=l.globals.labels[s],d=l.config.series[r].name?l.config.series[r].name:"",g=l.globals.ttKeyFormatter,p=l.config.tooltip.y.title.formatter,m={w:l,seriesIndex:r,dataPointIndex:s,start:c,end:u};typeof p=="function"&&(d=p(d,m)),(e=l.config.series[r].data[s])!==null&&e!==void 0&&e.x&&(h=l.config.series[r].data[s].x),t||l.config.xaxis.type==="datetime"&&(h=new Dl(i).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new Ft(i).formatDate,w:l})),typeof g=="function"&&(h=g(h,m)),Number.isFinite(a)&&Number.isFinite(o)&&(c=a,u=o);var x="",v="",y=l.globals.colors[r];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var b=new Ft(i);x=b.formatDate(b.getDate(c),l.config.tooltip.x.format),v=b.formatDate(b.getDate(u),l.config.tooltip.x.format)}else x=c,v=u;else x=l.config.tooltip.x.formatter(c),v=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:x,endVal:v,ylabel:h,color:y,seriesName:d}},qd=function(n){var e=n.color,t=n.seriesName,i=n.ylabel,r=n.start,s=n.end,a=n.seriesIndex,o=n.dataPointIndex,l=n.ctx.tooltip.tooltipLabels.getFormatters(a);r=l.yLbFormatter(r),s=l.yLbFormatter(s);var c=l.yLbFormatter(n.w.globals.series[a][o]),u=`<span class="value start-value">
  `.concat(r,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(s,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+i+": </span> "+(n.w.globals.comboCharts?n.w.config.series[a].type==="rangeArea"||n.w.config.series[a].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},hl=function(){function n(e){ie(this,n),this.opts=e}return re(n,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),O.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var i=t.w.config.series[t.seriesIndex].name;return e!==null?i+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Q(Q({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,i,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,i,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var i=t.seriesIndex,r=t.dataPointIndex,s=t.w,a=function(){var o=s.globals.seriesRangeStart[i][r];return s.globals.seriesRangeEnd[i][r]-o};return s.globals.comboCharts?s.config.series[i].type==="rangeBar"||s.config.series[i].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var i=Gd(Q(Q({},t),{},{isTimeline:!0})),r=i.color,s=i.seriesName,a=i.ylabel,o=i.startVal,l=i.endVal;return qd(Q(Q({},t),{},{color:r,seriesName:s,ylabel:a,start:o,end:l}))}(e):function(t){var i=Gd(t),r=i.color,s=i.seriesName,a=i.ylabel,o=i.start,l=i.end;return qd(Q(Q({},t),{},{color:r,seriesName:s,ylabel:a,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,i;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(i=e.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var i=Gd(t),r=i.color,s=i.seriesName,a=i.ylabel,o=i.start,l=i.end;return qd(Q(Q({},t),{},{color:r,seriesName:s,ylabel:a,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return O.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(i,r){e.yaxis[r].min=0,e.yaxis[r].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Q(Q({},e),{},{plotOptions:Q(Q({},e.plotOptions),{},{bar:Q(Q({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,i){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return O.isNumber(a)?Math.floor(a):a};var r=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return i&&i.length&&(s=i.map(function(a){return Array.isArray(a)?a:String(a)})),s&&s.length&&(e.xaxis.labels.formatter=function(a){return O.isNumber(a)?r(s[Math.floor(a)-1]):r(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,i,r,s){var a=e.globals.seriesCandleO[t][i],o=e.globals.seriesCandleH[t][i],l=e.globals.seriesCandleM[t][i],c=e.globals.seriesCandleL[t][i],u=e.globals.seriesCandleC[t][i];return e.config.series[t].type&&e.config.series[t].type!==s?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(r[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+u+"</span></div></div>"}}]),n}(),dl=function(){function n(e){ie(this,n),this.opts=e}return re(n,[{key:"init",value:function(e){var t=e.responsiveOverride,i=this.opts,r=new Jr,s=new hl(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var a=r.init(),o={};if(i&&wa(i)==="object"){var l,c,u,h,d,g,p,m,x,v,y={};y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?s[i.chart.type]():s.line(),(l=i.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(y=s.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(y=s.stackedBars()),(u=i.chart.brush)!==null&&u!==void 0&&u.enabled&&(y=s.brush(y)),(h=i.plotOptions)!==null&&h!==void 0&&(d=h.line)!==null&&d!==void 0&&d.isSlopeChart&&(y=s.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=s.stacked100(i)),(g=i.plotOptions)!==null&&g!==void 0&&(p=g.bar)!==null&&p!==void 0&&p.isDumbbell&&(i=s.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},t||(i.xaxis.convertedCatToNumeric=!1),((m=(i=this.checkForCatToNumericXAxis(this.chartType,y,i)).chart.sparkline)!==null&&m!==void 0&&m.enabled||(x=window.Apex.chart)!==null&&x!==void 0&&(v=x.sparkline)!==null&&v!==void 0&&v.enabled)&&(y=s.sparkline(y)),o=O.extend(a,y)}var b=O.extend(o,window.Apex);return a=O.extend(b,i),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,i){var r,s,a=new hl(i),o=(e==="bar"||e==="boxPlot")&&((r=i.plotOptions)===null||r===void 0||(s=r.bar)===null||s===void 0?void 0:s.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",u=i.xaxis.tickPlacement?i.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||l||!c||u==="between"||(i=a.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(e,t){var i=new Jr;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=O.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[O.extend(i.yAxis,e.yaxis)]:e.yaxis=O.extendArray(e.yaxis,i.yAxis);var r=!1;e.yaxis.forEach(function(a){a.logarithmic&&(r=!0)});var s=e.series;return t&&!s&&(s=t.config.series),r&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(a,o){if(a.name||(s[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=s[o].name,e.yaxis[o];var l=O.extend(i.yAxis,e.yaxis[0]);return l.show=!1,l})),r&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Jr;return e.annotations.yaxis=O.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Jr;return e.annotations.xaxis=O.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Jr;return e.annotations.points=O.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),n}(),l_=function(){function n(){ie(this,n)}return re(n,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=O.extend({},e),t.initialSeries=O.clone(e.series),t.lastXAxis=O.clone(t.initialConfig.xaxis),t.lastYAxis=O.clone(t.initialConfig.yaxis),t}}]),n}(),VT=function(){function n(e){ie(this,n),this.opts=e}return re(n,[{key:"init",value:function(){var e=new dl(this.opts).init({responsiveOverride:!1});return{config:e,globals:new l_().init(e)}}}]),n}(),ei=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return re(n,[{key:"clippedImgArea",value:function(e){var t=this.w,i=t.config,r=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),a=r>s?r:s,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(l=i.fill.image.width+1,c=i.fill.image.height):(l=a+1,c=a):(l=e.width,c=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");W.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",o),W.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,i=t.config.chart.type;return(i==="bar"||i==="rangeBar")&&t.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var i,r=this.w,s=null,a=null,o=xo(e);try{for(o.s();!(i=o.n()).done;){var l=i.value;l>=t.threshold?(s===null||l>s)&&(s=l):(a===null||l<a)&&(a=l)}}catch(h){o.e(h)}finally{o.f()}s===null&&(s=t.threshold),a===null&&(a=t.threshold);var c=s-t.threshold+(t.threshold-a);c===0&&(c=1);var u=100-(t.threshold-a)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,i,r,s=this.w;this.opts=e;var a,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(h=s.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var d,g,p,m=e.fillType?e.fillType:this.getFillType(this.seriesIndex),x=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,v=m==="gradient"||u;e.color&&(h=e.color),(t=s.config.series[this.seriesIndex])!==null&&t!==void 0&&(i=t.data)!==null&&i!==void 0&&(r=i[e.dataPointIndex])!==null&&r!==void 0&&r.fillColor&&(h=(d=s.config.series[this.seriesIndex])===null||d===void 0||(g=d.data)===null||g===void 0||(p=g[e.dataPointIndex])===null||p===void 0?void 0:p.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var y=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?y=h:h.length<9&&(y=O.hexToRgba(h,x)):h.indexOf("rgba")>-1?x=O.getOpacityFromRGBA(h):y=O.hexToRgba(O.rgb2hex(h),x),e.opacity&&(x=e.opacity),m==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:h,fillOpacity:x,defaultColor:y})),v){var b=Ct(c.fill.gradient.colorStops)||[],C=c.fill.gradient.type;u&&(b[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],c.plotOptions.line.colors),C="vertical"),l=this.handleGradientFill({type:C,fillConfig:e.fillConfig,fillColor:h,fillOpacity:x,colorStops:b,i:this.seriesIndex})}if(m==="image"){var S=c.fill.image.src,R=e.patternID?e.patternID:"",k="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(R);this.patternIDs.indexOf(k)===-1&&(this.clippedImgArea({opacity:x,image:Array.isArray(S)?e.seriesNumber<S.length?S[e.seriesNumber]:S[0]:S,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:k}),this.patternIDs.push(k)),a="url(#".concat(k,")")}else a=v?l:m==="pattern"?o:y;return e.solid&&(a=y),a}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,i=this.opts,r=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),i.fillColors!==void 0&&(r=[],Array.isArray(i.fillColors)?r=i.fillColors.slice():r.push(i.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,i=e.patternFill,r=e.fillColor,s=e.fillOpacity,a=e.defaultColor,o=this.w.config.fill;t&&(o=t);var l=this.opts,c=new W(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,h=r;return Array.isArray(o.pattern.style)?i=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,h,u,s):a:i=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,h,u,s),i}},{key:"handleGradientFill",value:function(e){var t=e.type,i=e.fillColor,r=e.fillOpacity,s=e.fillConfig,a=e.colorStops,o=e.i,l=this.w.config.fill;s&&(l=Q(Q({},l),s));var c=this.opts,u=new W(this.ctx),h=new O;t=t||l.gradient.type;var d,g=i,p=l.gradient.opacityFrom===void 0?r:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;g.indexOf("rgba")>-1&&(p=O.getOpacityFromRGBA(g));var m=l.gradient.opacityTo===void 0?r:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)d=l.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?O.rgb2hex(i):i):h.shadeColor(parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?O.rgb2hex(i):i);else if(l.gradient.gradientToColors[c.seriesNumber]){var x=l.gradient.gradientToColors[c.seriesNumber];d=x,x.indexOf("rgba")>-1&&(m=O.getOpacityFromRGBA(x))}else d=i;if(l.gradient.gradientFrom&&(g=l.gradient.gradientFrom),l.gradient.gradientTo&&(d=l.gradient.gradientTo),l.gradient.inverseColors){var v=g;g=d,d=v}return g.indexOf("rgb")>-1&&(g=O.rgb2hex(g)),d.indexOf("rgb")>-1&&(d=O.rgb2hex(d)),u.drawGradient(t,g,d,p,m,c.size,l.gradient.stops,a,o)}}]),n}(),Fa=function(){function n(e,t){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(i){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,i=e.seriesIndex,r=e.j,s=e.pSize,a=e.alwaysDrawMarker,o=a!==void 0&&a,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,h=i,d=t,g=null,p=new W(this.ctx),m=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(d.x))for(var x=0;x<d.x.length;x++){var v=void 0,y=r,b=!O.isNumber(d.y[x]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][r+1]!==null&&!c&&(b=!0),r===1&&x===0&&(y=0),r===1&&x===1&&(y=1);var C="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(C+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[i]>0:u.config.markers.size>0)||o||m){b||(C+=" w".concat(O.randomId()));var S=this.getMarkerConfig({cssClass:C,seriesIndex:i,dataPointIndex:y});u.config.series[h].data[y]&&(u.config.series[h].data[y].fillColor&&(S.pointFillColor=u.config.series[h].data[y].fillColor),u.config.series[h].data[y].strokeColor&&(S.pointStrokeColor=u.config.series[h].data[y].strokeColor)),s!==void 0&&(S.pSize=s),(d.x[x]<-u.globals.markers.largestSize||d.x[x]>u.globals.gridWidth+u.globals.markers.largestSize||d.y[x]<-u.globals.markers.largestSize||d.y[x]>u.globals.gridHeight+u.globals.markers.largestSize)&&(S.pSize=0),!b&&((u.globals.markers.size[i]>0||o||m)&&!g&&(g=p.group({class:o||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(v=p.drawMarker(d.x[x],d.y[x],S)).attr("rel",y),v.attr("j",y),v.attr("index",i),v.node.setAttribute("default-marker-size",S.pSize),new zt(this.ctx).setSelectionFilter(v,i,y),this.addEvents(v),g&&g.add(v))}else u.globals.pointsArray[i]===void 0&&(u.globals.pointsArray[i]=[]),u.globals.pointsArray[i].push([d.x[x],d.y[x]])}return g}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,i=e.seriesIndex,r=e.dataPointIndex,s=r===void 0?null:r,a=e.radius,o=a===void 0?null:a,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,h=u===void 0?null:u,d=this.w,g=this.getMarkerStyle(i),p=c===null?d.globals.markers.size[i]:c,m=d.config.markers;return s!==null&&m.discrete.length&&m.discrete.map(function(x){x.seriesIndex===i&&x.dataPointIndex===s&&(g.pointStrokeColor=x.strokeColor,g.pointFillColor=x.fillColor,p=x.size,g.pointShape=x.shape)}),{pSize:o===null?p:o,pRadius:o!==null?o:m.radius,pointStrokeWidth:h!==null?h:Array.isArray(m.strokeWidth)?m.strokeWidth[i]:m.strokeWidth,pointStrokeColor:g.pointStrokeColor,pointFillColor:g.pointFillColor,shape:g.pointShape||(Array.isArray(m.shape)?m.shape[i]:m.shape),class:t,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[i]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[i]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[i]:m.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(e){var t=this.w,i=new W(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,i=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(i)?i[e]:i}}}]),n}(),c_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return re(n,[{key:"draw",value:function(e,t,i){var r=this.w,s=new W(this.ctx),a=i.realIndex,o=i.pointsPos,l=i.zRatio,c=i.elParent,u=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(o.x))for(var h=0;h<o.x.length;h++){var d=t+1,g=!0;t===0&&h===0&&(d=0),t===0&&h===1&&(d=1);var p=r.globals.markers.size[a];if(l!==1/0){var m=r.config.plotOptions.bubble;p=r.globals.seriesZ[a][d],m.zScaling&&(p/=l),m.minBubbleRadius&&p<m.minBubbleRadius&&(p=m.minBubbleRadius),m.maxBubbleRadius&&p>m.maxBubbleRadius&&(p=m.maxBubbleRadius)}var x=o.x[h],v=o.y[h];if(p=p||0,v!==null&&r.globals.series[a][d]!==void 0||(g=!1),g){var y=this.drawPoint(x,v,p,a,d,t);u.add(y)}c.add(u)}}},{key:"drawPoint",value:function(e,t,i,r,s,a){var o=this.w,l=r,c=new La(this.ctx),u=new zt(this.ctx),h=new ei(this.ctx),d=new Fa(this.ctx),g=new W(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[r]&&o.config.series[r].type==="bubble"?i:null}),m=h.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[r][a]}),x=g.drawMarker(e,t,p);if(o.config.series[l].data[s]&&o.config.series[l].data[s].fillColor&&(m=o.config.series[l].data[s].fillColor),x.attr({fill:m}),o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;u.dropShadow(x,v,r)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;c.animateMarker(x,y,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(x)},100)})}return x.attr({rel:s,j:s,index:r,"default-marker-size":p.pSize}),u.setSelectionFilter(x,r,s),d.addEvents(x),x.node.classList.add("apexcharts-marker"),x}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),n}(),_a=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"dataLabelsCorrection",value:function(e,t,i,r,s,a,o){var l=this.w,c=!1,u=new W(this.ctx).getTextRects(i,o),h=u.width,d=u.height;t<0&&(t=0),t>l.globals.gridHeight+d&&(t=l.globals.gridHeight+d/2),l.globals.dataLabelsRects[r]===void 0&&(l.globals.dataLabelsRects[r]=[]),l.globals.dataLabelsRects[r].push({x:e,y:t,width:h,height:d});var g=l.globals.dataLabelsRects[r].length-2,p=l.globals.lastDrawnDataLabelsIndexes[r]!==void 0?l.globals.lastDrawnDataLabelsIndexes[r][l.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(l.globals.dataLabelsRects[r][g]!==void 0){var m=l.globals.dataLabelsRects[r][p];(e>m.x+m.width||t>m.y+m.height||t+d<m.y||e+h<m.x)&&(c=!0)}return(s===0||a)&&(c=!0),{x:e,y:t,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,i=e.type,r=e.pos,s=e.i,a=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,h=new W(this.ctx),d=u.config.dataLabels,g=0,p=0,m=a,x=null;if(u.globals.collapsedSeriesIndices.indexOf(s)!==-1||!d.enabled||!Array.isArray(r.x))return x;x=h.group({class:"apexcharts-data-labels"});for(var v=0;v<r.x.length;v++)if(g=r.x[v]+d.offsetX,p=r.y[v]+d.offsetY+c,!isNaN(g)){a===1&&v===0&&(m=0),a===1&&v===1&&(m=1);var y=u.globals.series[s][m];i==="rangeArea"&&(y=o?u.globals.seriesRangeStart[s][m]:u.globals.seriesRangeEnd[s][m]);var b="",C=function(R){return u.config.dataLabels.formatter(R,{ctx:t.ctx,seriesIndex:s,dataPointIndex:m,w:u})};u.config.chart.type==="bubble"?(b=C(y=u.globals.seriesZ[s][m]),p=r.y[v],p=new c_(this.ctx).centerTextInBubble(p,s,m).y):y!==void 0&&(b=C(y));var S=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(S=m===0?"end":m===u.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:g,y:p,text:b,i:s,j:m,parent:x,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:S})}return x}},{key:"plotDataLabelsText",value:function(e){var t=this.w,i=new W(this.ctx),r=e.x,s=e.y,a=e.i,o=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,h=e.parent,d=e.dataLabelsConfig,g=e.color,p=e.alwaysDrawDataLabel,m=e.offsetCorrection,x=e.className,v=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return v;var y={x:r,y:s,drawnextLabel:!0,textRects:null};m&&(y=this.dataLabelsCorrection(r,s,l,a,o,p,parseInt(d.style.fontSize,10))),t.globals.zoomed||(r=y.x,s=y.y),y.textRects&&(r<-20-y.textRects.width||r>t.globals.gridWidth+y.textRects.width+30)&&(l="");var b=t.globals.dataLabels.style.colors[a];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(b=t.globals.dataLabels.style.colors[o]),typeof b=="function"&&(b=b({series:t.globals.series,seriesIndex:a,dataPointIndex:o,w:t})),g&&(b=g);var C=d.offsetX,S=d.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(C=0,S=0),t.globals.isSlopeChart&&(o!==0&&(C=-2*d.offsetX+5),o!==0&&o!==t.config.series[a].data.length-1&&(C=0)),y.drawnextLabel){if((v=i.drawText({width:100,height:parseInt(d.style.fontSize,10),x:r+C,y:s+S,foreColor:b,textAnchor:c||d.textAnchor,text:l,fontSize:u||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"})).attr({class:x||"apexcharts-datalabel",cx:r,cy:s}),d.dropShadow.enabled){var R=d.dropShadow;new zt(this.ctx).dropShadow(v,R)}h.add(v),t.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(o)}return v}},{key:"addBackgroundToDataLabel",value:function(e,t){var i=this.w,r=i.config.dataLabels.background,s=r.padding,a=r.padding/2,o=t.width,l=t.height,c=new W(this.ctx).drawRect(t.x-s,t.y-a/2,o+2*s,l+a,r.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new zt(this.ctx).dropShadow(c,r.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<t.length;i++){var r=t[i],s=r.getBBox(),a=null;if(s.width&&s.height&&(a=this.addBackgroundToDataLabel(r,s)),a){r.parentNode.insertBefore(a.node,r);var o=e.config.dataLabels.background.backgroundColor||r.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:o}):a.attr({fill:o}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)i&&i.insertBefore(t[r],i.nextSibling)}}]),n}(),Vn=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return re(n,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(O.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),i=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(e,t){var i=this.w;function r(s){for(var a=0;a<s.length;a++)s[a].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(i.globals.collapsedSeries),r(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w,s=O.clone(r.globals.initialSeries);r.globals.previousPaths=[],i?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),r.config.series=s,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,i=0;i<e.length;i++)t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,i=this.getSeriesByName(e),r=parseInt(i==null?void 0:i.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,o=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var c=t.globals.seriesYAxisReverseMap[r];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var u=0;u<s.length;u++)s[u].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var h=0;h<s.length;h++)s[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var i=this.w;t||(t=e.target);var r=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[s])}else if(e.type==="mouseout")for(var a=0;a<r.length;a++)r[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var i=this,r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(c){for(var u=0;u<s.length;u++)s[u].classList[c](i.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;a("add");var l=r.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var h=0;h<s.length;h++){var d=Number(s[h].getAttribute("val"));d>=c.from&&(d<c.to||c.to===u&&d===u)&&s[h].classList.remove(i.legendInactiveClass)}})(l[o],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,r=0;if(i.config.series.length>1){for(var s=i.config.series.map(function(o,l){return o.data&&o.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!i.globals.comboCharts||t.length===0||t.length&&t.indexOf(i.config.series[l].type)>-1)?l:-1}),a=e==="asc"?0:s.length-1;e==="asc"?a<s.length:a>=0;e==="asc"?a++:a--)if(s[a]!==-1){r=s[a];break}}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(a,o,l){for(var c=a[o].childNodes,u={type:l,paths:[],realIndex:a[o].getAttribute("data:realIndex")},h=0;h<c.length;h++)if(c[h].hasAttribute("pathTo")){var d=c[h].getAttribute("pathTo");u.paths.push({d})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var o,l=(o=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,a)});var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(i.length>0)for(var r=function(a){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),l=[],c=function(h){var d=function(p){return o[h].getAttribute(p)},g={x:parseFloat(d("x")),y:parseFloat(d("y")),width:parseFloat(d("width")),height:parseFloat(d("height"))};l.push({rect:g,color:o[h].getAttribute("color")})},u=0;u<o.length;u++)c(u);e.globals.previousPaths.push(l)},s=0;s<i.length;s++)r(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,i=new W(this.ctx),r=e.globals.svgWidth/2,s=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(r=10,a="start"):t.align==="right"&&(r=e.globals.svgWidth-10,a="end"),t.verticalAlign==="top"?s=50:t.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),r+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var o=i.drawText({x:r,y:s,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,i=0;i<e.length;i++)if(e[i].length===0)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[i].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,i=this.filteredSeriesX(),r=0;r<i.length-1;r++)if(i[r][0]!==i[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),n}(),cm=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ft(this.ctx)}return re(n,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Vn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Vn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var i=this.w.config,r=this.w.globals,s=i.chart.type==="boxPlot"||i.series[t].type==="boxPlot",a=0;a<e[t].data.length;a++)if(e[t].data[a][1]!==void 0&&(Array.isArray(e[t].data[a][1])&&e[t].data[a][1].length===4&&!s?this.twoDSeries.push(O.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(O.parseNumber(e[t].data[a][4])):this.twoDSeries.push(O.parseNumber(e[t].data[a][1])),r.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var o=new Date(e[t].data[a][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var i=this.w.config,r=this.w.globals,s=new Ft(this.ctx),a=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)e[t].data[o].y!==void 0&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(O.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(O.parseNumber(e[t].data[o].y))),e[t].data[o].goals!==void 0&&Array.isArray(e[t].data[o].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[a].data.length;l++){var c=typeof e[a].data[l].x=="string",u=Array.isArray(e[a].data[l].x),h=!u&&!!s.isValidDate(e[a].data[l].x);if(c||h)if(c||i.xaxis.convertedCatToNumeric){var d=r.isBarHorizontal&&r.isRangeData;i.xaxis.type!=="datetime"||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x),isNaN(e[a].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[l].x=="string"||(r.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[a].data[l].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[a].data[l].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var g=0;g<e[t].data.length;g++)this.threeDSeries.push(e[t].data[g].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),i.seriesRangeStart[t]=r.start===void 0?[]:r.start,i.seriesRangeEnd[t]=r.end===void 0?[]:r.end,i.seriesRange[t]=r.rangeUniques,i.seriesRange.forEach(function(s,a){s&&s.forEach(function(o,l){o.y.forEach(function(c,u){for(var h=0;h<o.y.length;h++)if(u!==h){var d=c.y1,g=c.y2,p=o.y[h].y1;d<=o.y[h].y2&&p<=g&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[h].rangeName)<0&&o.overlaps.push(o.y[h].rangeName))}})})}),r}},{key:"handleCandleStickBoxData",value:function(e,t){var i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),i.seriesCandleO[t]=r.o,i.seriesCandleH[t]=r.h,i.seriesCandleM[t]=r.m,i.seriesCandleL[t]=r.l,i.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,i){var r=[],s=[],a=t[i].data.filter(function(u,h,d){return h===d.findIndex(function(g){return g.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<t[i].data.length;o++)Array.isArray(t[i].data[o])?(r.push(t[i].data[o][1][0]),s.push(t[i].data[o][1][1])):(r.push(t[i].data[o]),s.push(t[i].data[o]));else if(e==="xy")for(var l=function(u){var h=Array.isArray(t[i].data[u].y),d=O.randomId(),g=t[i].data[u].x,p={y1:h?t[i].data[u].y[0]:t[i].data[u].y,y2:h?t[i].data[u].y[1]:t[i].data[u].y,rangeName:d};t[i].data[u].rangeName=d;var m=a.findIndex(function(x){return x.x===g});a[m].y.push(p),r.push(p.y1),s.push(p.y2)},c=0;c<t[i].data.length;c++)l(c);return{start:r,end:s,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,i){var r=this.w,s=r.config.chart.type==="boxPlot"||r.config.series[i].type==="boxPlot",a=[],o=[],l=[],c=[],u=[];if(e==="array")if(s&&t[i].data[0].length===6||!s&&t[i].data[0].length===5)for(var h=0;h<t[i].data.length;h++)a.push(t[i].data[h][1]),o.push(t[i].data[h][2]),s?(l.push(t[i].data[h][3]),c.push(t[i].data[h][4]),u.push(t[i].data[h][5])):(c.push(t[i].data[h][3]),u.push(t[i].data[h][4]));else for(var d=0;d<t[i].data.length;d++)Array.isArray(t[i].data[d][1])&&(a.push(t[i].data[d][1][0]),o.push(t[i].data[d][1][1]),s?(l.push(t[i].data[d][1][2]),c.push(t[i].data[d][1][3]),u.push(t[i].data[d][1][4])):(c.push(t[i].data[d][1][2]),u.push(t[i].data[d][1][3])));else if(e==="xy")for(var g=0;g<t[i].data.length;g++)Array.isArray(t[i].data[g].y)&&(a.push(t[i].data[g].y[0]),o.push(t[i].data[g].y[1]),s?(l.push(t[i].data[g].y[2]),c.push(t[i].data[g].y[3]),u.push(t[i].data[g].y[4])):(c.push(t[i].data[g].y[2]),u.push(t[i].data[g].y[3])));return{o:a,h:o,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,r=this.w.config,s=this.w.globals,a=new Ft(i),o=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();s.isRangeBar=r.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=r.xaxis.type==="category"&&r.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=r.xaxis.group.groups),e.forEach(function(g,p){g.name!==void 0?s.seriesNames.push(g.name):s.seriesNames.push("series-"+parseInt(p+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Ct(new Set(r.series.map(function(g){return g.group})));r.series.forEach(function(g,p){var m=c.indexOf(g.group);l[m]||(l[m]=[]),l[m].push(s.seriesNames[p])}),s.seriesGroups=l;for(var u=function(){for(var g=0;g<o.length;g++)if(typeof o[g]=="string"){if(!a.isValidDate(o[g]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(o[g]))}else t.twoDSeriesX.push(o[g])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(s.isRangeData=!0,this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),r.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&r.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{r.xaxis.type==="datetime"?(s.isXNumeric=!0,u(),s.seriesX.push(this.twoDSeriesX)):r.xaxis.type==="numeric"&&(s.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var d=e[h].data.map(function(g){return O.parseNumber(g)});s.series.push(d)}s.seriesZ.push(this.threeDSeries),e[h].color!==void 0?s.seriesColors.push(e[h].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,i=this.w.config;t.series=e.slice(),t.seriesNames=i.labels.slice();for(var r=0;r<t.series.length;r++)t.seriesNames[r]===void 0&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,i=this.w.globals;t.xaxis.categories.length>0?i.labels=t.xaxis.categories:t.labels.length>0?i.labels=t.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(r){r.forEach(function(s){i.labels.indexOf(s.x)<0&&s.x&&i.labels.push(s.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new hl(t).convertCatToNumericXaxis(t,this.ctx,i.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,i=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=i.series.map(function(h,d){return h.data.filter(function(g,p,m){return m.findIndex(function(x){return x.x===g.x})===p})}),a=s.reduce(function(h,d,g,p){return p[h].length>d.length?h:g},0),o=0;o<s[a].length;o++)r.push(o+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)r.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(r);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(r.length===0){r=t.axisCharts?[]:t.series.map(function(h,d){return d+1});for(var u=0;u<e.length;u++)t.seriesX.push(r)}t.labels=r,i.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map(function(h){return i.xaxis.labels.formatter(h)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,i=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),i.chart.stacked){var s=new Vn(this.ctx);r.series=s.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(r.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(i,r){var s=0;i.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&s++}),s>0&&s==i.length&&t.push(r)}),e.globals.ignoreYAxisIndexes=t.map(function(i){return i})}}]),n}(),Vo=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var i=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",i*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+i+" "+r)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(i){var r=t.w,s=e||r.config.chart.toolbar.export.scale||r.config.chart.toolbar.export.width/r.globals.svgWidth;s||(s=1);var a=r.globals.svgWidth*s,o=r.globals.svgHeight*s,l=r.globals.dom.elWrap.cloneNode(!0);l.style.width=a+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),u=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(r.globals.svgWidth,'px" height="').concat(r.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(a,"px; height:").concat(o,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),h=t.svgStringToNode(u);s!==1&&t.scaleSvgNode(h,s),t.convertImagesToBase64(h).then(function(){u=new XMLSerializer().serializeToString(h),i(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,i=e.getElementsByTagName("image"),r=Array.from(i).map(function(s){var a=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(o){s.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(r)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,i){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var s=document.createElement("canvas");s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(r,0,0),t(s.toDataURL())},r.onerror=i,r.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(i){var r=new Blob([i],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(r))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(i){var r=t.w,s=e?e.scale||e.width/r.globals.svgWidth:1,a=document.createElement("canvas");a.width=r.globals.svgWidth*s,a.height=parseInt(r.globals.dom.elWrap.style.height,10)*s;var o=r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",l=a.getContext("2d");l.fillStyle=o,l.fillRect(0,0,a.width*s,a.height*s),t.getSvgString(s).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(l.drawImage(h,0,0),a.msToBlob){var d=a.msToBlob();i({blob:d})}else{var g=a.toDataURL("image/png");i({imgURI:g})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,r=t?{scale:t}:i?{width:i}:void 0;this.dataURI(r).then(function(s){var a=s.imgURI,o=s.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,i=e.series,r=e.fileName,s=e.columnDelimiter,a=s===void 0?",":s,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;i||(i=c.config.series);var u=[],h=[],d="",g=c.globals.series.map(function(S,R){return c.globals.collapsedSeriesIndices.indexOf(R)===-1?S:[]}),p=function(S){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(S):c.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():O.isNumber(S)?S:S.split(a).join("")},m=function(S){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(S):S},x=Math.max.apply(Math,Ct(i.map(function(S){return S.data?S.data.length:0}))),v=new cm(this.ctx),y=new Ir(this.ctx),b=function(S){var R="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var k=c.globals.yLabelFormatters[0],w=new Vn(t.ctx).getActiveConfigSeriesIndex();R=k(c.globals.labels[S],{seriesIndex:w,dataPointIndex:S,w:c})}else R=y.getLabel(c.globals.labels,c.globals.timescaleLabels,0,S).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?R=c.config.xaxis.categories[S]:c.config.labels.length&&(R=c.config.labels[S]))}else R=c.config.labels[S];return R===null?"nullvalue":(Array.isArray(R)&&(R=R.join(" ")),O.isNumber(R)?R:R.split(a).join(""))},C=function(S,R){if(u.length&&R===0&&h.push(u.join(a)),S.data){S.data=S.data.length&&S.data||Ct(Array(x)).map(function(){return""});for(var k=0;k<S.data.length;k++){u=[];var w=b(k);if(w!=="nullvalue"){if(w||(v.isFormatXY()?w=i[R].data[k].x:v.isFormat2DArray()&&(w=i[R].data[k]?i[R].data[k][0]:"")),R===0){u.push(p(w));for(var A=0;A<c.globals.series.length;A++){var T,P=v.isFormatXY()?(T=i[A].data[k])===null||T===void 0?void 0:T.y:g[A][k];u.push(m(P))}}(c.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[R][k]),u.push(c.globals.seriesCandleH[R][k]),u.push(c.globals.seriesCandleL[R][k]),u.push(c.globals.seriesCandleC[R][k])),(c.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[R][k]),u.push(c.globals.seriesCandleH[R][k]),u.push(c.globals.seriesCandleM[R][k]),u.push(c.globals.seriesCandleL[R][k]),u.push(c.globals.seriesCandleC[R][k])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[R][k]),u.push(c.globals.seriesRangeEnd[R][k])),u.length&&h.push(u.join(a))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):i.map(function(S,R){var k=(S.name?S.name:"series-".concat(R))+"";c.globals.axisCharts&&u.push(k.split(a).join("")?k.split(a).join(""):"series-".concat(R))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),h.push(u.join(a))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?i.map(function(S,R){c.globals.axisCharts?C(S,R):((u=[]).push(p(c.globals.labels[R])),u.push(m(g[R])),h.push(u.join(a)))}):function(){var S=new Set,R={};i.forEach(function(k,w){k==null||k.data.forEach(function(A){var T,P;if(v.isFormatXY())T=A.x,P=A.y;else{if(!v.isFormat2DArray())return;T=A[0],P=A[1]}R[T]||(R[T]=Array(i.length).fill("")),R[T][w]=m(P),S.add(T)})}),u.length&&h.push(u.join(a)),Array.from(S).sort().forEach(function(k){h.push([p(k),R[k].join(a)])})}(),d+=h.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+d),r||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,i){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+i,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),n}(),fl=function(){function n(e,t){ie(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.axesUtils=new Ir(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return re(n,[{key:"drawXaxis",value:function(){var e=this.w,t=new W(this.ctx),i=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(r);for(var s=[],a=0;a<this.xaxisLabels.length;a++)s.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,r,s,e.globals.isXNumeric,function(p,m){return m}),e.globals.hasXaxisGroups){var o=e.globals.groups;s=[];for(var l=0;l<o.length;l++)s.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,s,!1,function(p,m){return o[p].cols*m},c)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),i.add(u)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,g=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(g):i.add(g)}return i}},{key:"drawXAxisLabelAndGroup",value:function(e,t,i,r,s,a){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],d=this.w,g=c.xaxisFontSize||this.xaxisFontSize,p=c.xaxisFontFamily||this.xaxisFontFamily,m=c.xaxisForeColors||this.xaxisForeColors,x=c.fontWeight||d.config.xaxis.labels.style.fontWeight,v=c.cssClass||d.config.xaxis.labels.style.cssClass,y=d.globals.padHorizontal,b=r.length,C=d.config.xaxis.type==="category"?d.globals.dataPoints:b;if(C===0&&b>C&&(C=b),s){var S=Math.max(Number(d.config.xaxis.tickAmount)||1,C>1?C-1:C);o=d.globals.gridWidth/Math.min(S,b-1),y=y+a(0,o)/2+d.config.xaxis.labels.offsetX}else o=d.globals.gridWidth/C,y=y+a(0,o)+d.config.xaxis.labels.offsetX;for(var R=function(w){var A=y-a(w,o)/2+d.config.xaxis.labels.offsetX;w===0&&b===1&&o/2===y&&C===1&&(A=d.globals.gridWidth/2);var T=l.axesUtils.getLabel(r,d.globals.timescaleLabels,A,w,u,g,e),P=28;if(d.globals.rotateXLabels&&e&&(P=22),d.config.xaxis.title.text&&d.config.xaxis.position==="top"&&(P+=parseFloat(d.config.xaxis.title.style.fontSize)+2),e||(P=P+parseFloat(g)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),T=d.config.xaxis.tickAmount!==void 0&&d.config.xaxis.tickAmount!=="dataPoints"&&d.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(w,T,b):l.axesUtils.checkForOverflowingLabels(w,T,b,u,h),d.config.xaxis.labels.show){var L=t.drawText({x:T.x,y:l.offY+d.config.xaxis.labels.offsetY+P-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:T.text,textAnchor:"middle",fontWeight:T.isBold?600:x,fontSize:g,fontFamily:p,foreColor:Array.isArray(m)?e&&d.config.xaxis.convertedCatToNumeric?m[d.globals.minX+w-1]:m[w]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+v});if(i.add(L),L.on("click",function(V){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},d,{labelIndex:w});d.config.chart.events.xAxisLabelClick(V,l.ctx,H)}}),e){var N=document.createElementNS(d.globals.SVGNS,"title");N.textContent=Array.isArray(T.text)?T.text.join(" "):T.text,L.node.appendChild(N),T.text!==""&&(u.push(T.text),h.push(T))}}w<b-1&&(y+=a(w+1,o))},k=0;k<=b-1;k++)R(k)}},{key:"drawXaxisInversed",value:function(e){var t,i,r=this,s=this.w,a=new W(this.ctx),o=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,l=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var u=[];if(s.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=s.globals.gridHeight/u.length,i=-t/2.2;var d=s.globals.yLabelFormatters[0],g=s.config.yaxis[0].labels;if(g.show)for(var p=function(S){var R=u[S]===void 0?"":u[S];R=d(R,{seriesIndex:e,dataPointIndex:S,w:s});var k=r.axesUtils.getYAxisForeColor(g.style.colors,e),w=0;Array.isArray(R)&&(w=R.length/2*parseInt(g.style.fontSize,10));var A=g.offsetX-15,T="end";r.yaxis.opposite&&(T="start"),s.config.yaxis[0].labels.align==="left"?(A=g.offsetX,T="start"):s.config.yaxis[0].labels.align==="center"?(A=g.offsetX,T="middle"):s.config.yaxis[0].labels.align==="right"&&(T="end");var P=a.drawText({x:A,y:i+t+g.offsetY-w,text:R,textAnchor:T,foreColor:Array.isArray(k)?k[S]:k,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+g.style.cssClass,maxWidth:g.maxWidth});c.add(P),P.on("click",function(V){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},s,{labelIndex:S});s.config.chart.events.xAxisLabelClick(V,r.ctx,H)}});var L=document.createElementNS(s.globals.SVGNS,"title");if(L.textContent=Array.isArray(R)?R.join(" "):R,P.node.appendChild(L),s.config.yaxis[e].labels.rotate!==0){var N=a.rotateAroundCenter(P.node);P.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(N.y,")"))}i+=t},m=0;m<=u.length-1;m++)p(m);if(s.config.yaxis[0].title.text!==void 0){var x=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),v=a.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});x.add(v),l.add(x)}var y=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(y=s.globals.gridWidth);var b=s.config.xaxis.axisBorder;if(b.show){var C=a.drawLine(s.globals.padHorizontal+b.offsetX+y,1+b.offsetY,s.globals.padHorizontal+b.offsetX+y,s.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(C):l.add(C)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,u.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,i){var r=this.w,s=e;if(!(e<0||e-2>r.globals.gridWidth)){var a=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+a+r.config.xaxis.axisTicks.height,r.config.xaxis.position==="top"&&(t=a-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var o=new W(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,a+r.config.xaxis.offsetY,s+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);i.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],i=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<i;s++)r=this.xaxisLabels[s].position,t.push(r);else for(var a=i,o=0;o<a;o++){var l=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),r+=e.globals.gridWidth/l,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new W(this.ctx),i=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<r.length;o++){var l=t.rotateAroundCenter(r[o]);l.y=l.y-1,l.x=l.x+1,r[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),r[o].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var c=r[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(g){t.placeTextWithEllipsis(g,g.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var g=e.globals.gridWidth/(e.globals.labels.length+1),p=0;p<r.length;p++){var m=r[p].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(m,function(x){t.placeTextWithEllipsis(x,x.textContent,g)})}})();if(s.length>0){var u=s[s.length-1].getBBox(),h=s[0].getBBox();u.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var d=0;d<a.length;d++)t.placeTextWithEllipsis(a[d],a[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),n}(),u_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Ir(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return re(n,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,i=new W(this.ctx);e||(e=i.group({class:"apexcharts-grid"}));var r=i.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=i.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(r),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,i=new W(this.ctx),r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Ct(e.config.stroke.width)):e.config.stroke.width,s=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var a=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=i.drawRect(-r/2-2,-r/2-2,t.gridWidth+r+4,t.gridHeight+r+4,0,"#fff"),t.dom.elGridRectBar=i.drawRect(-r/2-a-2,-r/2-2,t.gridWidth+r+o+a+4,t.gridHeight+r+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=i.drawRect(-l,-l,t.gridWidth+2*l,t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,i=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:i,y1:r,x2:s,y2:a,xCount:o,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var h=c.globals.groups;if(h){for(var d=0,g=0;d<t&&g<h.length;g++)d+=h[g].cols;d===t&&(u=.6*c.globals.xAxisLabelsHeight)}}new fl(this.ctx).drawXaxisTicks(i,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,i=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),h=c.globals.barPadForNumericAxis,d=r===0&&a===0||i===0&&s===0||r===c.globals.gridHeight&&a===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===o-1),g=new W(this).drawLine(i-(u?h:0),r,s+(u?h:0),a,c.config.grid.borderColor,c.config.grid.strokeDashArray);g.node.classList.add("apexcharts-gridline"),d&&c.config.grid.show?this.elGridBorders.add(g):l.add(g)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,i=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.type,l=this.w,c=new W(this.ctx),u=l.globals.barPadForNumericAxis,h=l.config.grid[o].colors[t],d=c.drawRect(i-(o==="row"?u:0),r,s+(o==="row"?2*u:0),a,0,h,l.config.grid[o].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var t=this,i=e.xCount,r=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var a,o=s.globals.padHorizontal,l=s.globals.gridHeight;s.globals.timescaleLabels.length?function(p){for(var m=p.xC,x=p.x1,v=p.y1,y=p.x2,b=p.y2,C=0;C<m;C++)x=t.xaxisLabels[C].position,y=t.xaxisLabels[C].position,t._drawGridLines({i:C,x1:x,y1:v,x2:y,y2:b,xCount:i,parent:t.elgridLinesV})}({xC:i,x1:o,y1:0,x2:a,y2:l}):(s.globals.isXNumeric&&(i=s.globals.xAxisScale.result.length),function(p){for(var m=p.xC,x=p.x1,v=p.y1,y=p.x2,b=p.y2,C=0;C<m+(s.globals.isXNumeric?0:1);C++)C===0&&m===1&&s.globals.dataPoints===1&&(y=x=s.globals.gridWidth/2),t._drawGridLines({i:C,x1:x,y1:v,x2:y,y2:b,xCount:i,parent:t.elgridLinesV}),y=x+=s.globals.gridWidth/(s.globals.isXNumeric?m-1:m)}({xC:i,x1:o,y1:0,x2:a,y2:l}))}if(s.config.grid.yaxis.lines.show){var c=0,u=0,h=s.globals.gridWidth,d=r+1;this.isRangeBar&&(d=s.globals.labels.length);for(var g=0;g<d+(this.isRangeBar?1:0);g++)this._drawGridLine({i:g,xCount:d+(this.isRangeBar?1:0),x1:0,y1:c,x2:h,y2:u,parent:this.elgridLinesH}),u=c+=s.globals.gridHeight/(this.isRangeBar?d:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var r,s=i.globals.padHorizontal,a=i.globals.gridHeight,o=0;o<t+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:t+1,x1:s,y1:0,x2:r,y2:a,parent:this.elgridLinesV}),new fl(this.ctx).drawXaxisTicks(s,0,i.globals.dom.elGraphical),r=s+=i.globals.gridWidth/t;if(i.config.grid.yaxis.lines.show)for(var l=0,c=0,u=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:i.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,i=new W(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(r);)r++;r===t.seriesYAxisMap.length&&(r=0);var s,a=t.yAxisScale[r].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var o,l,c;s=this.xaxisLabels.length,this.isRangeBar&&(a=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((o=t.yAxisScale)===null||o===void 0||(l=o[r])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(s=t.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:s,tickAmount:a})}else s=a,a=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:a});return this.drawGridBands(s,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var i,r,s=this,a=this.w;if(((i=a.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&function(p,m,x,v,y,b){for(var C=0,S=0;C<m;C++,S++)S>=a.config.grid[p].colors.length&&(S=0),s._drawGridBandRect({c:S,x1:x,y1:v,x2:y,y2:b,type:p}),v+=a.globals.gridHeight/t}("row",t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),((r=a.config.grid.column.colors)===null||r===void 0?void 0:r.length)>0){var o=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(o=a.globals.xAxisScale.result.length-1);for(var l=a.globals.padHorizontal,c=a.globals.padHorizontal+a.globals.gridWidth/o,u=a.globals.gridHeight,h=0,d=0;h<e;h++,d++){var g;d>=a.config.grid.column.colors.length&&(d=0),a.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[h].position,c=(((g=this.xaxisLabels[h+1])===null||g===void 0?void 0:g.position)||a.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:d,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=a.globals.gridWidth/o}}}}]),n}(),h_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.coreUtils=new ft(this.ctx)}return re(n,[{key:"niceScale",value:function(e,t){var i,r,s,a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(i=c.config.xaxis,r=Math.max((u.svgWidth-100)/25,2)):(i=c.config.yaxis[o],r=Math.max((u.svgHeight-100)/15,2)),O.isNumber(r)||(r=10),s=i.min!==void 0&&i.min!==null,a=i.max!==void 0&&i.min!==null;var h=i.stepSize!==void 0&&i.stepSize!==null,d=i.tickAmount!==void 0&&i.tickAmount!==null,g=d?i.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(r/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!d&&u.multiAxisTickAmount>0&&(g=u.multiAxisTickAmount,d=!0),g=g==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(g)),(e===Number.MIN_VALUE&&t===0||!O.isNumber(e)&&!O.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=O.isNumber(i.min)?i.min:0,t=O.isNumber(i.max)?i.max:e+g,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=t;t=e,e=p}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var m=[];g<1&&(g=1);var x=g,v=Math.abs(t-e);!s&&e>0&&e/v<.15&&(e=0,s=!0),!a&&t<0&&-t/v<.15&&(t=0,a=!0);var y=(v=Math.abs(t-e))/x,b=y,C=Math.floor(Math.log10(b)),S=Math.pow(10,C),R=Math.ceil(b/S);if(y=b=(R=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][R])*S,u.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(y=i.stepSize,h=!0):h&&(y=i.stepSize),h&&i.forceNiceScale){var k=Math.floor(Math.log10(y));y*=Math.pow(10,C-k)}if(s&&a){var w=v/x;if(d)if(h)if(O.mod(v,y)!=0){var A=O.getGCD(y,w);y=w/A<10?A:w}else O.mod(y,w)==0?y=w:(w=y,d=!1);else y=w;else if(h)O.mod(v,y)==0?w=y:y=w;else if(O.mod(v,y)==0)w=y;else{w=v/(x=Math.ceil(v/y));var T=O.getGCD(v,y);v/T<r&&(w=T),y=w}x=Math.round(v/y)}else{if(s||a){if(a)if(d)e=t-y*x;else{var P=e;e=y*Math.floor(e/y),Math.abs(t-e)/O.getGCD(v,y)>r&&(e=t-y*g,e+=y*Math.floor((P-e)/y))}else if(s)if(d)t=e+y*x;else{var L=t;t=y*Math.ceil(t/y),Math.abs(t-e)/O.getGCD(v,y)>r&&(t=e+y*g,t+=y*Math.ceil((L-t)/y))}}else if(u.isMultipleYAxis&&d){var N=y*Math.floor(e/y),V=N+y*x;V<t&&(y*=2),V=t,t=(e=N)+y*x,v=Math.abs(t-e),e>0&&e<Math.abs(V-t)&&(e=0,t=y*x),t<0&&-t<Math.abs(N-e)&&(t=0,e=-y*x)}else e=y*Math.floor(e/y),t=y*Math.ceil(t/y);v=Math.abs(t-e),y=O.getGCD(v,y),x=Math.round(v/y)}if(d||s||a||(x=Math.ceil((v-l)/(y+l)))>16&&O.getPrimeFactors(x).length<2&&x++,!d&&i.forceNiceScale&&u.yValueDecimal===0&&x>v&&(x=v,y=Math.round(v/x)),x>r&&(!d&&!h||i.forceNiceScale)){var H=O.getPrimeFactors(x),Y=H.length-1,q=x;e:for(var F=0;F<Y;F++)for(var U=0;U<=Y-F;U++){for(var $=Math.min(U+F,Y),J=q,oe=1,ge=U;ge<=$;ge++)oe*=H[ge];if((J/=oe)<r){q=J;break e}}y=q===x?v:v/q,x=Math.round(v/y)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=x);var pe=e-y,Me=y*l;do pe+=y,m.push(O.stripNumber(pe,7));while(t-pe>Me);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(t-e),o=[];if(e===t)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(i=this._adjustTicksForSmallRange(i,r,a))==="dataPoints"&&(i=this.w.globals.dataPoints-1),s||(s=a/i),s=Math.round(100*(s+Number.EPSILON))/100,i===Number.MAX_VALUE&&(i=5,s=1);for(var l=e;i>=0;)o.push(l),l=O.preciseAddition(l,s),i-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var r=[],s=Math.ceil(Math.log(t)/Math.log(i)+1),a=Math.floor(Math.log(e)/Math.log(i));a<s;a++)r.push(Math.pow(i,a));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var r=[],s=Math.log(t)/Math.log(i),a=Math.log(e)/Math.log(i),o=s-a,l=Math.round(o),c=o/l,u=0,h=a;u<l;u++,h+=c)r.push(Math.pow(i,h));return r.push(Math.pow(i,s)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,i){var r=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var s=Number(this.w.config.yaxis[t].labels.formatter(1));O.isNumber(s)&&this.w.globals.yValueDecimal===0&&(r=Math.ceil(i))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,i){var r=this.w.globals,s=this.w.config,a=r.isBarHorizontal?s.xaxis:s.yaxis[e];r.yAxisScale[e]===void 0&&(r.yAxisScale[e]=[]);var o=Math.abs(i-t);a.logarithmic&&o<=5&&(r.invalidLogScale=!0),a.logarithmic&&o>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,i,a.logBase):this.logarithmicScale(t,i,a.logBase)):i!==-Number.MAX_VALUE&&O.isNumber(i)&&t!==Number.MAX_VALUE&&O.isNumber(t)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(t,i,e)):r.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var i=this.w,r=i.globals;if(t!==-Number.MAX_VALUE&&O.isNumber(t)){var s=r.xTickAmount;r.xAxisScale=this.linearScale(e,t,s,0,i.config.xaxis.stepSize)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=i.seriesYAxisMap,s=i.minYArr,a=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],r.forEach(function(o,l){var c=[];o.forEach(function(u){var h,d=(h=t.series[u])===null||h===void 0?void 0:h.group;c.indexOf(d)<0&&c.push(d)}),o.length>0?function(){var u,h,d=Number.MAX_VALUE,g=-Number.MAX_VALUE,p=d,m=g;if(t.chart.stacked)(function(){var y=new Array(i.dataPoints).fill(0),b=[],C=[],S=[];c.forEach(function(){b.push(y.map(function(){return Number.MIN_VALUE})),C.push(y.map(function(){return Number.MIN_VALUE})),S.push(y.map(function(){return Number.MIN_VALUE}))});for(var R=function(w){!u&&t.series[o[w]].type&&(u=t.series[o[w]].type);var A=o[w];h=t.series[A].group?t.series[A].group:"axis-".concat(l),!(i.collapsedSeriesIndices.indexOf(A)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(A)<0)||(i.allSeriesCollapsed=!1,c.forEach(function(T,P){if(t.series[A].group===T)for(var L=0;L<i.series[A].length;L++){var N=i.series[A][L];N>=0?C[P][L]+=N:S[P][L]+=N,b[P][L]+=N,p=Math.min(p,N),m=Math.max(m,N)}})),u!=="bar"&&u!=="column"||i.barGroups.push(h)},k=0;k<o.length;k++)R(k);u||(u=t.chart.type),u==="bar"||u==="column"?c.forEach(function(w,A){d=Math.min(d,Math.min.apply(null,S[A])),g=Math.max(g,Math.max.apply(null,C[A]))}):(c.forEach(function(w,A){p=Math.min(p,Math.min.apply(null,b[A])),m=Math.max(m,Math.max.apply(null,b[A]))}),d=p,g=m),d===Number.MIN_VALUE&&g===Number.MIN_VALUE&&(g=-Number.MAX_VALUE)})();else for(var x=0;x<o.length;x++){var v=o[x];d=Math.min(d,s[v]),g=Math.max(g,a[v]),!(i.collapsedSeriesIndices.indexOf(v)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(v)<0)||(i.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(d=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(d):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(g=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(g):t.yaxis[l].max),i.barGroups=i.barGroups.filter(function(y,b,C){return C.indexOf(y)===b}),e.setYScaleForIndex(l,d,g),o.forEach(function(y){s[y]=i.yAxisScale[l].niceMin,a[y]=i.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),n}(),kg=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.scales=new h_(e)}return re(n,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;r===null&&(r=e+1);var c=a.series,u=c,h=c;s.chart.type==="candlestick"?(u=a.seriesCandleL,h=a.seriesCandleH):s.chart.type==="boxPlot"?(u=a.seriesCandleO,h=a.seriesCandleC):a.isRangeData&&(u=a.seriesRangeStart,h=a.seriesRangeEnd);var d=!1;if(a.seriesX.length>=r){var g,p=(g=a.brushSource)===null||g===void 0?void 0:g.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||p!=null&&p.enabled&&p!=null&&p.autoScaleYaxis)&&(d=!0)}for(var m=e;m<r;m++){a.dataPoints=Math.max(a.dataPoints,c[m].length);var x=s.series[m].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(A){return A!==void 0}).length),a.labels.length&&s.xaxis.type!=="datetime"&&a.series.reduce(function(A,T){return A+T.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var v=0,y=c[m].length-1;if(d){if(s.xaxis.min)for(;v<y&&a.seriesX[m][v]<s.xaxis.min;v++);if(s.xaxis.max)for(;y>v&&a.seriesX[m][y]>s.xaxis.max;y--);}for(var b=v;b<=y&&b<a.series[m].length;b++){var C=c[m][b];if(C!==null&&O.isNumber(C)){var S,R,k,w;switch(((S=h[m])===null||S===void 0?void 0:S[b])!==void 0&&(o=Math.max(o,h[m][b]),t=Math.min(t,h[m][b])),((R=u[m])===null||R===void 0?void 0:R[b])!==void 0&&(t=Math.min(t,u[m][b]),i=Math.max(i,u[m][b])),x){case"candlestick":a.seriesCandleC[m][b]!==void 0&&(o=Math.max(o,a.seriesCandleH[m][b]),t=Math.min(t,a.seriesCandleL[m][b]));break;case"boxPlot":a.seriesCandleC[m][b]!==void 0&&(o=Math.max(o,a.seriesCandleC[m][b]),t=Math.min(t,a.seriesCandleO[m][b]))}x&&x!=="candlestick"&&x!=="boxPlot"&&x!=="rangeArea"&&x!=="rangeBar"&&(o=Math.max(o,a.series[m][b]),t=Math.min(t,a.series[m][b])),a.seriesGoals[m]&&a.seriesGoals[m][b]&&Array.isArray(a.seriesGoals[m][b])&&a.seriesGoals[m][b].forEach(function(A){o=Math.max(o,A.value),t=Math.min(t,A.value)}),i=o,C=O.noExponents(C),O.isFloat(C)&&(a.yValueDecimal=Math.max(a.yValueDecimal,C.toString().split(".")[1].length)),l>((k=u[m])===null||k===void 0?void 0:k[b])&&((w=u[m])===null||w===void 0?void 0:w[b])<0&&(l=u[m][b])}else a.hasNullValues=!0}x!=="bar"&&x!=="column"||(l<0&&o<0&&(o=0,i=Math.max(i,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return s.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(l=t),s.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:t,highestY:i}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var i,r=Number.MAX_VALUE;if(e.isMultipleYAxis){r=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)i=this.getMinYMaxY(s),e.minYArr[s]=i.lowestY,e.maxYArr[s]=i.highestY,r=Math.min(r,i.lowestY)}return i=this.getMinYMaxY(0,r,null,e.series.length),t.chart.type==="bar"?(e.minY=i.minY,e.maxY=i.maxY):(e.minY=i.lowestY,e.maxY=i.highestY),r=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY&&(e.minY=r):e.minY=e.minY!==Number.MIN_VALUE?Math.min(i.minY,e.minY):i.minY,t.yaxis.forEach(function(a,o){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[o]=a.max:typeof a.max=="function"&&(e.maxYArr[o]=a.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[o]=a.min:typeof a.min=="function"&&(e.minYArr[o]=a.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&typeof t.xaxis[a]=="number"&&(a==="min"?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=r):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.lineGroups=e.lineGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.areaGroups=e.areaGroups.filter(function(a,o,l){return l.indexOf(a)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,i=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&O.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r=10;if(t.xaxis.tickAmount===void 0)r=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&e.dataPoints!==0&&(r=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=Math.round(e.maxX-e.minX);s<30&&(r=s-1)}}else r=t.xaxis.tickAmount;if(e.xTickAmount=r,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());i&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var i=0;i<e.seriesZ[t].length;i++)e.seriesZ[t][i]!==null&&O.isNumber(e.seriesZ[t][i])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][i]),e.minZ=Math.min(e.minZ,e.seriesZ[t][i]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var i=new Ft(this.ctx);if(t.xaxis.type==="datetime"){var r=i.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var s=i.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,i){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort(function(s,a){return s-a}),r.forEach(function(s,a){if(a>0){var o=s-r[a-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var i=t.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map(function(a){return a})]);var r={},s={};i.forEach(function(a){r[a]=[],s[a]=[],e.w.config.series.map(function(o,l){return a.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,u,h,d;r[a][l]===void 0&&(r[a][l]=0,s[a][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[o])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(d=h[o])===null||d===void 0?void 0:d.type)==="column"))&&t.series[o][l]!==null&&O.isNumber(t.series[o][l])&&(t.series[o][l]>0?r[a][l]+=parseFloat(t.series[o][l])+1e-4:s[a][l]+=parseFloat(t.series[o][l]))}})}),Object.entries(r).forEach(function(a){var o=R1(a,1)[0];r[o].forEach(function(l,c){t.maxY=Math.max(t.maxY,r[o][c]),t.minY=Math.min(t.minY,s[o][c])})})}}}]),n}(),um=function(){function n(e,t){ie(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ir(e)}return re(n,[{key:"drawYaxis",value:function(e){var t=this.w,i=new W(this.ctx),r=t.config.yaxis[e].labels.style,s=r.fontSize,a=r.fontFamily,o=r.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,d=t.globals.yLabelFormatters[e],g=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var p=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?p=0:t.config.chart.type==="heatmap"&&(p-=h/2),p+=parseInt(s,10)/3;for(var m=u;m>=0;m--){var x=d(g[m],m,t),v=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(v*=-1);var y=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(r.colors,e),C=Array.isArray(b)?b[m]:b,S=O.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(k){return k.textContent}),R=i.drawText({x:v,y:p,text:S.includes(x)&&!t.config.yaxis[e].labels.showDuplicates?"":x,textAnchor:y,fontSize:s,fontFamily:a,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:C,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});c.add(R),this.addTooltip(R,x),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(i,R,firstLabel,t.config.yaxis[e].labels.rotate),p+=h}}return this.addYAxisTitle(i,l,e),this.addAxisBorder(i,l,e,u,h),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(i)}},{key:"rotateLabel",value:function(e,t,i,r){var s=e.rotateAroundCenter(i.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(r," ").concat(s.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,i){var r=this.w;if(r.config.yaxis[i].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),a=r.config.yaxis[i].opposite?r.globals.translateYAxisX[i]:0,o=e.drawText({x:a,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[i].title.offsetY,text:r.config.yaxis[i].title.text,textAnchor:"end",foreColor:r.config.yaxis[i].title.style.color,fontSize:r.config.yaxis[i].title.style.fontSize,fontWeight:r.config.yaxis[i].title.style.fontWeight,fontFamily:r.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[i].title.style.cssClass)});s.add(o),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,i,r,s){var a=this.w,o=a.config.yaxis[i].axisBorder,l=31+o.offsetX;if(a.config.yaxis[i].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,a.globals.translateY+o.offsetY-2,l,a.globals.gridHeight+a.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(c)}a.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,r,o,a.config.yaxis[i].axisTicks,i,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,i=new W(this.ctx),r=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(s);var a=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/a+.1,l=o+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),a=(u=h.slice()).length),t.config.xaxis.labels.show)for(var d=h.length?0:a;h.length?d<h.length:d>=0;h.length?d++:d--){var g=c(u[d],d,t),p=t.globals.gridWidth+t.globals.padHorizontal-(l-o+t.config.xaxis.labels.offsetX);if(h.length){var m=this.axesUtils.getLabel(u,h,p,d,this.drawnLabels,this.xaxisFontSize);p=m.x,g=m.text,this.drawnLabels.push(m.text),d===0&&t.globals.skipFirstTimelinelabel&&(g=""),d===u.length-1&&t.globals.skipLastTimelinelabel&&(g="")}var x=i.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:g,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(x),x.tspan(g),this.addTooltip(x,g),l+=o}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,i=new W(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var s=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(s-=15);var a=i.drawLine(t.globals.padHorizontal+s+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,i=new W(this.ctx);if(t.config.xaxis.title.text!==void 0){var r=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=i.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});r.add(s),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var i=this.w,r=new W(this.ctx),s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=s?s.getBoundingClientRect():{width:0,height:0},o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,a,l,t);o.setAttribute("x",c.xPos-(t?10:0));var u=r.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*i.config.yaxis[e].title.rotate:i.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,i,r){var s=this.w,a=0,o=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(r?a=t.width+s.config.yaxis[e].title.offsetX+i.width/2+o/2:(a=-1*t.width+s.config.yaxis[e].title.offsetX+o/2+i.width/2,s.globals.isBarHorizontal&&(o=25,a=-1*t.width-s.config.yaxis[e].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var i=this.w,r=0,s=0,a=18,o=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach(function(l,c){var u=i.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,h=e[c].width+t[c].width;l.opposite?i.globals.isBarHorizontal?(s=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[c]=s-l.labels.offsetX):(s=i.globals.gridWidth+i.globals.translateX+o,u||(o+=h+20),i.globals.translateYAxisX[c]=s-l.labels.offsetX+20):(r=i.globals.translateX-a,u||(a+=h+20),i.globals.translateYAxisX[c]=r+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;O.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,i){var r=e.config.yaxis[i];if(r&&!r.floating&&r.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),a=O.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),o=s.getBoundingClientRect();a.forEach(function(l){l.setAttribute("text-anchor",r.labels.align)}),r.labels.align!=="left"||r.opposite?r.labels.align==="center"?s.setAttribute("transform","translate(".concat(o.width/2*(r.opposite?1:-1),", 0)")):r.labels.align==="right"&&r.opposite&&s.setAttribute("transform","translate(".concat(o.width,", 0)")):s.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),n}(),zT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.documentEvent=O.bind(this.documentEvent,this)}return re(n,[{key:"addEventListener",value:function(e,t){var i=this.w;i.globals.events.hasOwnProperty(e)?i.globals.events[e].push(t):i.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){var r=i.globals.events[e].indexOf(t);r!==-1&&i.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=i.globals.events[e],s=r.length,a=0;a<s;a++)r[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,i=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(s){r.addEventListener(s,function(a){var o=a.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:a.target.getAttribute("i"),l=a.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:a.target.getAttribute("j"),c=Object.assign({},t,{seriesIndex:t.globals.axisCharts?o:0,dataPointIndex:l});a.type==="mousemove"||a.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(a,i,c):a.type==="mouseleave"||a.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(a,i,c):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(a,i,c),i.ctx.events.fireEvent("click",[a,i,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,i=e.target.className;if(e.type==="click"){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),n}(),jT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter(function(s){return s.name===e})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=O.extend(o_,i);this.w.globals.locale=r.options}}]),n}(),HT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"drawAxis",value:function(e,t){var i,r,s=this,a=this.w.globals,o=this.w.config,l=new fl(this.ctx,t),c=new um(this.ctx,t);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(r=c.drawYaxisInversed(0),i=l.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(r)):(i=l.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map(function(u,h){if(a.ignoreYAxisIndexes.indexOf(h)===-1&&(r=c.drawYaxis(h),a.dom.Paper.add(r),s.w.config.grid.position==="back")){var d=a.dom.Paper.children()[1];d.remove(),a.dom.Paper.add(d)}})))}}]),n}(),Ag=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new W(this.ctx),i=new zt(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,o=r.colorFrom,l=r.colorTo,c=r.opacityFrom,u=r.opacityTo,h=r.stops,d=s.enabled,g=s.left,p=s.top,m=s.blur,x=s.color,v=s.opacity,y=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(y=t.drawGradient("vertical",o,l,c,u,null,h,null));var b=t.drawRect();e.config.xaxis.crosshairs.width===1&&(b=t.drawLine());var C=e.globals.gridHeight;(!O.isNumber(C)||C<0)&&(C=0);var S=e.config.xaxis.crosshairs.width;(!O.isNumber(S)||S<0)&&(S=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:C,width:S,height:C,fill:y,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(b=i.dropShadow(b,{left:g,top:p,blur:m,color:x,opacity:v})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new W(this.ctx),i=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-r,0,e.globals.gridWidth+r,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var a=t.drawLine(-r,0,e.globals.gridWidth+r,0,i.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),n}(),BT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"checkResponsiveConfig",value:function(e){var t=this,i=this.w,r=i.config;if(r.responsive.length!==0){var s=r.responsive.slice();s.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var a=new dl({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var d=O.clone(i.globals.initialConfig);d.series=O.clone(i.config.series);var g=ft.extendArrayProps(a,d,i);c=O.extend(g,c),c=O.extend(i.config,c),t.overrideResponsiveOptions(c)}else for(var p=0;p<s.length;p++)h<s[p].breakpoint&&(c=ft.extendArrayProps(a,s[p].options,i),c=O.extend(i.config,c),t.overrideResponsiveOptions(c))};if(e){var l=ft.extendArrayProps(a,e,i);l=O.extend(i.config,l),o(l=O.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new dl(e).init({responsiveOverride:!0});this.w.config=t}}]),n}(),WT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return re(n,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return t.type==="treemap"&&i.treemap&&i.treemap.distributed||t.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return i.bar&&i.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new O;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var i=Ct(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(i),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var r=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(e){var t=this,i=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,i.config.series.map(function(r,s){var a=e[s]||e[0];return typeof a=="function"?a({value:i.globals.axisCharts?i.globals.series[s][0]||0:i.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(i,r){i&&(t[r]=i)})}},{key:"getMonochromeColors",value:function(e,t,i){var r=e.color,s=e.shadeIntensity,a=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(o/s),c=0;return Array.from({length:o},function(){var u=a==="dark"?i.shadeColor(-1*c,r):i.shadeColor(c,r);return c+=l,u})}},{key:"applyColorTypes",value:function(e,t){var i=this,r=this.w;e.forEach(function(s){r.globals[s].colors=r.config[s].colors===void 0?i.isColorFn?r.config.colors:t:r.config[s].colors.slice(),i.pushExtraColors(r.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=t||r.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),i&&r.globals.series.length&&(s=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<s)for(var a=s-e.length,o=0;o<a;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,i=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",r=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=r,e.theme.palette=i,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),n}(),XT=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,i=e==="title"?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,s=i.offsetY,a="middle";if(i.align==="left"?(r=10,a="start"):i.align==="right"&&(r=t.globals.svgWidth-10,a="end"),r+=i.offsetX,s=s+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var o=new W(this.ctx).drawText({x:r,y:s,text:i.text,textAnchor:a,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),n}(),UT=function(){function n(e){ie(this,n),this.w=e.w,this.dCtx=e}return re(n,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,i=0,r=0,s=e==="title"?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!s){var o=a.getBoundingClientRect();i=o.width,r=t.globals.axisCharts?o.height+5:o.height}return{width:i,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var i=Object.assign({},O.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,i=[];t.config.series.forEach(function(l,c){l.data.forEach(function(u,h){var d;d=t.globals.series[c][h],r=t.config.dataLabels.formatter(d,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:h,w:t}),i.push(r)})});var r=O.getLargestStringFromArr(i),s=new W(this.dCtx.ctx),a=t.config.dataLabels.style,o=s.getTextRects(r,parseInt(a.fontSize),a.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var i=e;if(this.w.globals.isMultiLineX){var r=t.map(function(a,o){return Array.isArray(a)?a.length:1}),s=Math.max.apply(Math,Ct(r));i=t[r.indexOf(s)]}return i}}]),n}(),YT=function(){function n(e){ie(this,n),this.w=e.w,this.dCtx=e}return re(n,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,i=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,a=O.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,i);t.globals.isBarHorizontal&&(o=a=t.globals.yAxisScale[0].result.reduce(function(p,m){return p.length>m.length?p:m},0));var l=new Dl(this.dCtx.ctx),c=a;a=l.xLabelFormat(s,a,c,{i:void 0,dateFormatter:new Ft(this.dCtx.ctx).formatDate,w:t}),o=l.xLabelFormat(s,o,c,{i:void 0,dateFormatter:new Ft(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(o=a="1");var u=new W(this.dCtx.ctx),h=u.getTextRects(a,t.config.xaxis.labels.style.fontSize),d=h;if(a!==o&&(d=u.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*i.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var g=function(p){return u.getTextRects(p,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=g(a),a!==o&&(d=g(o)),e.height=(h.height>d.height?h.height:d.height)/1.5,e.width=h.width>d.width?h.width:d.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var i,r=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(h){return h.title}),a=O.getLargestStringFromArr(s),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s),l=new W(this.dCtx.ctx),c=l.getTextRects(a,r),u=c;return a!==o&&(u=l.getTextRects(o,r)),i={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,i=0;if(e.config.xaxis.title.text!==void 0){var r=new W(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,i=r.height}return{width:t,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(s){return s.value}),r=i.reduce(function(s,a){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>a.length?s:a},0);return 1.05*(e=new W(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*i.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,i=this.w,r=i.globals,s=i.config,a=s.xaxis.type,o=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var l=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,c=function(u,h){s.yaxis.length>1&&function(d){return r.collapsedSeriesIndices.indexOf(d)!==-1}(h)||function(d){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var g=t.dCtx.timescaleLabels[0],p=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,m=g.position-o/1.75+t.dCtx.yAxisWidthLeft,x=i.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;p>r.svgWidth-r.translateX-x&&(r.skipLastTimelinelabel=!0),m<-(d.show&&!d.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:o/1.75)&&(r.skipFirstTimelinelabel=!0)}else a==="datetime"?t.dCtx.gridPad.right<o&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):a!=="datetime"&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!i.config.xaxis.labels.trim&&(t.dCtx.xPadRight=o/2+1)}(u)};s.yaxis.forEach(function(u,h){l?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):c(u,h)})}}]),n}(),$T=function(){function n(e){ie(this,n),this.w=e.w,this.dCtx=e}return re(n,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,i=[],r=10,s=new Ir(this.dCtx.ctx);return t.config.yaxis.map(function(a,o){var l={seriesIndex:o,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[o],u=0;if(!s.isYAxisHidden(o)&&a.labels.show&&a.labels.minWidth!==void 0&&(u=a.labels.minWidth),!s.isYAxisHidden(o)&&a.labels.show&&c.result.length){var h=t.globals.yLabelFormatters[o],d=c.niceMin===Number.MIN_VALUE?0:c.niceMin,g=c.result.reduce(function(C,S){var R,k;return((R=String(h(C,l)))===null||R===void 0?void 0:R.length)>((k=String(h(S,l)))===null||k===void 0?void 0:k.length)?C:S},d),p=g=h(g,l);if(g!==void 0&&g.length!==0||(g=c.niceMax),t.globals.isBarHorizontal){r=0;var m=t.globals.labels.slice();g=O.getLargestStringFromArr(m),g=h(g,{seriesIndex:o,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(g,m)}var x=new W(e.dCtx.ctx),v="rotate(".concat(a.labels.rotate," 0 0)"),y=x.getTextRects(g,a.labels.style.fontSize,a.labels.style.fontFamily,v,!1),b=y;g!==p&&(b=x.getTextRects(p,a.labels.style.fontSize,a.labels.style.fontFamily,v,!1)),i.push({width:(u>b.width||u>y.width?u:b.width>y.width?b.width:y.width)+r,height:b.height>y.height?b.height:y.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,i=[];return t.config.yaxis.map(function(r,s){if(r.show&&r.title.text!==void 0){var a=new W(e.dCtx.ctx),o="rotate(".concat(r.title.rotate," 0 0)"),l=a.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,o,!1);i.push({width:l.width,height:l.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,i=0,r=0,s=e.globals.yAxisScale.length>1?10:0,a=new Ir(this.dCtx.ctx),o=function(l,c){var u=e.config.yaxis[c].floating,h=0;l.width>0&&!u?(h=l.width+s,function(d){return e.globals.ignoreYAxisIndexes.indexOf(d)>-1}(c)&&(h=h-l.width-s)):h=u||a.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?r+=h:i+=h,t+=h};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=r,t}}]),n}(),GT=function(){function n(e){ie(this,n),this.w=e.w,this.dCtx=e}return re(n,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,i=t.config,r=t.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===i.series.length)return 0;var s=function(g){return["bar","rangeBar","candlestick","boxPlot"].includes(g)},a=i.chart.type,o=0,l=s(a)?i.series.length:1;r.comboBarCount>0&&(l=r.comboBarCount),r.collapsedSeries.forEach(function(g){s(g.type)&&(l-=1)}),i.chart.stacked&&(l=1);var c=s(a)||r.comboBarCount>0,u=Math.abs(r.initialMaxX-r.initialMinX);if(c&&r.isXNumeric&&!r.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=r.dataPoints);var h=u/e,d=r.minXDiff&&r.minXDiff/h>0?r.minXDiff/h:0;d>e/2&&(d/=2),(o=d*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),r.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,i=t.globals,r=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach(function(o){t.config[o].text!==void 0?r+=t.config[o].margin:r+=e.dCtx.isSparkline||!i.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||i.axisCharts||(r+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=s.height+a.height+r,i.translateY+=s.height+a.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var i=this.w,r=new Ir(this.dCtx.ctx);i.config.yaxis.forEach(function(s,a){i.globals.ignoreYAxisIndexes.indexOf(a)!==-1||s.floating||r.isYAxisHidden(a)||(s.opposite&&(i.globals.translateX-=t[a].width+e[a].width+parseInt(s.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),n}(),Hu=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new UT(this),this.dimYAxis=new $T(this),this.dimXAxis=new YT(this),this.dimGrid=new GT(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return re(n,[{key:"plotCoords",value:function(){var e=this,t=this.w,i=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Ct(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=R1(a,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,i=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(g,p){t.globals.yLabelsCoords.push({width:r[p].width,index:p}),t.globals.yTitleCoords.push({width:s[p].width,index:p})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,l,o),i.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+t.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-l.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-a.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var d=function(){i.translateX=c+e.datalabelsCoords.width,i.gridHeight=i.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=i.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":i.translateY=h,d();break;case"top":i.translateY=this.lgRect.height+h,d();break;case"left":i.translateY=h,i.translateX=this.lgRect.width+c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-u-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":i.translateY=h,i.translateX=c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-u-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,r),new um(this.ctx).setYAxisXPosition(r,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var s=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",a=i.plotOptions[s].offsetY,o=i.plotOptions[s].offsetX;if(!i.legend.show||i.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=a,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2)}switch(i.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,i){var r=this.w,s=r.globals.hasXaxisGroups?2:1,a=i.height+e.height+t.height,o=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,l=r.globals.rotateXLabels?22:10,c=r.globals.rotateXLabels&&r.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*o+s*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;r.config.yaxis.forEach(function(d){u+=d.labels.minWidth,h+=d.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),n}(),qT=function(){function n(e){ie(this,n),this.w=e.w,this.lgCtx=e}return re(n,[{key:"getLegendStyles",value:function(){var e,t,i,r=document.createElement("style");r.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(i=t.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;s&&r.setAttribute("nonce",s);var a=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return r.appendChild(a),r}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var i=this,r=this.w;if(r.globals.axisCharts||r.config.chart.type==="radialBar"){r.globals.resized=!0;var s=null,a=null;r.globals.risingSeries=[],r.globals.axisCharts?(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(s.getAttribute("data:realIndex"),10)):(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){i.riseCollapsedSeries(u.cs,u.csi,a)}):this.hideSeries({seriesEl:s,realIndex:a})}else{var o=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=r.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=r.config.plotOptions.pie.donut.labels;new W(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,i=this.w,r=i.globals,s=O.clone(i.config.series);if(r.axisCharts){var a=i.config.yaxis[r.seriesYAxisReverseMap[t]],o={index:t,data:s[t].data.slice(),type:s[t].type||i.config.chart.type};if(a&&a.show&&a.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(r.ancillaryCollapsedSeries.push(o),r.ancillaryCollapsedSeriesIndices.push(t));else if(r.collapsedSeriesIndices.indexOf(t)<0){r.collapsedSeries.push(o),r.collapsedSeriesIndices.push(t);var l=r.risingSeries.indexOf(t);r.risingSeries.splice(l,1)}}else r.collapsedSeries.push({index:t,data:s[t]}),r.collapsedSeriesIndices.push(t);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,i=e.realIndex,r=this.w,s=this.getSeriesAfterCollapsing({realIndex:i}),a=t.childNodes,o=0;o<a.length;o++)a[o].classList.contains("apexcharts-series-markers-wrap")&&(a[o].classList.contains("apexcharts-hide")?a[o].classList.remove("apexcharts-hide"):a[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,i){var r=this.w,s=O.clone(r.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===i&&(r.globals.axisCharts?s[i].data=e[a].data.slice():s[i]=e[a].data,typeof s[i]!="number"&&(s[i].hidden=!1),e.splice(a,1),t.splice(a,1),r.globals.risingSeries.push(i));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,i=0;return t.globals.axisCharts?e.forEach(function(r,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],i++)}):e.forEach(function(r,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,i++)}),t.globals.allSeriesCollapsed=i===e.length,e}}]),n}(),d_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new qT(this)}return re(n,[{key:"init",value:function(){var e=this.w,t=e.globals,i=e.config,r=i.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!t.axisCharts)&&i.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,i=e.fillcolor,r=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var a=r.config.legend.markers.shape||r.config.markers.shape,o=a;Array.isArray(a)&&(o=a[t]);var l=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[t]):parseFloat(r.config.legend.markers.size),c=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[t]):parseFloat(r.config.legend.markers.offsetX),u=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[t]):parseFloat(r.config.legend.markers.offsetY),h=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[t]):parseFloat(r.config.legend.markers.strokeWidth),d=s.style;if(d.height=2*(l+h)+"px",d.width=2*(l+h)+"px",d.left=c+"px",d.top=u+"px",r.config.legend.markers.customHTML)d.background="transparent",d.color=i[t],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[t]&&(s.innerHTML=r.config.legend.markers.customHTML[t]()):s.innerHTML=r.config.legend.markers.customHTML();else{var g=new Fa(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:t,strokeWidth:h,size:l}),p=window.SVG().addTo(s).size("100%","100%"),m=new W(this.ctx).drawMarker(0,0,Q(Q({},g),{},{pointFillColor:Array.isArray(i)?i[t]:g.pointFillColor,shape:o}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(x){x.node.classList.contains("apexcharts-marker-triangle")?x.node.style.transform="translate(50%, 45%)":x.node.style.transform="translate(50%, 50%)"}),p.add(m)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,i=this.w,r=i.config.legend.fontFamily,s=i.globals.seriesNames,a=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var o=i.config.plotOptions.heatmap.colorScale.ranges;s=o.map(function(g){return g.name?g.name:g.from+" - "+g.to}),a=o.map(function(g){return g.color})}else this.isBarsDistributed&&(s=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(s=i.config.legend.customLegendItems);var l=i.globals.legendFormatter,c=i.config.legend.inverseOrder,u=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach(function(g,p){u[p]=document.createElement("div"),u[p].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(p)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[p].classList.add("apexcharts-legend-group-vertical")});for(var h=function(g){var p,m=l(s[g],{seriesIndex:g,w:i}),x=!1,v=!1;if(i.globals.collapsedSeries.length>0)for(var y=0;y<i.globals.collapsedSeries.length;y++)i.globals.collapsedSeries[y].index===g&&(x=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<i.globals.ancillaryCollapsedSeriesIndices.length;b++)i.globals.ancillaryCollapsedSeriesIndices[b]===g&&(v=!0);var C=e.createLegendMarker({i:g,fillcolor:a});W.setAttrs(C,{rel:g+1,"data:collapsed":x||v}),(x||v)&&C.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),R=document.createElement("span");R.classList.add("apexcharts-legend-text"),R.innerHTML=Array.isArray(m)?m.join(" "):m;var k=i.config.legend.labels.useSeriesColors?i.globals.colors[g]:Array.isArray(i.config.legend.labels.colors)?(p=i.config.legend.labels.colors)===null||p===void 0?void 0:p[g]:i.config.legend.labels.colors;k||(k=i.config.chart.foreColor),R.style.color=k,R.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",R.style.fontWeight=i.config.legend.fontWeight,R.style.fontFamily=r||i.config.chart.fontFamily,W.setAttrs(R,{rel:g+1,i:g,"data:default-text":encodeURIComponent(m),"data:collapsed":x||v}),S.appendChild(C),S.appendChild(R);var w=new ft(e.ctx);i.config.legend.showForZeroSeries||w.getSeriesTotalByIndex(g)===0&&w.seriesHaveSameValues(g)&&!w.isSeriesNull(g)&&i.globals.collapsedSeriesIndices.indexOf(g)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(g)===-1&&S.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||w.isSeriesNull(g)&&i.globals.collapsedSeriesIndices.indexOf(g)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(g)===-1&&S.classList.add("apexcharts-hidden-null-series"),u.length?i.globals.seriesGroups.forEach(function(A,T){var P;A.includes((P=i.config.series[g])===null||P===void 0?void 0:P.name)&&(i.globals.dom.elLegendWrap.appendChild(u[T]),u[T].appendChild(S))}):i.globals.dom.elLegendWrap.appendChild(S),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",W.setAttrs(S,{rel:g+1,seriesName:O.escapeString(s[g]),"data:collapsed":x||v}),(x||v)&&S.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},d=c?s.length-1:0;c?d>=0:d<=s.length-1;c?d--:d++)h(d);i.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var i=this.w,r=i.globals.dom.elLegendWrap,s=r.clientHeight,a=0,o=0;if(i.config.legend.position==="bottom")o=i.globals.svgHeight-Math.min(s,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var l=new Hu(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(u>0?u-10:0)}r.style.position="absolute",a=a+e+i.config.legend.offsetX,o=o+t+i.config.legend.offsetY,r.style.left=a+"px",r.style.top=o+"px",i.config.legend.position==="right"&&(r.style.left="auto",r.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(h){r.style[h]&&(r.style[h]=parseInt(i.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Hu(this.ctx),i=t.dimHelpers.getTitleSubtitleCoords("title"),r=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=i.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),i=0;e.config.legend.position==="left"&&(i=20),e.config.legend.position==="right"&&(i=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,i=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new Vn(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&i&&new Vn(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(e.target.getAttribute("rel"),10)-1,r=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,r)}}}]),n}(),f_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return re(n,[{key:"createToolbar",value:function(){var e=this,t=this.w,i=function(){return document.createElement("div")},r=i();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(i());var a=[],o=function(h,d,g){var p=h.toLowerCase();e.t[p]&&t.config.chart.zoom.enabled&&a.push({el:d,icon:typeof e.t[p]=="string"?e.t[p]:g,title:e.localeValues[h],class:"apexcharts-".concat(p,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(h){e.t[h]&&t.config.chart[h].enabled&&a.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)a.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});a.forEach(function(h,d){h.index&&O.moveIndexInArray(a,d,h.index)});for(var u=0;u<a.length;u++)W.setAttrs(a[u].el,{class:a[u].class,title:a[u].title}),a[u].el.innerHTML=a[u].icon,r.appendChild(a[u].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),W.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<t.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=t[i].title,W.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(t[i].name),title:t[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",e.handleDownload.bind(e,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",e.handleDownload.bind(e,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var i=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],i.classList.contains(t.ctx.toolbar.selectedClass)?i.classList.remove(t.ctx.toolbar.selectedClass):i.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,i=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,i=(this.minX+t)/2,r=(this.maxX+t)/2,s=this._getNewMinXMaxX(i,r);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,i=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(i,r);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(e):e,maxX:i?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var i=this.w;if(e!==void 0||t!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=i.globals.dataPoints),t-e<2))){var r={min:e,max:t},s=this.getBeforeZoomRange(r);s&&(r=s.xaxis);var a={xaxis:r},o=O.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),i}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,i=new Vo(this.ctx);switch(e){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var i=t.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var r=i.config.chart.events.beforeResetZoom(t,i);r&&t.updateHelpers.revertDefaultAxisMinMax(r)}typeof i.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(O.clone(i.globals.initialSeries));t.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),n}(),KT=function(n){Nl(t,f_);var e=Rl(t);function t(i){var r;return ie(this,t),(r=e.call(this,i)).ctx=i,r.w=i.w,r.dragged=!1,r.graphics=new W(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return re(t,[{key:"init",value:function(i){var r=this,s=i.xyRatios,a=this.w,o=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new dt(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){r.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,s),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,r){var s=this.w,a=this.ctx.toolbar,o=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,l=s.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),r.target){var c,u=r.target.classList;if(r.target.parentNode&&r.target.parentNode!==null&&(c=r.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientX:r.type==="touchend"?r.changedTouches[0].clientX:r.clientX,this.clientY=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientY:r.type==="touchend"?r.changedTouches[0].clientY:r.clientY,r.type==="mousedown"&&r.which===1||r.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(r.type==="mousemove"&&r.which===1||r.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:i})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),r.type!=="mouseup"&&r.type!=="touchend"&&r.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var r,s=i.zoomtype,a=i.isResized,o=this.w,l=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();l&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var r=this,s=this.w;i.preventDefault();var a=Date.now();a-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),s.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-s.globals.lastWheelExecution>r.wheelDelay&&(r.executeMouseWheelZoom(i),s.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var r,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var a=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();if(a){var o,l,c,u=(i.clientX-a.left)/a.width,h=this.minX,d=this.maxX,g=d-h;if(i.deltaY<0){var p=h+u*g;l=p-(o=.5*g)/2,c=p+o/2}else l=h-(o=1.5*g)/2,c=d+o/2;if(!s.globals.isRangeBar){l=Math.max(l,s.globals.initialMinX),c=Math.min(c,s.globals.initialMaxX);var m=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(c-l<m){var x=(l+c)/2;l=x-m/2,c=x+m/2}}var v=this._getNewMinXMaxX(l,c);isNaN(v.minX)||isNaN(v.maxX)||this.zoomUpdateOptions(v.minX,v.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,r=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,o,l,c,u){return u==="l"||u==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,o){return a.center(o[0],o[1])}}).resize().on("resize",function(){var a=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type;i.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var i=this.w,r=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(Q(Q({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var s=(i.config.chart.selection.xaxis.min-i.globals.minX)/r.xRatio,a=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/r.xRatio-s;i.globals.isRangeBar&&(s=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/r.invertedYRatio,a=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/r.invertedYRatio);var o={x:s,y:0,width:a,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var r=i.x,s=i.y,a=i.width,o=i.height,l=i.translateX,c=l===void 0?0:l,u=i.translateY,h=u===void 0?0:u,d=this.w,g=this.zoomRect,p=this.selectionRect;if(this.dragged||d.globals.selection!==null){var m={transform:"translate("+c+", "+h+")"};d.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),g.attr({x:r,y:s,width:a,height:o,fill:d.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":d.config.chart.zoom.zoomedArea.fill.opacity,stroke:d.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":d.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":d.config.chart.zoom.zoomedArea.stroke.opacity}),W.setAttrs(g.node,m)),d.globals.selectionEnabled&&(p.attr({x:r,y:s,width:a>0?a:0,height:o>0?o:0,fill:d.config.chart.selection.fill.color,"fill-opacity":d.config.chart.selection.fill.opacity,stroke:d.config.chart.selection.stroke.color,"stroke-width":d.config.chart.selection.stroke.width,"stroke-dasharray":d.config.chart.selection.stroke.dashArray,"stroke-opacity":d.config.chart.selection.stroke.opacity}),W.setAttrs(p.node,m))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var r=i.context,s=i.zoomtype,a=this.w,o=r,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,u=o.startY,h=!1,d=!1,g=o.clientX-l.left-a.globals.barPadForNumericAxis,p=o.clientY-l.top,m=g-c,x=p-u,v={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(m+c)>a.globals.gridWidth?m=a.globals.gridWidth-c:g<0&&(m=c),c>g&&(h=!0,m=Math.abs(m)),u>p&&(d=!0,x=Math.abs(x)),v=Q(Q({},v=s==="x"?{x:h?c-m:c,y:0,width:m,height:a.globals.gridHeight}:s==="y"?{x:0,y:d?u-x:u,width:a.globals.gridWidth,height:x}:{x:h?c-m:c,y:d?u-x:u,width:m,height:x}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),o.drawSelectionRect(v),o.selectionDragging("resizing"),v}},{key:"selectionDragging",value:function(i,r){var s=this,a=this.w;if(r){r.preventDefault();var o=r.detail,l=o.handler,c=o.box,u=c.x,h=c.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(h=this.constraints.y2-c.h),l.move(u,h);var d=this.xyRatios,g=this.selectionRect,p=0;i==="resizing"&&(p=30);var m=function(v){return parseFloat(g.node.getAttribute(v))},x={x:m("x"),y:m("y"),width:m("width"),height:m("height")};a.globals.selection=x,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var v,y,b,C,S=s.gridRect.getBoundingClientRect(),R=g.node.getBoundingClientRect();a.globals.isRangeBar?(v=a.globals.yAxisScale[0].niceMin+(R.left-S.left)*d.invertedYRatio,y=a.globals.yAxisScale[0].niceMin+(R.right-S.left)*d.invertedYRatio,b=0,C=1):(v=a.globals.xAxisScale.niceMin+(R.left-S.left)*d.xRatio,y=a.globals.xAxisScale.niceMin+(R.right-S.left)*d.xRatio,b=a.globals.yAxisScale[0].niceMin+(S.bottom-R.bottom)*d.yRatio[0],C=a.globals.yAxisScale[0].niceMax-(R.top-S.top)*d.yRatio[0]);var k={xaxis:{min:v,max:y},yaxis:{min:b,max:C}};a.config.chart.events.selection(s.ctx,k),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(s.ctx,k)},p))}}},{key:"selectionDrawn",value:function(i){var r,s,a=i.context,o=i.zoomtype,l=this.w,c=a,u=this.xyRatios,h=this.ctx.toolbar,d=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),g=c.gridRect.getBoundingClientRect(),p=d.left-g.left-l.globals.barPadForNumericAxis,m=d.right-g.left-l.globals.barPadForNumericAxis,x=d.top-g.top,v=d.bottom-g.top;l.globals.isRangeBar?(r=l.globals.yAxisScale[0].niceMin+p*u.invertedYRatio,s=l.globals.yAxisScale[0].niceMin+m*u.invertedYRatio):(r=l.globals.xAxisScale.niceMin+p*u.xRatio,s=l.globals.xAxisScale.niceMin+m*u.xRatio);var y=[],b=[];if(l.config.yaxis.forEach(function(T,P){var L=l.globals.seriesYAxisMap[P][0],N=l.globals.yAxisScale[P].niceMax-u.yRatio[L]*x,V=l.globals.yAxisScale[P].niceMax-u.yRatio[L]*v;y.push(N),b.push(V)}),c.dragged&&(c.dragX>10||c.dragY>10)&&r!==s){if(l.globals.zoomEnabled){var C=O.clone(l.globals.initialConfig.yaxis),S=O.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(r=Math.floor(r),s=Math.floor(s),r<1&&(r=1,s=l.globals.dataPoints),s-r<2&&(s=r+1)),o!=="xy"&&o!=="x"||(S={min:r,max:s}),o!=="xy"&&o!=="y"||C.forEach(function(T,P){C[P].min=b[P],C[P].max=y[P]}),h){var R=h.getBeforeZoomRange(S,C);R&&(S=R.xaxis?R.xaxis:S,C=R.yaxis?R.yaxis:C)}var k={xaxis:S};l.config.chart.group||(k.yaxis=C),c.ctx.updateHelpers._updateOptions(k,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&h.zoomCallback(S,C)}else if(l.globals.selectionEnabled){var w,A=null;w={min:r,max:s},o!=="xy"&&o!=="y"||(A=O.clone(l.config.yaxis)).forEach(function(T,P){A[P].min=b[P],A[P].max=y[P]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:w,yaxis:A})}}}},{key:"panDragging",value:function(i){var r=i.context,s=this.w,a=r;if(s.globals.lastClientPosition.x!==void 0){var o=s.globals.lastClientPosition.x-a.clientX,l=s.globals.lastClientPosition.y-a.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:a.clientX,y:a.clientY};var c=s.globals.isRangeBar?s.globals.minY:s.globals.minX,u=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;a.panScrolled(c,u)}},{key:"panScrolled",value:function(i,r){var s=this.w,a=this.xyRatios,o=O.clone(s.globals.initialConfig.yaxis),l=a.xRatio,c=s.globals.minX,u=s.globals.maxX;s.globals.isRangeBar&&(l=a.invertedYRatio,c=s.globals.minY,u=s.globals.maxY),this.moveDirection==="left"?(i=c+s.globals.gridWidth/15*l,r=u+s.globals.gridWidth/15*l):this.moveDirection==="right"&&(i=c-s.globals.gridWidth/15*l,r=u-s.globals.gridWidth/15*l),s.globals.isRangeBar||(i<s.globals.initialMinX||r>s.globals.initialMaxX)&&(i=c,r=u);var h={xaxis:{min:i,max:r}};s.config.chart.group||(h.yaxis=o),this.updateScrolledChart(h,i,r)}},{key:"updateScrolledChart",value:function(i,r,s){var a=this.w;if(this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof a.config.chart.events.scrolled=="function"){var o={xaxis:{min:r,max:s}};a.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),t}(),g_=function(){function n(e){ie(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return re(n,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,i=e.elGrid,r=e.clientX,s=e.clientY,a=this.w,o=i.getBoundingClientRect(),l=o.width,c=o.height,u=l/(a.globals.dataPoints-1),h=c/a.globals.dataPoints,d=this.hasBars();!a.globals.comboCharts&&!d||a.config.xaxis.convertedCatToNumeric||(u=l/a.globals.dataPoints);var g=r-o.left-a.globals.barPadForNumericAxis,p=s-o.top;g<0||p<0||g>l||p>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(g/u),x=Math.floor(p/h);d&&!a.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(g/u),m-=1);var v=null,y=null,b=a.globals.seriesXvalues.map(function(w){return w.filter(function(A){return O.isNumber(A)})}),C=a.globals.seriesYvalues.map(function(w){return w.filter(function(A){return O.isNumber(A)})});if(a.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),R=g*(S.width/l),k=p*(S.height/c);v=(y=this.closestInMultiArray(R,k,b,C)).index,m=y.j,v!==null&&a.globals.hasNullValues&&(b=a.globals.seriesXvalues[v],m=(y=this.closestInArray(R,b)).j)}return a.globals.capturedSeriesIndex=v===null?-1:v,(!m||m<1)&&(m=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=x:a.globals.capturedDataPointIndex=m,{capturedSeries:v,j:a.globals.isBarHorizontal?x:m,hoverX:g,hoverY:p}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,i=0,r=e.map(function(a,o){return a.length>0?o:-1}),s=0;s<r.length;s++)if(r[s]!==-1&&t.globals.collapsedSeriesIndices.indexOf(s)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){i=r[s];break}return i}},{key:"closestInMultiArray",value:function(e,t,i,r){for(var s,a=this.w,o=1/0,l=null,c=null,u=0;u<i.length;u++)if(s=u,a.globals.collapsedSeriesIndices.indexOf(s)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var h=i[u],d=r[u],g=Math.min(h.length,d.length),p=0;p<g;p++){var m=e-h[p],x=Math.sqrt(m*m);if(!a.globals.allSeriesHasEqualX){var v=t-d[p];x=Math.sqrt(m*m+v*v)}x<o&&(o=x,l=u,c=p)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var i=t[0],r=null,s=Math.abs(e-i),a=0;a<t.length;a++){var o=Math.abs(e-t[a]);o<s&&(s=o,r=a)}return{j:r}}},{key:"isXoverlap",value:function(e){var t=[],i=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(i.length>0)for(var r=0;r<i.length-1;r++)i[r][e]!==void 0&&i[r+1][e]!==void 0&&i[r][e]!==i[r+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,i=0;i<t.length-1;i++)if(t[i].data.length!==t[i+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Ct(e).reduce(function(t,i){return t+i.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");i=Ct(i),t&&(i=i.filter(function(s){var a=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),i.sort(function(s,a){var o=Number(s.getAttribute("data:realIndex")),l=Number(a.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var r=[];return i.forEach(function(s){r.push(s.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var i=Number(e.getAttribute("cx")),r=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new W(this.ctx).getMarkerPath(i,r,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,i=t.config.markers.hover.size;return i===void 0&&(i=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=i.allTooltipSeriesGroups,s=0;s<r.length;s++)e==="enable"?(r[s].classList.add("apexcharts-active"),r[s].style.display=t.config.tooltip.items.display):(r[s].classList.remove("apexcharts-active"),r[s].style.display="none")}}]),n}(),QT=function(){function n(e){ie(this,n),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new g_(e)}return re(n,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,i=t===void 0||t,r=e.ttItems,s=e.i,a=s===void 0?0:s,o=e.j,l=o===void 0?null:o,c=e.y1,u=e.y2,h=e.e,d=this.w;d.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:l,y1:c,y2:u,w:d}):this.toggleActiveInactiveSeries(i,a);var g=this.getValuesToPrint({i:a,j:l});this.printLabels({i:a,j:l,values:g,ttItems:r,shared:i,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,i=this,r=e.i,s=e.j,a=e.values,o=e.ttItems,l=e.shared,c=e.e,u=this.w,h=[],d=function(S){return u.globals.seriesGoals[S]&&u.globals.seriesGoals[S][s]&&Array.isArray(u.globals.seriesGoals[S][s])},g=a.xVal,p=a.zVal,m=a.xAxisTTVal,x="",v=u.globals.colors[r];s!==null&&u.config.plotOptions.bar.distributed&&(v=u.globals.colors[s]);for(var y=function(S,R){var k=i.getFormatters(r);x=i.getSeriesName({fn:k.yLbTitleFormatter,index:r,seriesIndex:r,j:s}),u.config.chart.type==="treemap"&&(x=k.yLbTitleFormatter(String(u.config.series[r].data[s].x),{series:u.globals.series,seriesIndex:r,dataPointIndex:s,w:u}));var w=u.config.tooltip.inverseOrder?R:S;if(u.globals.axisCharts){var A=function(L){var N,V,H,Y;return u.globals.isRangeData?k.yLbFormatter((N=u.globals.seriesRangeStart)===null||N===void 0||(V=N[L])===null||V===void 0?void 0:V[s],{series:u.globals.seriesRangeStart,seriesIndex:L,dataPointIndex:s,w:u})+" - "+k.yLbFormatter((H=u.globals.seriesRangeEnd)===null||H===void 0||(Y=H[L])===null||Y===void 0?void 0:Y[s],{series:u.globals.seriesRangeEnd,seriesIndex:L,dataPointIndex:s,w:u}):k.yLbFormatter(u.globals.series[L][s],{series:u.globals.series,seriesIndex:L,dataPointIndex:s,w:u})};if(l)k=i.getFormatters(w),x=i.getSeriesName({fn:k.yLbTitleFormatter,index:w,seriesIndex:r,j:s}),v=u.globals.colors[w],t=A(w),d(w)&&(h=u.globals.seriesGoals[w][s].map(function(L){return{attrs:L,val:k.yLbFormatter(L.value,{seriesIndex:w,dataPointIndex:s,w:u})}}));else{var T,P=c==null||(T=c.target)===null||T===void 0?void 0:T.getAttribute("fill");P&&(P.indexOf("url")!==-1?P.indexOf("Pattern")!==-1&&(v=u.globals.dom.baseEl.querySelector(P.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):v=P),t=A(r),d(r)&&Array.isArray(u.globals.seriesGoals[r][s])&&(h=u.globals.seriesGoals[r][s].map(function(L){return{attrs:L,val:k.yLbFormatter(L.value,{seriesIndex:r,dataPointIndex:s,w:u})}}))}}s===null&&(t=k.yLbFormatter(u.globals.series[r],Q(Q({},u),{},{seriesIndex:r,dataPointIndex:r}))),i.DOMHandling({i:r,t:w,j:s,ttItems:o,values:{val:t,goalVals:h,xVal:g,xAxisTTVal:m,zVal:p},seriesName:x,shared:l,pColor:v})},b=0,C=u.globals.series.length-1;b<u.globals.series.length;b++,C--)y(b,C)}},{key:"getFormatters",value:function(e){var t,i=this.w,r=i.globals.yLabelFormatters[e];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(r=i.globals.ttVal[e]&&i.globals.ttVal[e].formatter,t=i.globals.ttVal[e]&&i.globals.ttVal[e].title&&i.globals.ttVal[e].title.formatter):(r=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(t=i.globals.ttVal.title.formatter)):t=i.config.tooltip.y.title.formatter,typeof r!="function"&&(r=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(s){return s}),typeof t!="function"&&(t=function(s){return s?s+": ":""}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,i=e.index,r=e.seriesIndex,s=e.j,a=this.w;return t(String(a.globals.seriesNames[i]),{series:a.globals.series,seriesIndex:r,dataPointIndex:s,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,i=e.j,r=e.ttItems,s=e.values,a=e.seriesName,o=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,h=s.val,d=s.goalVals,g=s.xVal,p=s.xAxisTTVal,m=s.zVal,x=null;x=r[t].children,c.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=l,x[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=g),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=p!==""?p:g);var v=r[t].querySelector(".apexcharts-tooltip-text-y-label");v&&(v.innerHTML=a||"");var y=r[t].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=h!==void 0?h:""),x[0]&&x[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),c.config.tooltip.fillSeriesColor?x[0].style.backgroundColor=l:x[0].style.color=l),c.config.tooltip.marker.show||(x[0].style.display="none");var b=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),C=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&c.globals.seriesGoals[t]){var S=function(){var w="<div>",A="<div>";d.forEach(function(T,P){w+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(T.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(T.attrs.name,"</div>"),A+="<div>".concat(T.val,"</div>")}),b.innerHTML=w+"</div>",C.innerHTML=A+"</div>"};o?c.globals.seriesGoals[t][i]&&Array.isArray(c.globals.seriesGoals[t][i])?S():(b.innerHTML="",C.innerHTML=""):S()}else b.innerHTML="",C.innerHTML="";if(m!==null&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=m!==void 0?m:""),o&&x[0]){if(c.config.tooltip.hideEmptySeries){var R=r[t].querySelector(".apexcharts-tooltip-marker"),k=r[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(R.style.display="none",k.style.display="none"):(R.style.display="block",k.style.display="block")}h==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?x[0].parentNode.style.display="none":x[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(x[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var i=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));r&&(r.classList.add("apexcharts-active"),r.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,i=e.j,r=this.w,s=this.ctx.series.filteredSeriesX(),a="",o="",l=null,c=null,u={series:r.globals.series,seriesIndex:t,dataPointIndex:i,w:r},h=r.globals.ttZFormatter;i===null?c=r.globals.series[t]:r.globals.isXNumeric&&r.config.chart.type!=="treemap"?(a=s[t][i],s[t].length===0&&(a=s[this.tooltipUtil.getFirstActiveXArray(s)][i])):a=new cm(this.ctx).isFormatXY()?r.config.series[t].data[i]!==void 0?r.config.series[t].data[i].x:"":r.globals.labels[i]!==void 0?r.globals.labels[i]:"";var d=a;return r.globals.isXNumeric&&r.config.xaxis.type==="datetime"?a=new Dl(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new Ft(this.ctx).formatDate,w:this.w}):a=r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](d,u):r.globals.xLabelFormatter(d,u),r.config.tooltip.x.formatter!==void 0&&(a=r.globals.ttKeyFormatter(d,u)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(l=h(r.globals.seriesZ[t][i],r)),o=typeof r.config.xaxis.tooltip.formatter=="function"?r.globals.xaxisTooltipFormatter(d,u):a,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,i=e.j,r=e.y1,s=e.y2,a=e.w,o=this.ttCtx.getElTooltip(),l=a.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:i,y1:r,y2:s,w:a});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),n}(),p_=function(){function n(e){ie(this,n),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return re(n,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,r=this.w,s=i.getElXCrosshairs(),a=e-i.xcrosshairsWidth/2,o=r.globals.labels.slice().length;if(t!==null&&(a=r.globals.gridWidth/o*t),s===null||r.globals.isBarHorizontal||(s.setAttribute("x",a),s.setAttribute("x1",a),s.setAttribute("x2",a),s.setAttribute("y2",r.globals.gridHeight),s.classList.add("apexcharts-active")),a<0&&(a=0),a>r.globals.gridWidth&&(a=r.globals.gridWidth),i.isXAxisTooltipEnabled){var l=a;r.config.xaxis.crosshairs.width!=="tickWidth"&&r.config.xaxis.crosshairs.width!=="barWidth"||(l=a+i.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&W.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&W.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var r=i.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var s;s=new W(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=s.width+"px",i.xaxisTooltip.style.left=e+"px",i.xaxisTooltip.style.top=r+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+r,a=i.yaxisTTEls[e].getBoundingClientRect(),o=a.height,l=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(l-=a.width),s-=o/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&s>0&&s<t.globals.gridHeight?(i.yaxisTTEls[e].classList.add("apexcharts-active"),i.yaxisTTEls[e].style.top=s+"px",i.yaxisTTEls[e].style.left=l+t.config.yaxis[e].tooltip.offsetX+"px"):i.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=this.ttCtx,a=s.getElTooltip(),o=s.tooltipRect,l=i!==null?parseFloat(i):1,c=parseFloat(e)+l+5,u=parseFloat(t)+l/2;if(c>r.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>r.globals.gridWidth-o.ttWidth-10&&(c=r.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var h=s.getElGrid().getBoundingClientRect();(c=s.e.clientX-h.left)>r.globals.gridWidth/2&&(c-=s.tooltipRect.ttWidth),(u=s.e.clientY+r.globals.translateY-h.top)>r.globals.gridHeight/2&&(u-=s.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||o.ttHeight/2+u>r.globals.gridHeight&&(u=r.globals.gridHeight-o.ttHeight+r.globals.translateY);isNaN(c)||(c+=r.globals.translateX,a.style.left=c+"px",a.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var i=this.w,r=this.ttCtx;if(i.globals.markers.size[e]>0)for(var s=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<s.length;a++)parseInt(s[a].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,s[a]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var i,r,s,a,o=this.w,l=this.ttCtx,c=new W(this.ctx),u=o.globals.pointsArray,h=l.tooltipUtil.getHoverMarkerSize(t),d=o.config.series[t].type;if(!d||d!=="column"&&d!=="candlestick"&&d!=="boxPlot"){s=(i=u[t][e])===null||i===void 0?void 0:i[0],a=((r=u[t][e])===null||r===void 0?void 0:r[1])||0;var g=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(g&&a<o.globals.gridHeight&&a>0){var p=g.getAttribute("shape"),m=c.getMarkerPath(s,a,p,1.5*h);g.setAttribute("d",m)}this.moveXCrosshairs(s),l.fixedTooltip||this.moveTooltip(s,a,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,i=this.ttCtx,r=i.w,s=0,a=0,o=r.globals.pointsArray,l=new Vn(this.ctx),c=new W(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=i.tooltipUtil.getHoverMarkerSize(t);if(o[t]&&(s=o[t][e][0],a=o[t][e][1]),!isNaN(s)){var h=i.tooltipUtil.getAllMarkers();if(h.length)for(var d=0;d<r.globals.series.length;d++){var g=o[d];if(r.globals.comboCharts&&g===void 0&&h.splice(d,0,null),g&&g.length){var p=o[d][e][1],m=void 0;h[d].setAttribute("cx",s);var x=h[d].getAttribute("shape");if(r.config.chart.type==="rangeArea"&&!r.globals.comboCharts){var v=e+r.globals.series[d].length;m=o[d][v][1],p-=Math.abs(p-m)/2}if(p!==null&&!isNaN(p)&&p<r.globals.gridHeight+u&&p+u>0){var y=c.getMarkerPath(s,p,x,u);h[d].setAttribute("d",y)}else h[d].setAttribute("d","")}}this.moveXCrosshairs(s),i.fixedTooltip||this.moveTooltip(s,a||r.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var i=this.w,r=this.ttCtx,s=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length;i.config.chart.stacked&&(s=i.globals.barGroups.length);var a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;i.globals.isBarHorizontal&&(a=new Vn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));o||typeof t!="number"||(o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,h=r.getElGrid().getBoundingClientRect(),d=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(o&&!d&&(l-=s%2!=0?u/2:0),o&&d&&(l-=u/2)):i.globals.isBarHorizontal||(l=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(l)&&(l=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?c-=r.tooltipRect.ttHeight:i.config.tooltip.followCursor?c=r.e.clientY-h.top-r.tooltipRect.ttHeight/2:c+r.tooltipRect.ttHeight+15>i.globals.gridHeight&&(c=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(l),r.fixedTooltip||this.moveTooltip(l,c||i.globals.gridHeight)}}]),n}(),ZT=function(){function n(e){ie(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new p_(e)}return re(n,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new W(this.ctx),i=new Fa(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=Ct(r),e.config.chart.stacked&&r.sort(function(h,d){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(d.getAttribute("data:realIndex"))});for(var s=0;s<r.length;s++){var a=r[s].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=i.getMarkerConfig({cssClass:l,seriesIndex:Number(a.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),a.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,t);var a=t.getAttribute("cx"),o=t.getAttribute("cy");if(i!==null&&r!==null&&(a=i,o=r),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(s.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,i=this,r=this.ttCtx,s=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,l=0;l<a.length;l++){var c=a[l].getAttribute("rel"),u=a[l].getAttribute("index");if(o===void 0&&(o=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),s===parseInt(c,10)){i.newPointSize(s,a[l]);var h=a[l].getAttribute("cx"),d=a[l].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),r.fixedTooltip||i.tooltipPosition.moveTooltip(h,d,o)}else i.oldPointSize(a[l])}}},{key:"newPointSize",value:function(e,t){var i=this.w,r=i.config.markers.hover.size,s=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var a=parseInt(s.getAttribute("index"),10);r===void 0&&(r=i.globals.markers.size[a]+i.config.markers.hover.sizeOffset),r<0&&(r=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(t,r);t.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var i=parseFloat(e[t].getAttribute("default-marker-size"));if(O.isNumber(i)&&i>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],i);e[t].setAttribute("d",r)}else e[t].setAttribute("d","M0,0")}}}]),n}(),JT=function(){function n(e){ie(this,n),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return re(n,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,i=e.opt,r=e.x,s=e.y,a=e.type,o=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var c=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),d=this.getAttr(t,"cy"),g=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:c,j:u,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,r=h+o.tooltipRect.ttWidth/2+g,s=d+o.tooltipRect.ttHeight/2-p/2,o.tooltipPosition.moveXCrosshairs(h+g/2),r>l.globals.gridWidth/2&&(r=h-o.tooltipRect.ttWidth/2+g),o.w.config.tooltip.followCursor){var m=l.globals.dom.elWrap.getBoundingClientRect();r=l.globals.clientX-m.left-(r>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),s=l.globals.clientY-m.top-(s>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:r,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,i,r=e.e,s=e.opt,a=e.x,o=e.y,l=this.w,c=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var u=parseInt(s.paths.getAttribute("cx"),10),h=parseInt(s.paths.getAttribute("cy"),10),d=parseFloat(s.paths.getAttribute("val"));if(i=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var g=O.findAncestor(s.paths,"apexcharts-series");g&&(t=parseInt(g.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:i,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:r}),r.type==="mouseup"&&c.markerClick(r,t,i),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=i,a=u,o=h+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var p=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-p.top}d<0&&(o=h),c.marker.enlargeCurrentPoint(i,s.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(e){var t,i,r=e.e,s=e.opt,a=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,u=0,h=0,d=this.getBarTooltipXY({e:r,opt:s});if(d.j!==null||d.barHeight!==0||d.barWidth!==0){t=d.i;var g=d.j;if(a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=g,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(u=d.x,h=d.y,i=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,c=u):a.globals.comboCharts||a.config.tooltip.shared||(c/=2),isNaN(h)&&(h=a.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>a.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var p=o.getElGrid().getBoundingClientRect();h=o.e.clientY-p.top}o.tooltip===null&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+i/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(h=h+a.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=u+a.globals.translateX+"px",l.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,i=e.e,r=e.opt,s=this.w,a=null,o=this.ttCtx,l=0,c=0,u=0,h=0,d=0,g=i.target.classList;if(g.contains("apexcharts-bar-area")||g.contains("apexcharts-candlestick-area")||g.contains("apexcharts-boxPlot-area")||g.contains("apexcharts-rangebar-area")){var p=i.target,m=p.getBoundingClientRect(),x=r.elGrid.getBoundingClientRect(),v=m.height;d=m.height;var y=m.width,b=parseInt(p.getAttribute("cx"),10),C=parseInt(p.getAttribute("cy"),10);h=parseFloat(p.getAttribute("barWidth"));var S=i.type==="touchmove"?i.touches[0].clientX:i.clientX;a=parseInt(p.getAttribute("j"),10),l=parseInt(p.parentNode.getAttribute("rel"),10)-1;var R=p.getAttribute("data-range-y1"),k=p.getAttribute("data-range-y2");s.globals.comboCharts&&(l=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var w=function(T){return s.globals.isXNumeric?b-y/2:t.isVerticalGroupedRangeBar?b+y/2:b-o.dataPointsDividedWidth+y/2},A=function(){return C-o.dataPointsDividedHeight+v/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:a,y1:R?parseInt(R,10):null,y2:k?parseInt(k,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:i}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(c=S-x.left+15,u=A()):(c=w(),u=i.clientY-x.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((c=b)<o.xyRatios.baseLineInvertedY&&(c=b-o.tooltipRect.ttWidth),u=A()):(c=w(),u=C)}return{x:c,y:u,barHeight:d,barWidth:h,i:l,j:a}}}]),n}(),eI=function(){function n(e){ie(this,n),this.w=e.w,this.ttCtx=e}return re(n,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,i=e.config.xaxis.position==="bottom";t.xaxisOffY=i?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,i=0;i<e.config.yaxis.length;i++){var r=e.config.yaxis[i].opposite||e.config.yaxis[i].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),i===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[i]=document.createElement("div"),t.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,i=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(r!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),i!==null&&t.xcrosshairsWidth>0&&i.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,i){var r=this.ttCtx,s=this.w,a=s.globals,o=a.seriesYAxisMap[e];if(r.yaxisTooltips[e]&&o.length>0){var l=a.yLabelFormatters[e],c=r.getElGrid().getBoundingClientRect(),u=o[0],h=0;i.yRatio.length>1&&(h=u);var d=(t-c.top)*i.yRatio[h],g=a.maxYArr[u]-a.minYArr[u],p=a.minYArr[u]+(g-d);s.config.yaxis[e].reversed&&(p=a.maxYArr[u]-(g-d)),r.tooltipPosition.moveYCrosshairs(t-c.top),r.yaxisTooltipText[e].innerHTML=l(p),r.tooltipPosition.moveYAxisTooltip(e)}}}]),n}(),Ax=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new g_(this),this.tooltipLabels=new QT(this),this.tooltipPosition=new p_(this),this.marker=new ZT(this),this.intersect=new JT(this),this.axesTooltip=new eI(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return re(n,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(a,o){return!!(a.show&&a.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&i.classList.add(t.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(i),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new fl(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,i=this.w,r=[],s=this.getElTooltip(),a=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=i.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),i.config.tooltip.fillSeriesColor?u.style.backgroundColor=i.globals.colors[l]:u.style.color=i.globals.colors[l];var h=i.config.markers.shape,d=h;Array.isArray(h)&&(d=h[l]),u.setAttribute("shape",d),c.appendChild(u);var g=document.createElement("div");g.classList.add("apexcharts-tooltip-text"),g.style.fontFamily=t.tConfig.style.fontFamily||i.config.chart.fontFamily,g.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(p){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(p,"-group"));var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(p,"-label")),m.appendChild(x);var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(p,"-value")),m.appendChild(v),g.appendChild(m)}),c.appendChild(g),s.appendChild(c),r.push(c)},o=0;o<e;o++)a(o);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,i=this.getElTooltip(),r=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),s=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",a=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],u=[],h={hoverArea:a,elGrid:o,tooltipEl:i,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var d=0;d<l.length;d++)c.push(l[d].getAttribute("cy")),u.push(l[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],h);else if(r&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(g,h)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),i=t.getBoundingClientRect(),r=i.width+10,s=i.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(a=a+e.globals.svgWidth-r+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-s-10),t.style.left=a+"px",t.style.top=o+"px",{x:a,y:o,ttWidth:r,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var i=this,r=function(a){var o={paths:e[a],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[a].addEventListener(l,i.onSeriesHover.bind(i,o),{capture:!1,passive:!0})})},s=0;s<e.length;s++)r(s)}},{key:"onSeriesHover",value:function(e,t){var i=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(e,t)},20-r))}},{key:"seriesHover",value:function(e,t){var i=this;this.lastHoverTime=Date.now();var r=[],s=this.w;s.config.chart.group&&(r=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(r.length?r.forEach(function(a){var o=i.getElTooltip(a),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===i.w.globals.minX&&a.w.globals.maxX===i.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,i=e.ttCtx,r=e.opt,s=e.e,a=t.w,o=this.getElTooltip(t);o&&(i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=s,i.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Vn(t).toggleSeriesOnHover(s,s.target.parentNode),a.globals.axisCharts?i.axisChartsTooltips({e:s,opt:r,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:s,opt:r,tooltipRect:i.tooltipRect}),i.fixedTooltip&&i.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,i,r=e.e,s=e.opt,a=this.w,o=s.elGrid.getBoundingClientRect(),l=r.type==="touchmove"?r.touches[0].clientX:r.clientX,c=r.type==="touchmove"?r.touches[0].clientY:r.clientY;if(this.clientY=c,this.clientX=l,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var u=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(s)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),g=[];a.config.chart.group&&(g=this.ctx.getSyncedCharts());var p=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(r.type==="mousemove"||r.type==="touchmove"||r.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;d!==null&&d.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(y){return y===!0});if(this.ycrosshairs!==null&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||g.length>1)this.handleStickyTooltip(r,l,c,s);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var x=this.intersect.handleHeatTreeTooltip({e:r,opt:s,x:t,y:i,type:a.config.chart.type});t=x.x,i=x.y,h.style.left=t+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:s,x:t,y:i});if(this.yaxisTooltips.length)for(var v=0;v<a.config.yaxis.length;v++)this.axesTooltip.drawYaxisTooltipText(v,c,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else r.type!=="mouseout"&&r.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,i=e.opt,r=e.tooltipRect,s=this.w,a=i.paths.getAttribute("rel"),o=this.getElTooltip(),l=s.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(a,10)-1,shared:!1});var c=s.globals.clientX-l.left-r.ttWidth/2,u=s.globals.clientY-l.top-r.ttHeight-10;if(o.style.left=c+"px",o.style.top=u+"px",s.config.legend.tooltipHoverFormatter){var h=a-1,d=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:s});this.legendLabels[h].innerHTML=d}}else t.type!=="mouseout"&&t.type!=="touchend"||(o.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(g){var p=g.getAttribute("data:default-text");g.innerHTML=decodeURIComponent(p)}))}},{key:"handleStickyTooltip",value:function(e,t,i,r){var s=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:i}),o=a.j,l=a.capturedSeries;s.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=r.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>c.width)this.handleMouseOut(r);else if(l!==null)this.handleStickyCapturedSeries(e,l,r,o);else if(this.tooltipUtil.isXoverlap(o)||s.globals.isBarHorizontal){var u=s.globals.series.findIndex(function(h,d){return!s.globals.collapsedSeriesIndices.includes(d)});this.create(e,this,u,o,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,i,r){var s=this.w;if(!this.tConfig.shared&&s.globals.series[t][r]===null)return void this.handleMouseOut(i);if(s.globals.series[t][r]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,i.ttItems):this.create(e,this,t,r,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var a=s.globals.series.findIndex(function(o,l){return!s.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,a,r,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new W(this.ctx),i=e.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<i.length;r++)t.pathMouseLeave(i[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,i=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var a=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,t,i){var r=this.w;typeof r.config.chart.events.markerClick=="function"&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:r}])}},{key:"create",value:function(e,t,i,r,s){var a,o,l,c,u,h,d,g,p,m,x,v,y,b,C,S,R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,k=this.w,w=t;e.type==="mouseup"&&this.markerClick(e,i,r),R===null&&(R=this.tConfig.shared);var A=this.tooltipUtil.hasMarkers(i),T=this.tooltipUtil.getElBars(),P=function(){k.globals.markers.largestSize>0?w.marker.enlargePoints(r):w.tooltipPosition.moveDynamicPointsOnHover(r)};if(k.config.legend.tooltipHoverFormatter){var L=k.config.legend.tooltipHoverFormatter,N=Array.from(this.legendLabels);N.forEach(function(ge){var pe=ge.getAttribute("data:default-text");ge.innerHTML=decodeURIComponent(pe)});for(var V=0;V<N.length;V++){var H=N[V],Y=parseInt(H.getAttribute("i"),10),q=decodeURIComponent(H.getAttribute("data:default-text")),F=L(q,{seriesIndex:R?Y:i,dataPointIndex:r,w:k});if(R)H.innerHTML=k.globals.collapsedSeriesIndices.indexOf(Y)<0?F:q;else if(H.innerHTML=Y===i?F:q,i===Y)break}}var U=Q(Q({ttItems:s,i,j:r},((a=k.globals.seriesRange)===null||a===void 0||(o=a[i])===null||o===void 0||(l=o[r])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=k.globals.seriesRange)===null||u===void 0||(h=u[i])===null||h===void 0||(d=h[r])===null||d===void 0||(g=d.y[0])===null||g===void 0?void 0:g.y1}),((p=k.globals.seriesRange)===null||p===void 0||(m=p[i])===null||m===void 0||(x=m[r])===null||x===void 0||(v=x.y[0])===null||v===void 0?void 0:v.y2)!==void 0&&{y2:(y=k.globals.seriesRange)===null||y===void 0||(b=y[i])===null||b===void 0||(C=b[r])===null||C===void 0||(S=C.y[0])===null||S===void 0?void 0:S.y2});if(R){if(w.tooltipLabels.drawSeriesTexts(Q(Q({},U),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),A)P();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(T),this.barSeriesHeight>0)){var $=new W(this.ctx),J=k.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),w.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&P(),w.tooltipPosition.moveStickyTooltipOverBars(r,i);for(var oe=0;oe<J.length;oe++)$.pathMouseEnter(J[oe])}}else w.tooltipLabels.drawSeriesTexts(Q({shared:!1},U)),this.tooltipUtil.hasBars()&&w.tooltipPosition.moveStickyTooltipOverBars(r,i),A&&w.tooltipPosition.moveMarkers(i,r)}}]),n}(),tI=function(){function n(e){ie(this,n),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return re(n,[{key:"handleBarDataLabels",value:function(e){var t,i,r=e.x,s=e.y,a=e.y1,o=e.y2,l=e.i,c=e.j,u=e.realIndex,h=e.columnGroupIndex,d=e.series,g=e.barHeight,p=e.barWidth,m=e.barXPosition,x=e.barYPosition,v=e.visibleSeries,y=this.w,b=new W(this.barCtx.ctx),C=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(t=r+parseFloat(p*(v+1)),i=s+parseFloat(g*(v+1))-C):(t=r+parseFloat(p*v),i=s+parseFloat(g*v));var S,R=null,k=r,w=s,A={},T=y.config.dataLabels,P=this.barCtx.barOptions.dataLabels,L=this.barCtx.barOptions.dataLabels.total;x!==void 0&&this.barCtx.isRangeBar&&(i=x,w=x),m!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=m,k=m);var N=T.offsetX,V=T.offsetY,H={width:0,height:0};if(y.config.dataLabels.enabled){var Y=y.globals.series[l][c];H=b.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter(Y,Q(Q({},y),{},{seriesIndex:l,dataPointIndex:c,w:y})):y.globals.yLabelFormatters[0](Y),parseFloat(T.style.fontSize))}var q={x:r,y:s,i:l,j:c,realIndex:u,columnGroupIndex:h,bcx:t,bcy:i,barHeight:g,barWidth:p,textRects:H,strokeWidth:C,dataLabelsX:k,dataLabelsY:w,dataLabelsConfig:T,barDataLabelsConfig:P,barTotalDataLabelsConfig:L,offX:N,offY:V};return A=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(q):this.calculateColumnsDataLabelsPosition(q),S=this.drawCalculatedDataLabels({x:A.dataLabelsX,y:A.dataLabelsY,val:this.barCtx.isRangeBar?[a,o]:y.config.chart.stackType==="100%"?d[u][c]:y.globals.series[u][c],i:u,j:c,barWidth:p,barHeight:g,textRects:H,dataLabelsConfig:T}),y.config.chart.stacked&&L.enabled&&(R=this.drawTotalDataLabels({x:A.totalDataLabelsX,y:A.totalDataLabelsY,barWidth:p,barHeight:g,realIndex:u,textAnchor:A.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:T,barTotalDataLabelsConfig:L})),{dataLabelsPos:A,dataLabels:S,totalDataLabels:R}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,i=e.j,r=this.w,s=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(s=this.totalFormatter(s,Q(Q({},r),{},{seriesIndex:t,dataPointIndex:i,w:r}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,i=this.w,r=e.i,s=e.j,a=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,u=e.bcx,h=e.barWidth,d=e.barHeight,g=e.textRects,p=e.dataLabelsX,m=e.dataLabelsY,x=e.dataLabelsConfig,v=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,b=e.strokeWidth,C=e.offX,S=e.offY,R=u;d=Math.abs(d);var k=i.config.plotOptions.bar.dataLabels.orientation==="vertical",w=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:s}).zeroEncounters;u-=b/2;var A=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=h/2:(p=i.globals.isXNumeric?u-h/2+C:u-A+h/2+C,!i.config.chart.stacked&&w>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(p-=h*w)),k&&(p=p+g.height/2-b/2-2);var T=i.globals.series[r][s]<0,P=c;switch(this.barCtx.isReversed&&(P=c+(T?d:-d)),v.position){case"center":m=k?T?P-d/2+S:P+d/2-S:T?P-d/2+g.height/2+S:P+d/2+g.height/2-S;break;case"bottom":m=k?T?P-d+S:P+d-S:T?P-d+g.height+b+S:P+d-g.height/2+b-S;break;case"top":m=k?T?P+S:P-S:T?P-g.height/2-S:P+g.height+S}var L=P;if(i.globals.seriesGroups.forEach(function(H){var Y;(Y=t.barCtx[H.join(",")])===null||Y===void 0||Y.prevY.forEach(function(q){L=T?Math.max(q[s],L):Math.min(q[s],L)})}),this.barCtx.lastActiveBarSerieIndex===a&&y.enabled){var N=new W(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:s}),x.fontSize);o=T?L-N.height/2-S-y.offsetY+18:L+N.height+S+y.offsetY-18;var V=A;l=R+(i.globals.isXNumeric?-h*i.globals.barGroups.length/2:i.globals.barGroups.length*h/2-(i.globals.barGroups.length-1)*h-V)+y.offsetX}return i.config.chart.stacked||(m<0?m=0+b:m+g.height/3>i.globals.gridHeight&&(m=i.globals.gridHeight-b)),{bcx:u,bcy:c,dataLabelsX:p,dataLabelsY:m,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,i=this.w,r=e.x,s=e.i,a=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,h=e.textRects,d=e.dataLabelsX,g=e.strokeWidth,p=e.dataLabelsConfig,m=e.barDataLabelsConfig,x=e.barTotalDataLabelsConfig,v=e.offX,y=e.offY,b=i.globals.gridHeight/i.globals.dataPoints,C=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:a}).zeroEncounters;u=Math.abs(u);var S,R,k=l-(this.barCtx.isRangeBar?0:b)+c/2+h.height/2+y-3;!i.config.chart.stacked&&C>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k-=c*C);var w="start",A=i.globals.series[s][a]<0,T=r;switch(this.barCtx.isReversed&&(T=r+(A?-u:u),w=A?"start":"end"),m.position){case"center":d=A?T+u/2-v:Math.max(h.width/2,T-u/2)+v;break;case"bottom":d=A?T+u-g-v:T-u+g+v;break;case"top":d=A?T-g-v:T-g+v}var P=T;if(i.globals.seriesGroups.forEach(function(N){var V;(V=t.barCtx[N.join(",")])===null||V===void 0||V.prevX.forEach(function(H){P=A?Math.min(H[a],P):Math.max(H[a],P)})}),this.barCtx.lastActiveBarSerieIndex===o&&x.enabled){var L=new W(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),p.fontSize);A?(S=P-g-v-x.offsetX,w="end"):S=P+v+x.offsetX+(this.barCtx.isReversed?-(u+g):g),R=k-h.height/2+L.height/2+x.offsetY+g,i.globals.barGroups.length>1&&(R-=i.globals.barGroups.length/2*(c/2))}return i.config.chart.stacked||(p.textAnchor==="start"?d-h.width<0?d=A?h.width+g:g:d+h.width>i.globals.gridWidth&&(d=A?i.globals.gridWidth-g:i.globals.gridWidth-h.width-g):p.textAnchor==="middle"?d-h.width/2<0?d=h.width/2+g:d+h.width/2>i.globals.gridWidth&&(d=i.globals.gridWidth-h.width/2-g):p.textAnchor==="end"&&(d<1?d=h.width+g:d+1>i.globals.gridWidth&&(d=i.globals.gridWidth-h.width-g))),{bcx:r,bcy:l,dataLabelsX:d,dataLabelsY:k,totalDataLabelsX:S,totalDataLabelsY:R,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,i=e.y,r=e.val,s=e.i,a=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,h=this.w,d="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(d="rotate(-90, ".concat(t,", ").concat(i,")"));var g=new _a(this.barCtx.ctx),p=new W(this.barCtx.ctx),m=u.formatter,x=null,v=h.globals.collapsedSeriesIndices.indexOf(s)>-1;if(u.enabled&&!v){x=p.group({class:"apexcharts-data-labels",transform:d});var y="";r!==void 0&&(y=m(r,Q(Q({},h),{},{seriesIndex:s,dataPointIndex:a,w:h}))),!r&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y="");var b=h.globals.series[s][a]<0,C=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(C==="top"&&(u.textAnchor=b?"end":"start"),C==="center"&&(u.textAnchor="middle"),C==="bottom"&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(y=""):o.height/1.6>Math.abs(l)&&(y=""));var S=Q({},u);this.barCtx.isHorizontal&&r<0&&(u.textAnchor==="start"?S.textAnchor="end":u.textAnchor==="end"&&(S.textAnchor="start")),g.plotDataLabelsText({x:t,y:i,text:y,i:s,j:a,parent:x,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return x}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,i=e.y,r=e.val,s=e.realIndex,a=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new W(this.barCtx.ctx);return o.enabled&&t!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(l=c.drawText({x:t,y:i,foreColor:o.style.color,text:r,textAnchor:a,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),n}(),nI=function(){function n(e){ie(this,n),this.w=e.w,this.barCtx=e}return re(n,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<e.length;i++)if(e[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[i].length),t.globals.isXNumeric)for(var r=0;r<e[i].length;r++)t.globals.seriesX[i][r]>t.globals.minX&&t.globals.seriesX[i][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),O.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(s){return s.map(function(a){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,i,r,s,a,o,l,c,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var d=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)a=(r=u.globals.gridHeight/h)/d,u.globals.isXNumeric&&(a=(r=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),i=(r-a*this.barCtx.seriesLen)/2;else{if(s=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(s=u.globals.gridWidth/u.globals.dataPoints),o=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var g=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/g>0&&(s=u.globals.minXDiff/g),(o=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:o}).x:t=u.globals.padHorizontal+O.noExponents(s-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=a,u.globals.barWidth=o,{x:t,y:i,yDivision:r,xDivision:s,barHeight:a,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,i,r){var s,a,o,l,c=this.w,u=this.barCtx.ctx.fill,h=null,d=this.barCtx.barOptions.distributed?i:t,g=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(p){e[t][i]>=p.from&&e[t][i]<=p.to&&(h=p.color,g=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:r,dataPointIndex:i,color:h,value:e[t][i],fillConfig:(s=c.config.series[t].data[i])===null||s===void 0?void 0:s.fill,fillType:(a=c.config.series[t].data[i])!==null&&a!==void 0&&(o=a.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[t].data[i])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[r]:c.config.fill.type}),useRangeColor:g}}},{key:"getStrokeWidth",value:function(e,t,i){var r=0,s=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,s.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(e){var t,i=this.w,r=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,s=e.length,a=0|((t=e[0])===null||t===void 0?void 0:t.length),o=Array.from({length:s},function(){return Array(a).fill(r?"top":"none")});if(r)return o;for(var l=0;l<a;l++){for(var c=[],u=[],h=0,d=0;d<s;d++){var g=e[d][l];g>0?(c.push(d),h++):g<0&&(u.push(d),h++)}if(c.length>0&&u.length===0)if(c.length===1)o[c[0]][l]="both";else{var p,m=c[0],x=c[c.length-1],v=xo(c);try{for(v.s();!(p=v.n()).done;){var y=p.value;o[y][l]=y===m?"bottom":y===x?"top":"none"}}catch(Y){v.e(Y)}finally{v.f()}}else if(u.length>0&&c.length===0)if(u.length===1)o[u[0]][l]="both";else{var b,C=Math.max.apply(Math,u),S=Math.min.apply(Math,u),R=xo(u);try{for(R.s();!(b=R.n()).done;){var k=b.value;o[k][l]=k===C?"bottom":k===S?"top":"none"}}catch(Y){R.e(Y)}finally{R.f()}}else if(c.length>0&&u.length>0){var w,A=c[c.length-1],T=xo(c);try{for(T.s();!(w=T.n()).done;){var P=w.value;o[P][l]=P===A?"top":"none"}}catch(Y){T.e(Y)}finally{T.f()}var L,N=Math.max.apply(Math,u),V=xo(u);try{for(V.s();!(L=V.n()).done;){var H=L.value;o[H][l]=H===N?"bottom":"none"}}catch(Y){V.e(Y)}finally{V.f()}}else h===1&&(o[c[0]||u[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var t=e.j,i=e.i,r=e.x1,s=e.x2,a=e.y1,o=e.y2,l=e.elSeries,c=this.w,u=new W(this.barCtx.ctx),h=new Vn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===i){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[t],g=u.drawRect(r!==void 0?r:0,a!==void 0?a:0,s!==void 0?s:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(g),g.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,i=e.barWidth,r=e.barXPosition,s=e.y1,a=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,g=e.j,p=e.w,m=new W(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var x=i,v=r;(t=p.config.series[h].data[g])!==null&&t!==void 0&&t.columnWidthOffset&&(v=r-p.config.series[h].data[g].columnWidthOffset/2,x=i+p.config.series[h].data[g].columnWidthOffset);var y=o/2,b=v+y,C=v+x-y,S=(c[d][g]>=0?1:-1)*(l?-1:1);s+=.001-y*S,a+=.001+y*S;var R=m.move(b,s),k=m.move(b,s),w=m.line(C,s);if(p.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(h,g,!1)),R=R+m.line(b,a)+m.line(C,a)+w+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),k=k+m.line(b,s)+w+w+w+w+w+m.line(b,s)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),this.arrBorderRadius[h][g]!=="none"&&(R=m.roundPathCorners(R,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).yArrj.push(a-y*S),A.yArrjF.push(Math.abs(s-a+o*S)),A.yArrjVal.push(this.barCtx.series[d][g])}return{pathTo:R,pathFrom:k}}},{key:"getBarpaths",value:function(e){var t,i=e.barYPosition,r=e.barHeight,s=e.x1,a=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,g=e.j,p=e.w,m=new W(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var x=i,v=r;(t=p.config.series[h].data[g])!==null&&t!==void 0&&t.barHeightOffset&&(x=i-p.config.series[h].data[g].barHeightOffset/2,v=r+p.config.series[h].data[g].barHeightOffset);var y=o/2,b=x+y,C=x+v-y,S=(c[d][g]>=0?1:-1)*(l?-1:1);s+=.001+y*S,a+=.001-y*S;var R=m.move(s,b),k=m.move(s,b);p.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(h,g,!1));var w=m.line(s,C);if(R=R+m.line(a,b)+m.line(a,C)+w+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),k=k+m.line(s,b)+w+w+w+w+w+m.line(s,b)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),this.arrBorderRadius[h][g]!=="none"&&(R=m.roundPathCorners(R,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).xArrj.push(a+y*S),A.xArrjF.push(Math.abs(s-a-o*S)),A.xArrjVal.push(this.barCtx.series[d][g])}return{pathTo:R,pathFrom:k}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,i=this.w,r=0;r<t.length;r++){for(var s=0,a=0;a<t[i.globals.maxValsInArrayIndex].length;a++)s+=t[r][a];s===0&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t,i){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(r=t-e/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[i]:0)),r}},{key:"getGoalValues",value:function(e,t,i,r,s,a){var o=this,l=this.w,c=[],u=function(g,p){var m;c.push((Fu(m={},e,e==="x"?o.getXForValue(g,t,!1):o.getYForValue(g,i,a,!1)),Fu(m,"attrs",p),m))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][s]&&Array.isArray(l.globals.seriesGoals[r][s])&&l.globals.seriesGoals[r][s].forEach(function(g){u(g.value,g)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,d={strokeHeight:e==="x"?0:l.globals.markers.size[r],strokeWidth:e==="x"?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[r])?h[r][0]:h[r]};u(l.globals.seriesRangeStart[r][s],d),u(l.globals.seriesRangeEnd[r][s],Q(Q({},d),{},{strokeColor:Array.isArray(h[r])?h[r][1]:h[r]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,i=e.barYPosition,r=e.goalX,s=e.goalY,a=e.barWidth,o=e.barHeight,l=new W(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(h){if(h.x>=-1&&h.x<=l.w.globals.gridWidth+1){var d=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:o/2,g=i+d+o/2;u=l.drawLine(h.x,g-2*d,h.x,g,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),c.add(u)}}):Array.isArray(s)&&s.forEach(function(h){if(h.y>=-1&&h.y<=l.w.globals.gridHeight+1){var d=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:a/2,g=t+d+a/2;u=l.drawLine(g-2*d,h.y,g,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,i=e.currPaths,r=e.color,s=this.w,a=t.x,o=t.x1,l=t.barYPosition,c=i.x,u=i.x1,h=i.barYPosition,d=l+i.barHeight,g=new W(this.barCtx.ctx),p=new O,m=g.move(o,d)+g.line(a,d)+g.line(c,h)+g.line(u,h)+g.line(o,d)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return g.drawPath({d:m,fill:p.shadeColor(.5,O.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,i=e.i,r=e.j,s=this.w,a=0,o=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(l,c){return c}):((t=s.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=s.globals.seriesPercent[l][r];c&&a++,l<i&&c===0&&o++}),{nonZeroColumns:a,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var t=this.w,i=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),r=this.barCtx.columnGroupIndices,s=r.indexOf(i);return s<0&&(r.push(i),s=r.length-1),{groupIndex:i,columnGroupIndex:s}}}]),n}(),ka=function(){function n(e,t){ie(this,n),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new Vn(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=r.getBarSeriesIndices(),a=new ft(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new nI(this)}return re(n,[{key:"draw",value:function(e,t){var i=this.w,r=new W(this.ctx),s=new ft(this.ctx,i);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,u,h,d,g=void 0,p=void 0,m=[],x=[],v=i.globals.comboCharts?t[o]:o,y=this.barHelpers.getGroupIndex(v).columnGroupIndex,b=r.group({class:"apexcharts-series",rel:o+1,seriesName:O.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(b,v),e[o].length>0&&(this.visibleI=this.visibleI+1);var C=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[v],this.translationsIndex=v);var R=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions(v);p=k.y,C=k.barHeight,u=k.yDivision,d=k.zeroW,g=k.x,S=k.barWidth,c=k.xDivision,h=k.zeroH,this.isHorizontal||x.push(g+S/2);var w=r.group({class:"apexcharts-datalabels","data:realIndex":v});i.globals.delayedElements.push({el:w.node}),w.node.classList.add("apexcharts-element-hidden");var A=r.group({class:"apexcharts-bar-goals-markers"}),T=r.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:T.node}),T.node.classList.add("apexcharts-element-hidden");for(var P=0;P<e[o].length;P++){var L=this.barHelpers.getStrokeWidth(o,P,v),N=null,V={indexes:{i:o,j:P,realIndex:v,translationsIndex:R,bc:l},x:g,y:p,strokeWidth:L,elSeries:b};this.isHorizontal?(N=this.drawBarPaths(Q(Q({},V),{},{barHeight:C,zeroW:d,yDivision:u})),S=this.series[o][P]/this.invertedYRatio):(N=this.drawColumnPaths(Q(Q({},V),{},{xDivision:c,barWidth:S,zeroH:h})),C=this.series[o][P]/this.yRatio[R]);var H=this.barHelpers.getPathFillColor(e,o,P,v);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&P>0){var Y,q=this.barHelpers.drawBarShadow({color:typeof H.color=="string"&&((Y=H.color)===null||Y===void 0?void 0:Y.indexOf("url"))===-1?H.color:O.hexToRgba(i.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:N});T.add(q),i.config.chart.dropShadow.enabled&&new zt(this.ctx).dropShadow(q,i.config.chart.dropShadow,v)}this.pathArr.push(N);var F=this.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:N.barYPosition,goalX:N.goalX,goalY:N.goalY,barHeight:C,barWidth:S});F&&A.add(F),p=N.y,g=N.x,P>0&&x.push(g+S/2),m.push(p),this.renderSeries(Q(Q({realIndex:v,pathFill:H.color},H.useRangeColor?{lineFill:H.color}:{}),{},{j:P,i:o,columnGroupIndex:y,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:L,elSeries:b,x:g,y:p,series:e,barHeight:Math.abs(N.barHeight?N.barHeight:C),barWidth:Math.abs(N.barWidth?N.barWidth:S),elDataLabelsWrap:w,elGoalsMarkers:A,elBarShadows:T,visibleSeries:this.visibleI,type:"bar"}))}i.globals.seriesXvalues[v]=x,i.globals.seriesYvalues[v]=m,a.add(b)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,i=e.pathFill,r=e.lineFill,s=e.j,a=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,h=e.elSeries,d=e.x,g=e.y,p=e.y1,m=e.y2,x=e.series,v=e.barHeight,y=e.barWidth,b=e.barXPosition,C=e.barYPosition,S=e.elDataLabelsWrap,R=e.elGoalsMarkers,k=e.elBarShadows,w=e.visibleSeries,A=e.type,T=e.classes,P=this.w,L=new W(this.ctx),N=!1;if(!r){var V=typeof P.globals.stroke.colors[t]=="function"?function(U){var $,J=P.config.stroke.colors;return Array.isArray(J)&&J.length>0&&(($=J[U])||($=""),typeof $=="function")?$({value:P.globals.series[U][s],dataPointIndex:s,w:P}):$}(t):P.globals.stroke.colors[t];r=this.barOptions.distributed?P.globals.stroke.colors[s]:V}var H=new tI(this).handleBarDataLabels({x:d,y:g,y1:p,y2:m,i:a,j:s,series:x,realIndex:t,columnGroupIndex:o,barHeight:v,barWidth:y,barXPosition:b,barYPosition:C,visibleSeries:w});P.globals.isBarHorizontal||(H.dataLabelsPos.dataLabelsX+y<0||H.dataLabelsPos.dataLabelsX-y>P.globals.gridWidth)&&(N=!0),P.config.series[a].data[s]&&P.config.series[a].data[s].strokeColor&&(r=P.config.series[a].data[s].strokeColor),this.isNullValue&&(i="none");var Y=s/P.config.chart.animations.animateGradually.delay*(P.config.chart.animations.speed/P.globals.dataPoints)/2.4;if(!N){var q=L.renderPaths({i:a,j:s,realIndex:t,pathFrom:l,pathTo:c,stroke:r,strokeWidth:u,strokeLineCap:P.config.stroke.lineCap,fill:i,animationDelay:Y,initialSpeed:P.config.chart.animations.speed,dataChangeSpeed:P.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A,"-area ").concat(T),chartType:A});q.attr("clip-path","url(#gridRectBarMask".concat(P.globals.cuid,")"));var F=P.config.forecastDataPoints;F.count>0&&s>=P.globals.dataPoints-F.count&&(q.node.setAttribute("stroke-dasharray",F.dashArray),q.node.setAttribute("stroke-width",F.strokeWidth),q.node.setAttribute("fill-opacity",F.fillOpacity)),p!==void 0&&m!==void 0&&(q.attr("data-range-y1",p),q.attr("data-range-y2",m)),new zt(this.ctx).setSelectionFilter(q,t,s),h.add(q),q.attr({cy:H.dataLabelsPos.bcy,cx:H.dataLabelsPos.bcx,j:s,val:P.globals.series[a][s],barHeight:v,barWidth:y}),H.dataLabels!==null&&S.add(H.dataLabels),H.totalDataLabels&&S.add(H.totalDataLabels),h.add(S),R&&h.add(R),k&&h.add(k)}return h}},{key:"drawBarPaths",value:function(e){var t,i=e.indexes,r=e.barHeight,s=e.strokeWidth,a=e.zeroW,o=e.x,l=e.y,c=e.yDivision,u=e.elSeries,h=this.w,d=i.i,g=i.j;if(h.globals.isXNumeric)t=(l=(h.globals.seriesX[d][g]-h.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=this.barHelpers.getZeroValueEncounters({i:d,j:g}),m=p.nonZeroColumns,x=p.zeroEncounters;m>0&&(r=this.seriesLen*r/m),t=l+r*this.visibleI,t-=r*x}else t=l+r*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[d][g],a)-a)/2),o=this.barHelpers.getXForValue(this.series[d][g],a);var v=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:a,x2:o,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:d,j:g,w:h});return h.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:g,i:d,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:u}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x1:a,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",a,null,d,g),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,i=e.indexes,r=e.x,s=e.y,a=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,h=this.w,d=i.realIndex,g=i.translationsIndex,p=i.i,m=i.j,x=i.bc;if(h.globals.isXNumeric){var v=this.getBarXForNumericXAxis({x:r,j:m,realIndex:d,barWidth:o});r=v.x,t=v.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:p,j:m}),b=y.nonZeroColumns,C=y.zeroEncounters;b>0&&(o=this.seriesLen*o/b),t=r+o*this.visibleI,t-=o*C}else t=r+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[p][m],l,g);var S=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:o,y1:l,y2:s,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:d,i:p,j:m,w:h});return h.globals.isXNumeric||(r+=a),this.barHelpers.barBackground({bc:x,j:m,i:p,x1:t-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:u}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:r,y:s,goalY:this.barHelpers.getGoalValues("y",null,l,p,m,g),barXPosition:t,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,i=e.barWidth,r=e.realIndex,s=e.j,a=this.w,o=r;return a.globals.seriesX[r].length||(o=a.globals.maxValsInArrayIndex),O.isNumber(a.globals.seriesX[o][s])&&(t=(a.globals.seriesX[o][s]-a.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:t+i*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var i=this.w,r="M 0 0",s=0;s<i.globals.previousPaths.length;s++){var a=i.globals.previousPaths[s];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[s].paths[t]!==void 0&&(r=i.globals.previousPaths[s].paths[t].d)}return r}}]),n}(),Sx=function(n){Nl(t,ka);var e=Rl(t);function t(){return ie(this,t),e.apply(this,arguments)}return re(t,[{key:"draw",value:function(i,r){var s=this,a=this.w;this.graphics=new W(this.ctx),this.bar=new ka(this.ctx,this.xyRatios);var o=new ft(this.ctx,a);i=o.getLogSeries(i),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),a.config.chart.stackType==="100%"&&(i=a.globals.comboCharts?r.map(function(p){return a.globals.seriesPercent[p]}):a.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,h=function(p,m){var x=void 0,v=void 0,y=void 0,b=void 0,C=a.globals.comboCharts?r[p]:p,S=s.barHelpers.getGroupIndex(C),R=S.groupIndex,k=S.columnGroupIndex;s.groupCtx=s[a.globals.seriesGroups[R]];var w=[],A=[],T=0;s.yRatio.length>1&&(s.yaxisIndex=a.globals.seriesYAxisReverseMap[C][0],T=C),s.isReversed=a.config.yaxis[s.yaxisIndex]&&a.config.yaxis[s.yaxisIndex].reversed;var P=s.graphics.group({class:"apexcharts-series",seriesName:O.escapeString(a.globals.seriesNames[C]),rel:p+1,"data:realIndex":C});s.ctx.series.addCollapsedClassToSeries(P,C);var L=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":C}),N=s.graphics.group({class:"apexcharts-bar-goals-markers"}),V=0,H=0,Y=s.initialPositions(c,u,x,v,y,b,T);u=Y.y,V=Y.barHeight,v=Y.yDivision,b=Y.zeroW,c=Y.x,H=Y.barWidth,x=Y.xDivision,y=Y.zeroH,a.globals.barHeight=V,a.globals.barWidth=H,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(Me){return isNaN(Me)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return y}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var q=0;q<a.globals.dataPoints;q++){var F=s.barHelpers.getStrokeWidth(p,q,C),U={indexes:{i:p,j:q,realIndex:C,translationsIndex:T,bc:m},strokeWidth:F,x:c,y:u,elSeries:P,columnGroupIndex:k,seriesGroup:a.globals.seriesGroups[R]},$=null;s.isHorizontal?($=s.drawStackedBarPaths(Q(Q({},U),{},{zeroW:b,barHeight:V,yDivision:v})),H=s.series[p][q]/s.invertedYRatio):($=s.drawStackedColumnPaths(Q(Q({},U),{},{xDivision:x,barWidth:H,zeroH:y})),V=s.series[p][q]/s.yRatio[T]);var J=s.barHelpers.drawGoalLine({barXPosition:$.barXPosition,barYPosition:$.barYPosition,goalX:$.goalX,goalY:$.goalY,barHeight:V,barWidth:H});J&&N.add(J),u=$.y,c=$.x,w.push(c),A.push(u);var oe=s.barHelpers.getPathFillColor(i,p,q,C),ge="",pe=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[C][q]==="bottom"&&a.globals.series[C][q]>0||s.barHelpers.arrBorderRadius[C][q]==="top"&&a.globals.series[C][q]<0)&&(ge=pe),P=s.renderSeries(Q(Q({realIndex:C,pathFill:oe.color},oe.useRangeColor?{lineFill:oe.color}:{}),{},{j:q,i:p,columnGroupIndex:k,pathFrom:$.pathFrom,pathTo:$.pathTo,strokeWidth:F,elSeries:P,x:c,y:u,series:i,barHeight:V,barWidth:H,elDataLabelsWrap:L,elGoalsMarkers:N,type:"bar",visibleSeries:k,classes:ge}))}a.globals.seriesXvalues[C]=w,a.globals.seriesYvalues[C]=A,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),l.add(P)},d=0,g=0;d<i.length;d++,g++)h(d,g);return l}},{key:"initialPositions",value:function(i,r,s,a,o,l,c){var u,h,d=this.w;if(this.isHorizontal){a=d.globals.gridHeight/d.globals.dataPoints;var g=d.config.plotOptions.bar.barHeight;u=String(g).indexOf("%")===-1?parseInt(g,10):a*parseInt(g,10)/100,l=d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),r=(a-u)/2}else{h=s=d.globals.gridWidth/d.globals.dataPoints;var p=d.config.plotOptions.bar.columnWidth;d.globals.isXNumeric&&d.globals.dataPoints>1?h=(s=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(p).indexOf("%")===-1?h=parseInt(p,10):h*=parseInt(p,10)/100,o=this.isReversed?this.baseLineY[c]:d.globals.gridHeight-this.baseLineY[c],i=d.globals.padHorizontal+(s-h)/2}var m=d.globals.barGroups.length||1;return{x:i,y:r,yDivision:a,xDivision:s,barHeight:u/m,barWidth:h/m,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(i){for(var r,s=i.indexes,a=i.barHeight,o=i.strokeWidth,l=i.zeroW,c=i.x,u=i.y,h=i.columnGroupIndex,d=i.seriesGroup,g=i.yDivision,p=i.elSeries,m=this.w,x=u+h*a,v=s.i,y=s.j,b=s.realIndex,C=s.translationsIndex,S=0,R=0;R<this.groupCtx.prevXF.length;R++)S+=this.groupCtx.prevXF[R][y];var k=v;if(m.config.series[b].name&&(k=d.indexOf(m.config.series[b].name)),k>0){var w=l;this.groupCtx.prevXVal[k-1][y]<0?w=this.series[v][y]>=0?this.groupCtx.prevX[k-1][y]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[k-1][y]:this.groupCtx.prevXVal[k-1][y]>=0&&(w=this.series[v][y]>=0?this.groupCtx.prevX[k-1][y]:this.groupCtx.prevX[k-1][y]-S+2*(this.isReversed?S:0)),r=w}else r=l;c=this.series[v][y]===null?r:r+this.series[v][y]/this.invertedYRatio-2*(this.isReversed?this.series[v][y]/this.invertedYRatio:0);var A=this.barHelpers.getBarpaths({barYPosition:x,barHeight:a,x1:r,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:d,i:v,j:y,w:m});return this.barHelpers.barBackground({j:y,i:v,y1:x,y2:a,elSeries:p}),u+=g,{pathTo:A.pathTo,pathFrom:A.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,v,y,C),barXPosition:r,barYPosition:x,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(i){var r=i.indexes,s=i.x,a=i.y,o=i.xDivision,l=i.barWidth,c=i.zeroH,u=i.columnGroupIndex,h=i.seriesGroup,d=i.elSeries,g=this.w,p=r.i,m=r.j,x=r.bc,v=r.realIndex,y=r.translationsIndex;if(g.globals.isXNumeric){var b=g.globals.seriesX[v][m];b||(b=0),s=(b-g.globals.minX)/this.xRatio-l/2*g.globals.barGroups.length}for(var C,S=s+u*l,R=0,k=0;k<this.groupCtx.prevYF.length;k++)R+=isNaN(this.groupCtx.prevYF[k][m])?0:this.groupCtx.prevYF[k][m];var w=p;if(h&&(w=h.indexOf(g.globals.seriesNames[v])),w>0&&!g.globals.isXNumeric||w>0&&g.globals.isXNumeric&&g.globals.seriesX[v-1][m]===g.globals.seriesX[v][m]){var A,T,P,L=Math.min(this.yRatio.length+1,v+1);if(this.groupCtx.prevY[w-1]!==void 0&&this.groupCtx.prevY[w-1].length)for(var N=1;N<L;N++){var V;if(!isNaN((V=this.groupCtx.prevY[w-N])===null||V===void 0?void 0:V[m])){P=this.groupCtx.prevY[w-N][m];break}}for(var H=1;H<L;H++){var Y,q;if(((Y=this.groupCtx.prevYVal[w-H])===null||Y===void 0?void 0:Y[m])<0){T=this.series[p][m]>=0?P-R+2*(this.isReversed?R:0):P;break}if(((q=this.groupCtx.prevYVal[w-H])===null||q===void 0?void 0:q[m])>=0){T=this.series[p][m]>=0?P:P+R-2*(this.isReversed?R:0);break}}T===void 0&&(T=g.globals.gridHeight),C=(A=this.groupCtx.prevYF[0])!==null&&A!==void 0&&A.every(function(U){return U===0})&&this.groupCtx.prevYF.slice(1,w).every(function(U){return U.every(function($){return isNaN($)})})?c:T}else C=c;a=this.series[p][m]?C-this.series[p][m]/this.yRatio[y]+2*(this.isReversed?this.series[p][m]/this.yRatio[y]:0):C;var F=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:l,y1:C,y2:a,yRatio:this.yRatio[y],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:r.realIndex,i:p,j:m,w:g});return this.barHelpers.barBackground({bc:x,j:m,i:p,x1:S,x2:l,elSeries:d}),{pathTo:F.pathTo,pathFrom:F.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,p,m),barXPosition:S,x:g.globals.isXNumeric?s:s+o,y:a}}}]),t}(),Kd=function(n){Nl(t,ka);var e=Rl(t);function t(){return ie(this,t),e.apply(this,arguments)}return re(t,[{key:"draw",value:function(i,r,s){var a=this,o=this.w,l=new W(this.ctx),c=o.globals.comboCharts?r:o.config.chart.type,u=new ei(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var h=new ft(this.ctx,o);i=h.getLogSeries(i),this.series=i,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),g=function(m){a.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[m].type==="boxPlot";var x,v,y,b,C=void 0,S=void 0,R=[],k=[],w=o.globals.comboCharts?s[m]:m,A=a.barHelpers.getGroupIndex(w).columnGroupIndex,T=l.group({class:"apexcharts-series",seriesName:O.escapeString(o.globals.seriesNames[w]),rel:m+1,"data:realIndex":w});a.ctx.series.addCollapsedClassToSeries(T,w),i[m].length>0&&(a.visibleI=a.visibleI+1);var P,L,N=0;a.yRatio.length>1&&(a.yaxisIndex=o.globals.seriesYAxisReverseMap[w][0],N=w);var V=a.barHelpers.initialPositions(w);S=V.y,P=V.barHeight,v=V.yDivision,b=V.zeroW,C=V.x,L=V.barWidth,x=V.xDivision,y=V.zeroH,k.push(C+L/2);for(var H=l.group({class:"apexcharts-datalabels","data:realIndex":w}),Y=l.group({class:"apexcharts-bar-goals-markers"}),q=function(U){var $=a.barHelpers.getStrokeWidth(m,U,w),J=null,oe={indexes:{i:m,j:U,realIndex:w,translationsIndex:N},x:C,y:S,strokeWidth:$,elSeries:T};J=a.isHorizontal?a.drawHorizontalBoxPaths(Q(Q({},oe),{},{yDivision:v,barHeight:P,zeroW:b})):a.drawVerticalBoxPaths(Q(Q({},oe),{},{xDivision:x,barWidth:L,zeroH:y})),S=J.y,C=J.x;var ge=a.barHelpers.drawGoalLine({barXPosition:J.barXPosition,barYPosition:J.barYPosition,goalX:J.goalX,goalY:J.goalY,barHeight:P,barWidth:L});ge&&Y.add(ge),U>0&&k.push(C+L/2),R.push(S),J.pathTo.forEach(function(pe,Me){var me=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?J.color[Me]:o.globals.stroke.colors[m],ye=u.fillPath({seriesNumber:w,dataPointIndex:U,color:J.color[Me],value:i[m][U]});a.renderSeries({realIndex:w,pathFill:ye,lineFill:me,j:U,i:m,pathFrom:J.pathFrom,pathTo:pe,strokeWidth:$,elSeries:T,x:C,y:S,series:i,columnGroupIndex:A,barHeight:P,barWidth:L,elDataLabelsWrap:H,elGoalsMarkers:Y,visibleSeries:a.visibleI,type:o.config.chart.type})})},F=0;F<o.globals.dataPoints;F++)q(F);o.globals.seriesXvalues[w]=k,o.globals.seriesYvalues[w]=R,d.add(T)},p=0;p<i.length;p++)g(p);return d}},{key:"drawVerticalBoxPaths",value:function(i){var r=i.indexes,s=i.x;i.y;var a=i.xDivision,o=i.barWidth,l=i.zeroH,c=i.strokeWidth,u=this.w,h=new W(this.ctx),d=r.i,g=r.j,p=u.config.plotOptions.candlestick.colors,m=this.boxOptions.colors,x=r.realIndex,v=function(F){return Array.isArray(F)?F[x]:F},y=v(p.upward),b=v(p.downward),C=this.yRatio[r.translationsIndex],S=this.getOHLCValue(x,g),R=l,k=l,w=S.o<S.c?[y]:[b];this.isBoxPlot&&(w=[v(m.lower),v(m.upper)]);var A=Math.min(S.o,S.c),T=Math.max(S.o,S.c),P=S.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[x][g]-u.globals.minX)/this.xRatio-o/2);var L=s+o*this.visibleI;this.series[d][g]===void 0||this.series[d][g]===null?(A=l,T=l):(A=l-A/C,T=l-T/C,R=l-S.h/C,k=l-S.l/C,P=l-S.m/C);var N=h.move(L,l),V=h.move(L+o/2,A);if(u.globals.previousPaths.length>0&&(V=this.getPreviousPath(x,g,!0)),this.isOHLC){var H=L+o/2,Y=l-S.o/C,q=l-S.c/C;N=[h.move(H,R)+h.line(H,k)+h.move(H,Y)+h.line(L,Y)+h.move(H,q)+h.line(L+o,q)]}else N=this.isBoxPlot?[h.move(L,A)+h.line(L+o/2,A)+h.line(L+o/2,R)+h.line(L+o/4,R)+h.line(L+o-o/4,R)+h.line(L+o/2,R)+h.line(L+o/2,A)+h.line(L+o,A)+h.line(L+o,P)+h.line(L,P)+h.line(L,A+c/2),h.move(L,P)+h.line(L+o,P)+h.line(L+o,T)+h.line(L+o/2,T)+h.line(L+o/2,k)+h.line(L+o-o/4,k)+h.line(L+o/4,k)+h.line(L+o/2,k)+h.line(L+o/2,T)+h.line(L,T)+h.line(L,P)+"z"]:[h.move(L,T)+h.line(L+o/2,T)+h.line(L+o/2,R)+h.line(L+o/2,T)+h.line(L+o,T)+h.line(L+o,A)+h.line(L+o/2,A)+h.line(L+o/2,k)+h.line(L+o/2,A)+h.line(L,A)+h.line(L,T-c/2)];return V+=h.move(L,A),u.globals.isXNumeric||(s+=a),{pathTo:N,pathFrom:V,x:s,y:T,goalY:this.barHelpers.getGoalValues("y",null,l,d,g,r.translationsIndex),barXPosition:L,color:w}}},{key:"drawHorizontalBoxPaths",value:function(i){var r=i.indexes;i.x;var s=i.y,a=i.yDivision,o=i.barHeight,l=i.zeroW,c=i.strokeWidth,u=this.w,h=new W(this.ctx),d=r.i,g=r.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.invertedYRatio,x=r.realIndex,v=this.getOHLCValue(x,g),y=l,b=l,C=Math.min(v.o,v.c),S=Math.max(v.o,v.c),R=v.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[x][g]-u.globals.minX)/this.invertedXRatio-o/2);var k=s+o*this.visibleI;this.series[d][g]===void 0||this.series[d][g]===null?(C=l,S=l):(C=l+C/m,S=l+S/m,y=l+v.h/m,b=l+v.l/m,R=l+v.m/m);var w=h.move(l,k),A=h.move(C,k+o/2);return u.globals.previousPaths.length>0&&(A=this.getPreviousPath(x,g,!0)),w=[h.move(C,k)+h.line(C,k+o/2)+h.line(y,k+o/2)+h.line(y,k+o/2-o/4)+h.line(y,k+o/2+o/4)+h.line(y,k+o/2)+h.line(C,k+o/2)+h.line(C,k+o)+h.line(R,k+o)+h.line(R,k)+h.line(C+c/2,k),h.move(R,k)+h.line(R,k+o)+h.line(S,k+o)+h.line(S,k+o/2)+h.line(b,k+o/2)+h.line(b,k+o-o/4)+h.line(b,k+o/4)+h.line(b,k+o/2)+h.line(S,k+o/2)+h.line(S,k)+h.line(R,k)+"z"],A+=h.move(C,k),u.globals.isXNumeric||(s+=a),{pathTo:w,pathFrom:A,x:S,y:s,goalX:this.barHelpers.getGoalValues("x",l,null,d,g),barYPosition:k,color:p}}},{key:"getOHLCValue",value:function(i,r){var s=this.w,a=new ft(this.ctx,s),o=a.getLogValAtSeriesIndex(s.globals.seriesCandleH[i][r],i),l=a.getLogValAtSeriesIndex(s.globals.seriesCandleO[i][r],i),c=a.getLogValAtSeriesIndex(s.globals.seriesCandleM[i][r],i),u=a.getLogValAtSeriesIndex(s.globals.seriesCandleC[i][r],i),h=a.getLogValAtSeriesIndex(s.globals.seriesCandleL[i][r],i);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t}(),m_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,i=e.config.plotOptions[e.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(r,s){r.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,i,r){var s=this.w,a=1,o=s.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,i);s.globals.hasNegs||r?a=s.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(a=1-l.percent/100,e==="treemap"&&(a=(1-l.percent/100)*(1.25*o)));var c=l.color,u=new O;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*a,l.color);c=O.hexToRgba(O.isColorHex(h)?h:O.rgb2hex(h),s.config.fill.opacity)}else{var d=u.shadeColor(a,l.color);c=O.hexToRgba(O.isColorHex(d)?d:O.rgb2hex(d),s.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,i){var r=this.w,s=r.globals.series[t][i],a=r.config.plotOptions[e],o=a.colorScale.inverse?i:t;a.distributed&&r.config.chart.type==="treemap"&&(o=i);var l=r.globals.colors[o],c=null,u=Math.min.apply(Math,Ct(r.globals.series[t])),h=Math.max.apply(Math,Ct(r.globals.series[t]));a.distributed||e!=="heatmap"||(u=r.globals.minY,h=r.globals.maxY),a.colorScale.min!==void 0&&(u=a.colorScale.min<r.globals.minY?a.colorScale.min:r.globals.minY,h=a.colorScale.max>r.globals.maxY?a.colorScale.max:r.globals.maxY);var d=Math.abs(h)+Math.abs(u),g=100*s/(d===0?d-1e-6:d);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(p,m){if(s>=p.from&&s<=p.to){l=p.color,c=p.foreColor?p.foreColor:null,u=p.from,h=p.to;var x=Math.abs(h)+Math.abs(u);g=100*s/(x===0?x-1e-6:x)}}),{color:l,foreColor:c,percent:g}}},{key:"calculateDataLabels",value:function(e){var t=e.text,i=e.x,r=e.y,s=e.i,a=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new W(this.ctx),h=new _a(this.ctx),d=null;if(c.enabled){d=u.group({class:"apexcharts-data-labels"});var g=c.offsetX,p=c.offsetY,m=i+g,x=r+parseFloat(c.style.fontSize)/3+p;h.plotDataLabelsText({x:m,y:x,text:t,i:s,j:a,color:o.foreColor,parent:d,fontSize:l,dataLabelsConfig:c})}return d}},{key:"addListeners",value:function(e){var t=new W(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),n}(),iI=function(){function n(e,t){ie(this,n),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new m_(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return re(n,[{key:"draw",value:function(e){var t=this.w,i=new W(this.ctx),r=i.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var h=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:O.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var d=t.config.chart.dropShadow;new zt(this.ctx).dropShadow(h,d,u)}for(var g=0,p=t.config.plotOptions.heatmap.shadeIntensity,m=0,x=0;x<t.globals.dataPoints;x++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*x<t.globals.seriesX[u][m])g+=s;else{if(m>=c[u].length)break;var v=this.helpers.getShadeColor(t.config.chart.type,u,m,this.negRange),y=v.color,b=v.colorProps;t.config.fill.type==="image"&&(y=new ei(this.ctx).fillPath({seriesNumber:u,dataPointIndex:m,opacity:t.globals.hasNegs?b.percent<0?1-(1+b.percent/100):p+b.percent/100:b.percent/100,patternID:O.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:a}));var C=this.rectRadius,S=i.drawRect(g,o,s,a,C);if(S.attr({cx:g,cy:o}),S.node.classList.add("apexcharts-heatmap-rect"),h.add(S),S.attr({fill:y,i:u,index:u,j:m,val:e[u][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?y:t.globals.stroke.colors[0],color:y}),this.helpers.addListeners(S),t.config.chart.animations.enabled&&!t.globals.dataChanged){var R=1;t.globals.resized||(R=t.config.chart.animations.speed),this.animateHeatMap(S,g,o,s,a,R)}if(t.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){k=this.dynamicAnim.speed;var w=t.globals.previousPaths[u]&&t.globals.previousPaths[u][m]&&t.globals.previousPaths[u][m].color;w||(w="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,O.isColorHex(w)?w:O.rgb2hex(w),O.isColorHex(y)?y:O.rgb2hex(y),k)}}var A=(0,t.config.dataLabels.formatter)(t.globals.series[u][m],{value:t.globals.series[u][m],seriesIndex:u,dataPointIndex:m,w:t}),T=this.helpers.calculateDataLabels({text:A,x:g+s/2,y:o+a/2,i:u,j:m,colorProps:b,series:c});T!==null&&h.add(T),g+=s,m++}o+=a,r.add(h)}var P=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?P.unshift(""):P.push(""),t.globals.yAxisScale[0].result=P,r}},{key:"animateHeatMap",value:function(e,t,i,r,s,a){var o=new La(this.ctx);o.animateRect(e,{x:t+r/2,y:i+s/2,width:0,height:0},{x:t,y:i,width:r,height:s},a,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,i,r){e.attr({fill:t}).animate(r).attr({fill:i})}}]),n}(),v_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"drawYAxisTexts",value:function(e,t,i,r){var s=this.w,a=s.config.yaxis[0],o=s.globals.yLabelFormatters[0];return new W(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:o(r,i),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[i]:a.labels.style.colors})}}]),n}(),y_=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var i=t.config.plotOptions.pie.customScale,r=t.globals.gridWidth/2,s=t.globals.gridHeight/2;this.translateX=r-r*i,this.translateY=s-s*i,this.dataLabelsGroup=new W(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return re(n,[{key:"draw",value:function(e){var t=this,i=this.w,r=new W(this.ctx),s=r.group({class:"apexcharts-pie"});if(i.globals.noData)return s;for(var a=0,o=0;o<e.length;o++)a+=O.negToZero(e[o]);var l=[],c=r.group();a===0&&(a=1e-5),e.forEach(function(b){t.maxY=Math.max(t.maxY,b)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var u=0;u<e.length;u++){var h=this.fullAngle*O.negToZero(e[u])/a;l.push(h),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(i.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var d,g=0,p=0;p<i.globals.previousPaths.length;p++)g+=O.negToZero(i.globals.previousPaths[p]);for(var m=0;m<i.globals.previousPaths.length;m++)d=this.fullAngle*O.negToZero(i.globals.previousPaths[m])/g,this.prevSectorAngleArr.push(d)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var x=r.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),c.add(x)}var v=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(b){v.add(b)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),c.add(v),s.add(c),this.donutDataLabels.show){var y=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(y)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var i=this.w,r=new zt(this.ctx),s=new W(this.ctx),a=new ei(this.ctx),o=s.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var d=0;d<e.length;d++){var g=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:O.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});o.add(g),c=h,u=(l=u)+e[d],h=c+this.prevSectorAngleArr[d];var p=u<l?this.fullAngle+u-l:u-l,m=a.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:t[d]}),x=this.getChangedPath(c,h),v=s.drawPath({d:x,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(v.attr({index:0,j:d}),r.setSelectionFilter(v,0,d),i.config.chart.dropShadow.enabled){var y=i.config.chart.dropShadow;r.dropShadow(v,y,d)}this.addListeners(v,this.donutDataLabels),W.setAttrs(v.node,{"data:angle":p,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[d]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=O.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle):this.chartType==="donut"&&(b=O.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle)),g.add(v);var C=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((C=p/this.fullAngle*i.config.chart.animations.speed)===0&&(C=1),this.animDur=C+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(v,{size:this.sliceSizes[d],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(v,{size:this.sliceSizes[d],endAngle:u,startAngle:l,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:C}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&v.node.addEventListener("mouseup",this.pieClicked.bind(this,d)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),i.config.dataLabels.enabled){var S=b.x,R=b.y,k=100*p/this.fullAngle+"%";if(p!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var w=i.config.dataLabels.formatter;w!==void 0&&(k=w(i.globals.seriesPercent[d][0],{seriesIndex:d,w:i}));var A=i.globals.dataLabels.style.colors[d],T=s.group({class:"apexcharts-datalabels"}),P=s.drawText({x:S,y:R,text:k,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:A});if(T.add(P),i.config.dataLabels.dropShadow.enabled){var L=i.config.dataLabels.dropShadow;r.dropShadow(P,L)}P.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(P.node.classList.add("apexcharts-pie-label-delay"),P.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return o}},{key:"addListeners",value:function(e,t){var i=new W(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var i=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=r,a=t.startAngle,o=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(a=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===i.config.series.length-1&&(r+o>this.fullAngle?t.endAngle=t.endAngle-(r+o):r+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+o)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,a,o,r,s,t)}},{key:"animateArc",value:function(e,t,i,r,s,a){var o,l=this,c=this.w,u=new La(this.ctx),h=a.size;(isNaN(t)||isNaN(s))&&(t=i,s=r,a.dur=0);var d=r,g=i,p=t<i?this.fullAngle+t-i:t-i;c.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:h}),e.attr({d:o})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),a.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(m){d=p+(r-p)*m,a.animateStartingPos&&(d=s+(r-s)*m,g=t-s+(i-(t-s))*m),o=l.getPiePath({me:l,startAngle:g,angle:d,size:h}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:g,angle:r,size:h}),a.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,i=this.w,r=this,s=r.sliceSizes[e]+(i.config.plotOptions.pie.expandOnClick?4:0),a=i.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(h){h.setAttribute("data:pieClicked","false");var d=h.getAttribute("data:pathOrig");d&&h.setAttribute("d",d)}),i.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var l=parseInt(a.attr("data:startAngle"),10),c=parseInt(a.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:l,angle:c,size:s}),c!==360&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var u=a.attr("data:pathOrig");a.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),i}},{key:"getPiePath",value:function(e){var t,i=e.me,r=e.startAngle,s=e.angle,a=e.size,o=new W(this.ctx),l=r,c=Math.PI*(l-90)/180,u=s+r;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,d=i.centerX+a*Math.cos(c),g=i.centerY+a*Math.sin(c),p=i.centerX+a*Math.cos(h),m=i.centerY+a*Math.sin(h),x=O.polarToCartesian(i.centerX,i.centerY,i.donutSize,u),v=O.polarToCartesian(i.centerX,i.centerY,i.donutSize,l),y=s>180?1:0,b=["M",d,g,"A",a,a,0,y,1,p,m];return t=i.chartType==="donut"?[].concat(b,["L",x.x,x.y,"A",i.donutSize,i.donutSize,0,y,0,v.x,v.y,"L",d,g,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(b,["L",i.centerX,i.centerY,"L",d,g]).join(" "):[].concat(b).join(" "),o.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,i=new h_(this.ctx),r=new W(this.ctx),s=new v_(this.ctx),a=r.group(),o=r.group(),l=i.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var h=t.globals.radialSize,d=h/(u-1),g=0;g<u-1;g++){var p=r.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=s.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,g,c[g]);o.add(m)}a.add(p),h-=d}this.drawSpokes(e),e.add(a),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t,i){var r=this.w,s=new W(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=i.opacity;var o,l,c=i.centerX,u=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;o=t.name.color===void 0?r.globals.colors[0]:t.name.color;var h=t.name.fontSize,d=t.name.fontFamily,g=t.name.fontWeight;l=t.value.color===void 0?r.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",x="";if(a?(o=t.total.color,h=t.total.fontSize,d=t.total.fontFamily,g=t.total.fontWeight,x=this.donutDataLabels.total.label?t.total.label:"",m=t.total.formatter(r)):r.globals.series.length===1&&(m=p(r.globals.series[0],r),x=r.globals.seriesNames[0]),x&&(x=t.name.formatter(x,t.total.show,r)),t.name.show){var v=s.drawText({x:c,y:u+parseFloat(t.name.offsetY),text:x,textAnchor:"middle",foreColor:o,fontSize:h,fontWeight:g,fontFamily:d});v.node.classList.add("apexcharts-datalabel-label"),e.add(v)}if(t.value.show){var y=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,b=s.drawText({x:c,y:u+y,text:m,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,t,i,r){var s,a=this.w;r?s=e.name.color===void 0?a.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(s=e.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,e.value.formatter)(i,a),r||typeof e.total.formatter!="function"||(i=e.total.formatter(a));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,a):"",o!==null&&(o.textContent=t),l!==null&&(l.textContent=i),o!==null&&(o.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var i=this.w,r=e.getAttribute("data:value"),s=i.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(t,s,r,e);var a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,i=this.w,r=new W(this.ctx),s=i.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var a=[],o=360/i.globals.series.length,l=0;l<i.globals.series.length;l++)a.push(O.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+o*l));a.forEach(function(c,u){var h=r.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[u]:s.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),n}(),rI=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new W(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new ft(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return re(n,[{key:"draw",value:function(e){var t=this,i=this.w,r=new ei(this.ctx),s=[],a=new _a(this.ctx);e.length&&(this.dataPointsLen=e[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=o+i.config.plotOptions.radar.offsetX,u=l+i.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),d=[],g=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(x,v){var y=x.length===i.globals.dataPoints,b=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":y,seriesName:O.escapeString(i.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});t.dataRadiusOfPercent[v]=[],t.dataRadius[v]=[],t.angleArr[v]=[],x.forEach(function(N,V){var H=Math.abs(t.maxValue-t.minValue);N-=t.minValue,t.isLog&&(N=t.coreUtils.getLogVal(t.logBase,N,0)),t.dataRadiusOfPercent[v][V]=N/H,t.dataRadius[v][V]=t.dataRadiusOfPercent[v][V]*t.size,t.angleArr[v][V]=V*t.disAngle}),d=t.getDataPointsPos(t.dataRadius[v],t.angleArr[v]);var C=t.createPaths(d,{x:0,y:0});g=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":v}),i.globals.delayedElements.push({el:g.node,index:v});var S={i:v,realIndex:v,animationDelay:v,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[v],strokeLineCap:i.config.stroke.lineCap},R=null;i.globals.previousPaths.length>0&&(R=t.getPreviousPath(v));for(var k=0;k<C.linePathsTo.length;k++){var w=t.graphics.renderPaths(Q(Q({},S),{},{pathFrom:R===null?C.linePathsFrom[k]:R,pathTo:C.linePathsTo[k],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[v]:t.strokeWidth,fill:"none",drawShadow:!1}));b.add(w);var A=r.fillPath({seriesNumber:v}),T=t.graphics.renderPaths(Q(Q({},S),{},{pathFrom:R===null?C.areaPathsFrom[k]:R,pathTo:C.areaPathsTo[k],strokeWidth:0,fill:A,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var P=new zt(t.ctx),L=i.config.chart.dropShadow;P.dropShadow(T,Object.assign({},L,{noUserSpaceOnUse:!0}),v)}b.add(T)}x.forEach(function(N,V){var H=new Fa(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:v,dataPointIndex:V}),Y=t.graphics.drawMarker(d[V].x,d[V].y,H);Y.attr("rel",V),Y.attr("j",V),Y.attr("index",v),Y.node.setAttribute("default-marker-size",H.pSize);var q=t.graphics.group({class:"apexcharts-series-markers"});q&&q.add(Y),g.add(q),b.add(g);var F=i.config.dataLabels;if(F.enabled){var U=F.formatter(i.globals.series[v][V],{seriesIndex:v,dataPointIndex:V,w:i});a.plotDataLabelsText({x:d[V].x,y:d[V].y,text:U,textAnchor:"middle",i:v,j:v,parent:p,offsetCorrection:!1,dataLabelsConfig:Q({},F)})}b.add(p)}),s.push(b)}),this.drawPolygons({parent:h}),i.config.xaxis.labels.show){var m=this.drawXAxisTexts();h.add(m)}return s.forEach(function(x){h.add(x)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,i=this.w,r=e.parent,s=new v_(this.ctx),a=i.globals.yAxisScale[0].result.reverse(),o=a.length,l=[],c=this.size/(o-1),u=0;u<o;u++)l[u]=c*u;l.reverse();var h=[],d=[];l.forEach(function(g,p){var m=O.getPolygonPos(g,t.dataPointsLen),x="";m.forEach(function(v,y){if(p===0){var b=t.graphics.drawLine(v.x,v.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[y]:t.polygons.connectorColors);d.push(b)}y===0&&t.yaxisLabelsTextsPos.push({x:v.x,y:v.y}),x+=v.x+","+v.y+" "}),h.push(x)}),h.forEach(function(g,p){var m=t.polygons.strokeColors,x=t.polygons.strokeWidth,v=t.graphics.drawPolygon(g,Array.isArray(m)?m[p]:m,Array.isArray(x)?x[p]:x,i.globals.radarPolygons.fill.colors[p]);r.add(v)}),d.forEach(function(g){r.add(g)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(g,p){var m=s.drawYAxisTexts(g.x,g.y,p,a[p]);t.yaxisLabels.add(m)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,i=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),s=O.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,o){var l=t.config.xaxis.labels.formatter,c=new _a(e.ctx);if(s[o]){var u=e.getTextPos(s[o],e.size),h=l(a,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:o,j:o,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:Q({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",function(d){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var g=Object.assign({},t,{labelIndex:o});t.config.chart.events.xAxisLabelClick(d,e.ctx,g)}})}}),r}},{key:"createPaths",value:function(e,t){var i=this,r=[],s=[],a=[],o=[];if(e.length){s=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){l+=i.graphics.line(u.x,u.y),c+=i.graphics.line(u.x,u.y),h===e.length-1&&(l+="Z",c+="Z")}),r.push(l),a.push(c)}return{linePathsFrom:s,linePathsTo:r,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var i="middle",r=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(i="start",r+=10):e.x<0&&(i="end",r-=10):i="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:i,newX:r,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,i=null,r=0;r<t.globals.previousPaths.length;r++){var s=t.globals.previousPaths[r];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[r].paths[0]!==void 0&&(i=t.globals.previousPaths[r].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],s=0;s<i;s++){var a={};a.x=e[s]*Math.sin(t[s]),a.y=-e[s]*Math.cos(t[s]),r.push(a)}return r}}]),n}(),sI=function(n){Nl(t,y_);var e=Rl(t);function t(i){var r;ie(this,t),(r=e.call(this,i)).ctx=i,r.w=i.w,r.animBeginArr=[0],r.animDur=0;var s=r.w;return r.startAngle=s.config.plotOptions.radialBar.startAngle,r.endAngle=s.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),r.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),r.endAngle===360&&(r.endAngle=359.99),r.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(I1(r)),r}return re(t,[{key:"draw",value:function(i){var r=this.w,s=new W(this.ctx),a=s.group({class:"apexcharts-radialbar"});if(r.globals.noData)return a;var o=s.group(),l=this.defaultSize/2,c=r.globals.gridWidth/2,u=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(u=u-r.config.stroke.width-r.config.chart.dropShadow.blur);var h=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var d=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:h,series:i});o.add(d)}var g=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:h,series:i}),p=360;r.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var m=(360-p)/360;if(r.globals.radialSize=u-u*m,this.radialDataLabels.value.show){var x=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=x*m}return o.add(g.g),r.config.plotOptions.radialBar.hollow.position==="front"&&(g.g.add(g.elHollow),g.dataLabels&&g.g.add(g.dataLabels)),a.add(o),a}},{key:"drawTracks",value:function(i){var r=this.w,s=new W(this.ctx),a=s.group({class:"apexcharts-tracks"}),o=new zt(this.ctx),l=new ei(this.ctx),c=this.getStrokeWidth(i);i.size=i.size-c/2;for(var u=0;u<i.series.length;u++){var h=s.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(h),h.attr({rel:u+1}),i.size=i.size-c-this.margin;var d=r.config.plotOptions.radialBar.track,g=l.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(d.background)?d.background[u]:d.background,solid:!0}),p=this.trackStartAngle,m=this.trackEndAngle;Math.abs(m)+Math.abs(p)>=360&&(m=360-Math.abs(this.startAngle)-.1);var x=s.drawPath({d:"",stroke:g,strokeWidth:c*parseInt(d.strokeWidth,10)/100,fill:"none",strokeOpacity:d.opacity,classes:"apexcharts-radialbar-area"});if(d.dropShadow.enabled){var v=d.dropShadow;o.dropShadow(x,v)}h.add(x),x.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(x,{centerX:i.centerX,centerY:i.centerY,endAngle:m,startAngle:p,size:i.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(i){var r=this.w,s=new W(this.ctx),a=new ei(this.ctx),o=new zt(this.ctx),l=s.group(),c=this.getStrokeWidth(i);i.size=i.size-c/2;var u=r.config.plotOptions.radialBar.hollow.background,h=i.size-c*i.series.length-this.margin*i.series.length-c*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,d=h-r.config.plotOptions.radialBar.hollow.margin;r.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(i,l,h,u));var g=this.drawHollow({size:d,centerX:i.centerX,centerY:i.centerY,fill:u||"transparent"});if(r.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=r.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(g,p)}var m=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(m=0);var x=null;if(this.radialDataLabels.show){var v=r.globals.dom.Paper.findOne(".apexcharts-datalabels-group");x=this.renderInnerDataLabels(v,this.radialDataLabels,{hollowSize:h,centerX:i.centerX,centerY:i.centerY,opacity:m})}r.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(g),x&&l.add(x));var y=!1;r.config.plotOptions.radialBar.inverseOrder&&(y=!0);for(var b=y?i.series.length-1:0;y?b>=0:b<i.series.length;y?b--:b++){var C=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:O.escapeString(r.globals.seriesNames[b])});l.add(C),C.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(C,b),i.size=i.size-c-this.margin;var S=a.fillPath({seriesNumber:b,size:i.size,value:i.series[b]}),R=this.startAngle,k=void 0,w=O.negToZero(i.series[b]>100?100:i.series[b])/100,A=Math.round(this.totalAngle*w)+this.startAngle,T=void 0;r.globals.dataChanged&&(k=this.startAngle,T=Math.round(this.totalAngle*O.negToZero(r.globals.previousPaths[b])/100)+k),Math.abs(A)+Math.abs(R)>360&&(A-=.01),Math.abs(T)+Math.abs(k)>360&&(T-=.01);var P=A-R,L=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[b]:r.config.stroke.dashArray,N=s.drawPath({d:"",stroke:S,strokeWidth:c,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:L});if(W.setAttrs(N.node,{"data:angle":P,"data:value":i.series[b]}),r.config.chart.dropShadow.enabled){var V=r.config.chart.dropShadow;o.dropShadow(N,V,b)}if(o.setSelectionFilter(N,0,b),this.addListeners(N,this.radialDataLabels),C.add(N),N.attr({index:0,j:b}),this.barLabels.enabled){var H=O.polarToCartesian(i.centerX,i.centerY,i.size,R),Y=this.barLabels.formatter(r.globals.seriesNames[b],{seriesIndex:b,w:r}),q=["apexcharts-radialbar-label"];this.barLabels.onClick||q.push("apexcharts-no-click");var F=this.barLabels.useSeriesColors?r.globals.colors[b]:r.config.chart.foreColor;F||(F=r.config.chart.foreColor);var U=H.x+this.barLabels.offsetX,$=H.y+this.barLabels.offsetY,J=s.drawText({x:U,y:$,text:Y,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:F,cssClass:q.join(" ")});J.on("click",this.onBarLabelClick),J.attr({rel:b+1}),R!==0&&J.attr({"transform-origin":"".concat(U," ").concat($),transform:"rotate(".concat(R," 0 0)")}),C.add(J)}var oe=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(oe=r.config.chart.animations.speed),r.globals.dataChanged&&(oe=r.config.chart.animations.dynamicAnimation.speed),this.animDur=oe/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(N,{centerX:i.centerX,centerY:i.centerY,endAngle:A,startAngle:R,prevEndAngle:T,prevStartAngle:k,size:i.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:oe,shouldSetPrevPaths:!0})}return{g:l,elHollow:g,dataLabels:x}}},{key:"drawHollow",value:function(i){var r=new W(this.ctx).drawCircle(2*i.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),r}},{key:"drawHollowImage",value:function(i,r,s,a){var o=this.w,l=new ei(this.ctx),c=O.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:s,height:s,image:u,patternID:"pattern".concat(o.globals.cuid).concat(c)}),a="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var h=o.config.plotOptions.radialBar.hollow.imageWidth,d=o.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&d===void 0){var g=o.globals.dom.Paper.image(u,function(m){this.move(i.centerX-m.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-m.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});r.add(g)}else{var p=o.globals.dom.Paper.image(u,function(m){this.move(i.centerX-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-d/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,d)});r.add(p)}}return a}},{key:"getStrokeWidth",value:function(i){var r=this.w;return i.size*(100-parseInt(r.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var r=parseInt(i.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,a=this.w;s&&s(a.globals.seriesNames[r],{w:a,seriesIndex:r})}}]),t}(),aI=function(n){Nl(t,ka);var e=Rl(t);function t(){return ie(this,t),e.apply(this,arguments)}return re(t,[{key:"draw",value:function(i,r){var s=this.w,a=new W(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var o=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<i.length;l++){var c,u,h,d,g=void 0,p=void 0,m=s.globals.comboCharts?r[l]:l,x=this.barHelpers.getGroupIndex(m).columnGroupIndex,v=a.group({class:"apexcharts-series",seriesName:O.escapeString(s.globals.seriesNames[m]),rel:l+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(v,m),i[l].length>0&&(this.visibleI=this.visibleI+1);var y=0,b=0,C=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[m][0],C=m);var S=this.barHelpers.initialPositions(m);p=S.y,d=S.zeroW,g=S.x,b=S.barWidth,y=S.barHeight,c=S.xDivision,u=S.yDivision,h=S.zeroH;for(var R=a.group({class:"apexcharts-datalabels","data:realIndex":m}),k=a.group({class:"apexcharts-rangebar-goals-markers"}),w=0;w<s.globals.dataPoints;w++){var A=this.barHelpers.getStrokeWidth(l,w,m),T=this.seriesRangeStart[l][w],P=this.seriesRangeEnd[l][w],L=null,N=null,V=null,H={x:g,y:p,strokeWidth:A,elSeries:v},Y=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(Y=1),s.config.series[l].data[w]===void 0)break;if(this.isHorizontal){V=p+y*this.visibleI;var q=(u-y*Y)/2;if(s.config.series[l].data[w].x){var F=this.detectOverlappingBars({i:l,j:w,barYPosition:V,srty:q,barHeight:y,yDivision:u,initPositions:S});y=F.barHeight,V=F.barYPosition}b=(L=this.drawRangeBarPaths(Q({indexes:{i:l,j:w,realIndex:m},barHeight:y,barYPosition:V,zeroW:d,yDivision:u,y1:T,y2:P},H))).barWidth}else{s.globals.isXNumeric&&(g=(s.globals.seriesX[l][w]-s.globals.minX)/this.xRatio-b/2),N=g+b*this.visibleI;var U=(c-b*Y)/2;if(s.config.series[l].data[w].x){var $=this.detectOverlappingBars({i:l,j:w,barXPosition:N,srtx:U,barWidth:b,xDivision:c,initPositions:S});b=$.barWidth,N=$.barXPosition}y=(L=this.drawRangeColumnPaths(Q({indexes:{i:l,j:w,realIndex:m,translationsIndex:C},barWidth:b,barXPosition:N,zeroH:h,xDivision:c},H))).barHeight}var J=this.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:V,goalX:L.goalX,goalY:L.goalY,barHeight:y,barWidth:b});J&&k.add(J),p=L.y,g=L.x;var oe=this.barHelpers.getPathFillColor(i,l,w,m);this.renderSeries({realIndex:m,pathFill:oe.color,lineFill:oe.useRangeColor?oe.color:s.globals.stroke.colors[m],j:w,i:l,x:g,y:p,y1:T,y2:P,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:A,elSeries:v,series:i,barHeight:y,barWidth:b,barXPosition:N,barYPosition:V,columnGroupIndex:x,elDataLabelsWrap:R,elGoalsMarkers:k,visibleSeries:this.visibleI,type:"rangebar"})}o.add(v)}return o}},{key:"detectOverlappingBars",value:function(i){var r=i.i,s=i.j,a=i.barYPosition,o=i.barXPosition,l=i.srty,c=i.srtx,u=i.barHeight,h=i.barWidth,d=i.yDivision,g=i.xDivision,p=i.initPositions,m=this.w,x=[],v=m.config.series[r].data[s].rangeName,y=m.config.series[r].data[s].x,b=Array.isArray(y)?y.join(" "):y,C=m.globals.labels.map(function(R){return Array.isArray(R)?R.join(" "):R}).indexOf(b),S=m.globals.seriesRange[r].findIndex(function(R){return R.x===b&&R.overlaps.length>0});return this.isHorizontal?(a=m.config.plotOptions.bar.rangeBarGroupRows?l+d*C:l+u*this.visibleI+d*C,S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(x=m.globals.seriesRange[r][S].overlaps).indexOf(v)>-1&&(a=(u=p.barHeight/x.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+x.indexOf(v))+d*C)):(C>-1&&!m.globals.timescaleLabels.length&&(o=m.config.plotOptions.bar.rangeBarGroupRows?c+g*C:c+h*this.visibleI+g*C),S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(x=m.globals.seriesRange[r][S].overlaps).indexOf(v)>-1&&(o=(h=p.barWidth/x.length)*this.visibleI+g*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+x.indexOf(v))+g*C)),{barYPosition:a,barXPosition:o,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(i){var r=i.indexes,s=i.x,a=i.xDivision,o=i.barWidth,l=i.barXPosition,c=i.zeroH,u=this.w,h=r.i,d=r.j,g=r.realIndex,p=r.translationsIndex,m=this.yRatio[p],x=this.getRangeValue(g,d),v=Math.min(x.start,x.end),y=Math.max(x.start,x.end);this.series[h][d]===void 0||this.series[h][d]===null?v=c:(v=c-v/m,y=c-y/m);var b=Math.abs(y-v),C=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:v,y2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:g,i:g,j:d,w:u});if(u.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:s,j:d,realIndex:g,barWidth:o});s=S.x,l=S.barXPosition}else s+=a;return{pathTo:C.pathTo,pathFrom:C.pathFrom,barHeight:b,x:s,y:x.start<0&&x.end<0?v:y,goalY:this.barHelpers.getGoalValues("y",null,c,h,d,p),barXPosition:l}}},{key:"preventBarOverflow",value:function(i){var r=this.w;return i<0&&(i=0),i>r.globals.gridWidth&&(i=r.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var r=i.indexes,s=i.y,a=i.y1,o=i.y2,l=i.yDivision,c=i.barHeight,u=i.barYPosition,h=i.zeroW,d=this.w,g=r.realIndex,p=r.j,m=this.preventBarOverflow(h+a/this.invertedYRatio),x=this.preventBarOverflow(h+o/this.invertedYRatio),v=this.getRangeValue(g,p),y=Math.abs(x-m),b=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:m,x2:x,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:g,realIndex:g,j:p,w:d});return d.globals.isXNumeric||(s+=l),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:y,x:v.start<0&&v.end<0?m:x,goalX:this.barHelpers.getGoalValues("x",h,null,g,p),y:s}}},{key:"getRangeValue",value:function(i,r){var s=this.w;return{start:s.globals.seriesRangeStart[i][r],end:s.globals.seriesRangeEnd[i][r]}}}]),t}(),oI=function(){function n(e){ie(this,n),this.w=e.w,this.lineCtx=e}return re(n,[{key:"sameValueSeriesFix",value:function(e,t){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[e]==="gradient")&&new ft(this.lineCtx.ctx,i).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,i=e.realIndex,r=e.x,s=e.y,a=e.i,o=e.j,l=e.prevY,c=this.w,u=[],h=[],d=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(d=(c.globals.seriesX[i][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(u.push(d),h.push(O.isNumber(t[a][0])?l+c.config.markers.offsetY:null)),u.push(r+c.config.markers.offsetX),h.push(O.isNumber(t[a][o+1])?s+c.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,i=e.pathFromArea,r=e.realIndex,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(r,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[a].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=s.globals.previousPaths[a].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[a].paths[1]&&(t=s.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(e){var t,i,r,s=e.i,a=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,h=this.w,d=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[a])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[a])===null||i===void 0?void 0:i.type)==="column");if(((r=o[s])===null||r===void 0?void 0:r[0])!==void 0)l=(c=d&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-o[s][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[s][0]/this.lineCtx.yRatio[u]:0);else if(d&&s>0&&o[s][0]===void 0){for(var g=s-1;g>=0;g--)if(o[g][0]!==null&&o[g][0]!==void 0){l=c=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:l,lineYPosition:c}}}]),n}(),lI=function(n){for(var e,t,i,r,s=function(u){for(var h=[],d=u[0],g=u[1],p=h[0]=Qd(d,g),m=1,x=u.length-1;m<x;m++)d=g,g=u[m+1],h[m]=.5*(p+(p=Qd(d,g)));return h[m]=p,h}(n),a=n.length-1,o=[],l=0;l<a;l++)i=Qd(n[l],n[l+1]),Math.abs(i)<1e-6?s[l]=s[l+1]=0:(r=(e=s[l]/i)*e+(t=s[l+1]/i)*t)>9&&(r=3*i/Math.sqrt(r),s[l]=r*e,s[l+1]=r*t);for(var c=0;c<=a;c++)r=(n[Math.min(a,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+s[c]*s[c])),o.push([r||0,s[c]*r||0]);return o},cI=function(n){var e=lI(n),t=n[1],i=n[0],r=[],s=e[1],a=e[0];r.push(i,[i[0]+a[0],i[1]+a[1],t[0]-s[0],t[1]-s[1],t[0],t[1]]);for(var o=2,l=e.length;o<l;o++){var c=n[o],u=e[o];r.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return r},uI=function(n,e,t){var i=n.slice(e,t);if(e){if(t-e>1&&i[1].length<6){var r=i[0].length;i[1]=[2*i[0][r-2]-i[0][r-4],2*i[0][r-1]-i[0][r-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function Qd(n,e){return(e[1]-n[1])/(e[0]-n[0])}var Zd=function(){function n(e,t,i){ie(this,n),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new c_(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new oI(this),this.markers=new Fa(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return re(n,[{key:"draw",value:function(e,t,i,r){var s,a=this.w,o=new W(this.ctx),l=a.globals.comboCharts?t:a.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new ft(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],d=0;d<e.length;d++){e=this.lineHelpers.sameValueSeriesFix(d,e);var g=a.globals.comboCharts?i[d]:d,p=this.yRatio.length>1?g:0;this._initSerieVariables(e,d,g);var m=[],x=[],v=[],y=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,g),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(y=(a.globals.seriesX[g][0]-a.globals.minX)/this.xRatio),v.push(y);var b,C=y,S=void 0,R=C,k=this.zeroY,w=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:d,realIndex:g,series:e,prevY:k,lineYPosition:0,translationsIndex:p}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[d][0]===null?m.push(null):m.push(k),b=k,l==="rangeArea"&&(S=w=this.lineHelpers.determineFirstPrevY({i:d,realIndex:g,series:r,prevY:w,lineYPosition:0,translationsIndex:p}).prevY,x.push(m[0]!==null?w:null));var A=this._calculatePathsFrom({type:l,series:e,i:d,realIndex:g,translationsIndex:p,prevX:R,prevY:k,prevY2:w}),T=[m[0]],P=[x[0]],L={type:l,series:e,realIndex:g,translationsIndex:p,i:d,x:y,y:1,pX:C,pY:b,pathsFrom:A,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:v,yArrj:m,y2Arrj:x,seriesRangeEnd:r},N=this._iterateOverDataPoints(Q(Q({},L),{},{iterations:l==="rangeArea"?e[d].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var V=this._calculatePathsFrom({series:r,i:d,realIndex:g,prevX:R,prevY:w}),H=this._iterateOverDataPoints(Q(Q({},L),{},{series:r,xArrj:[y],yArrj:T,y2Arrj:P,pY:S,areaPaths:N.areaPaths,pathsFrom:V,iterations:r[d].length-1,isRangeStart:!1})),Y=N.linePaths.length/2,q=0;q<Y;q++)N.linePaths[q]=H.linePaths[q+Y]+N.linePaths[q];N.linePaths.splice(Y),N.pathFromLine=H.pathFromLine+N.pathFromLine}else N.pathFromArea+="z";this._handlePaths({type:l,realIndex:g,i:d,paths:N}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((s=a.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&h.sort(function($,J){return Number($.node.getAttribute("zIndex"))-Number(J.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var F=h.length-1;F>=0;F--)c.add(h[F]);else for(var U=0;U<h.length;U++)c.add(h[U]);return c}},{key:"_initSerieVariables",value:function(e,t,i){var r=this.w,s=new W(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-(r.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[i]:r.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[i],a=i),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[a]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||r.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:r.config.series[i].zIndex!==void 0?r.config.series[i].zIndex:i,seriesName:O.escapeString(r.globals.seriesNames[i])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),r.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[r.globals.gridHeight+r.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":i});var l=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,i,r,s,a=e.type,o=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,h=e.prevX,d=e.prevY,g=e.prevY2,p=this.w,m=new W(this.ctx);if(o[l][0]===null){for(var x=0;x<o[l].length;x++)if(o[l][x]!==null){h=this.xDivision*x,d=this.zeroY-o[l][x]/this.yRatio[u],t=m.move(h,d),i=m.move(h,this.areaBottomY);break}}else t=m.move(h,d),a==="rangeArea"&&(t=m.move(h,g)+m.line(h,d)),i=m.move(h,this.areaBottomY)+m.line(h,d);if(r=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),s=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var v=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:s,realIndex:c});r=v.pathFromLine,s=v.pathFromArea}return{prevX:h,prevY:d,linePath:t,areaPath:i,pathFromLine:r,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,i=e.realIndex,r=e.i,s=e.paths,a=this.w,o=new W(this.ctx),l=new ei(this.ctx);this.prevSeriesY.push(s.yArrj),a.globals.seriesXvalues[i]=s.xArrj,a.globals.seriesYvalues[i]=s.yArrj;var c=a.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var u=a.globals.seriesXvalues[i][a.globals.seriesXvalues[i].length-c.count-1],h=o.drawRect(u,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(h.node);var d=o.drawRect(0,0,u,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var g={i:r,realIndex:i,animationDelay:r,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var p=l.fillPath({seriesNumber:i}),m=0;m<s.areaPaths.length;m++){var x=o.renderPaths(Q(Q({},g),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(x)}if(a.config.stroke.show&&!this.pointsChart){var v=null;if(t==="line")v=l.fillPath({seriesNumber:i,i:r});else if(a.config.stroke.fill.type==="solid")v=a.globals.stroke.colors[i];else{var y=a.config.fill;a.config.fill=a.config.stroke.fill,v=l.fillPath({seriesNumber:i,i:r}),a.config.fill=y}for(var b=0;b<s.linePaths.length;b++){var C=v;t==="rangeArea"&&(C=l.fillPath({seriesNumber:i}));var S=Q(Q({},g),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:t==="rangeArea"?C:"none"}),R=o.renderPaths(S);if(this.elSeries.add(R),R.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var k=o.renderPaths(S);k.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&k.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),R.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,i,r=this,s=e.type,a=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,h=e.x,d=e.y,g=e.pX,p=e.pY,m=e.pathsFrom,x=e.linePaths,v=e.areaPaths,y=e.seriesIndex,b=e.lineYPosition,C=e.xArrj,S=e.yArrj,R=e.y2Arrj,k=e.isRangeStart,w=e.seriesRangeEnd,A=this.w,T=new W(this.ctx),P=this.yRatio,L=m.prevY,N=m.linePath,V=m.areaPath,H=m.pathFromLine,Y=m.pathFromArea,q=O.isNumber(A.globals.minYArr[l])?A.globals.minYArr[l]:A.globals.minY;o||(o=A.globals.dataPoints>1?A.globals.dataPoints-1:A.globals.dataPoints);var F=function(ce,we){return we-ce/P[c]+2*(r.isReversed?ce/P[c]:0)},U=d,$=A.config.chart.stacked&&!A.globals.comboCharts||A.config.chart.stacked&&A.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[l])===null||i===void 0?void 0:i.type)==="column"),J=A.config.stroke.curve;Array.isArray(J)&&(J=Array.isArray(y)?J[y[u]]:J[u]);for(var oe,ge=0,pe=0;pe<o&&a[u].length!==0;pe++){var Me=a[u][pe+1]===void 0||a[u][pe+1]===null;if(A.globals.isXNumeric){var me=A.globals.seriesX[l][pe+1];A.globals.seriesX[l][pe+1]===void 0&&(me=A.globals.seriesX[l][o-1]),h=(me-A.globals.minX)/this.xRatio}else h+=this.xDivision;$?u>0&&A.globals.collapsedSeries.length<A.config.series.length-1?b=this.prevSeriesY[function(ce){for(var we=ce;we>0;we--){if(!(A.globals.collapsedSeriesIndices.indexOf((y==null?void 0:y[we])||we)>-1))return we;we--}return 0}(u-1)][pe+1]:b=this.zeroY:b=this.zeroY,Me?d=F(q,b):(d=F(a[u][pe+1],b),s==="rangeArea"&&(U=F(w[u][pe+1],b))),C.push(a[u][pe+1]===null?null:h),!Me||A.config.stroke.curve!=="smooth"&&A.config.stroke.curve!=="monotoneCubic"?(S.push(d),R.push(U)):(S.push(null),R.push(null));var ye=this.lineHelpers.calculatePoints({series:a,x:h,y:d,realIndex:l,i:u,j:pe,prevY:L}),se=this._createPaths({type:s,series:a,i:u,realIndex:l,j:pe,x:h,y:d,y2:U,xArrj:C,yArrj:S,y2Arrj:R,pX:g,pY:p,pathState:ge,segmentStartX:oe,linePath:N,areaPath:V,linePaths:x,areaPaths:v,curve:J,isRangeStart:k});v=se.areaPaths,x=se.linePaths,g=se.pX,p=se.pY,ge=se.pathState,oe=se.segmentStartX,V=se.areaPath,N=se.linePath,!this.appendPathFrom||A.globals.hasNullValues||J==="monotoneCubic"&&s==="rangeArea"||(H+=T.line(h,this.areaBottomY),Y+=T.line(h,this.areaBottomY)),this.handleNullDataPoints(a,ye,u,pe,l),this._handleMarkersAndLabels({type:s,pointsPos:ye,i:u,j:pe,realIndex:l,isRangeStart:k})}return{yArrj:S,xArrj:C,pathFromArea:Y,areaPaths:v,pathFromLine:H,linePaths:x,linePath:N,areaPath:V}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,i=e.pointsPos,r=e.isRangeStart,s=e.i,a=e.j,o=e.realIndex,l=this.w,c=new _a(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:o,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:i,seriesIndex:o,j:a+1});u!==null&&this.elPointsMain.add(u)}var h=c.drawDataLabel({type:t,isRangeStart:r,pos:i,i:o,j:a+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,i=e.series,r=e.i;e.realIndex;var s,a=e.j,o=e.x,l=e.y,c=e.xArrj,u=e.yArrj,h=e.y2,d=e.y2Arrj,g=e.pX,p=e.pY,m=e.pathState,x=e.segmentStartX,v=e.linePath,y=e.areaPath,b=e.linePaths,C=e.areaPaths,S=e.curve,R=e.isRangeStart,k=new W(this.ctx),w=this.areaBottomY,A=t==="rangeArea",T=t==="rangeArea"&&R;switch(S){case"monotoneCubic":var P=R?u:d;switch(m){case 0:if(P[a+1]===null)break;m=1;case 1:if(!(A?c.length===i[r].length:a===i[r].length-2))break;case 2:var L=R?c:c.slice().reverse(),N=R?P:P.slice().reverse(),V=(s=N,L.map(function(me,ye){return[me,s[ye]]}).filter(function(me){return me[1]!==null})),H=V.length>1?cI(V):V,Y=[];A&&(T?C=V:Y=C.reverse());var q=0,F=0;if(function(me,ye){for(var se=function(it){var Ve=[],Ze=0;return it.forEach(function(vn){vn!==null?Ze++:Ze>0&&(Ve.push(Ze),Ze=0)}),Ze>0&&Ve.push(Ze),Ve}(me),ce=[],we=0,Ce=0;we<se.length;Ce+=se[we++])ce[we]=uI(ye,Ce,Ce+se[we]);return ce}(N,H).forEach(function(me){q++;var ye=function(we){for(var Ce="",it=0;it<we.length;it++){var Ve=we[it],Ze=Ve.length;Ze>4?(Ce+="C".concat(Ve[0],", ").concat(Ve[1]),Ce+=", ".concat(Ve[2],", ").concat(Ve[3]),Ce+=", ".concat(Ve[4],", ").concat(Ve[5])):Ze>2&&(Ce+="S".concat(Ve[0],", ").concat(Ve[1]),Ce+=", ".concat(Ve[2],", ").concat(Ve[3]))}return Ce}(me),se=F,ce=(F+=me.length)-1;T?v=k.move(V[se][0],V[se][1])+ye:A?v=k.move(Y[se][0],Y[se][1])+k.line(V[se][0],V[se][1])+ye+k.line(Y[ce][0],Y[ce][1]):(v=k.move(V[se][0],V[se][1])+ye,y=v+k.line(V[ce][0],w)+k.line(V[se][0],w)+"z",C.push(y)),b.push(v)}),A&&q>1&&!T){var U=b.slice(q).reverse();b.splice(q),U.forEach(function(me){return b.push(me)})}m=0}break;case"smooth":var $=.35*(o-g);if(i[r][a]===null)m=0;else switch(m){case 0:if(x=g,v=T?k.move(g,d[a])+k.line(g,p):k.move(g,p),y=k.move(g,p),i[r][a+1]===null||i[r][a+1]===void 0){b.push(v),C.push(y);break}if(m=1,a<i[r].length-2){var J=k.curve(g+$,p,o-$,l,o,l);v+=J,y+=J;break}case 1:if(i[r][a+1]===null)v+=T?k.line(g,h):k.move(g,p),y+=k.line(g,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1;else{var oe=k.curve(g+$,p,o-$,l,o,l);v+=oe,y+=oe,a>=i[r].length-2&&(T&&(v+=k.curve(o,l,o,l,o,h)+k.move(o,h)),y+=k.curve(o,l,o,l,o,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1)}}g=o,p=l;break;default:var ge=function(me,ye,se){var ce=[];switch(me){case"stepline":ce=k.line(ye,null,"H")+k.line(null,se,"V");break;case"linestep":ce=k.line(null,se,"V")+k.line(ye,null,"H");break;case"straight":ce=k.line(ye,se)}return ce};if(i[r][a]===null)m=0;else switch(m){case 0:if(x=g,v=T?k.move(g,d[a])+k.line(g,p):k.move(g,p),y=k.move(g,p),i[r][a+1]===null||i[r][a+1]===void 0){b.push(v),C.push(y);break}if(m=1,a<i[r].length-2){var pe=ge(S,o,l);v+=pe,y+=pe;break}case 1:if(i[r][a+1]===null)v+=T?k.line(g,h):k.move(g,p),y+=k.line(g,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1;else{var Me=ge(S,o,l);v+=Me,y+=Me,a>=i[r].length-2&&(T&&(v+=k.line(o,h)),y+=k.line(o,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1)}}g=o,p=l}return{linePaths:b,areaPaths:C,pX:g,pY:p,pathState:m,segmentStartX:x,linePath:v,areaPath:y}}},{key:"handleNullDataPoints",value:function(e,t,i,r,s){var a=this.w;if(e[i][r]===null&&a.config.markers.showNullDataPoints||e[i].length===1){var o=this.strokeWidth-a.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:r+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),n}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function n(o,l,c,u){this.xoffset=o,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var d,g=[],p=this.xoffset,m=this.yoffset,x=s(h)/this.height,v=s(h)/this.width;if(this.width>=this.height)for(d=0;d<h.length;d++)g.push([p,m,p+x,m+h[d]/x]),m+=h[d]/x;else for(d=0;d<h.length;d++)g.push([p,m,p+h[d]/v,m+v]),p+=h[d]/v;return g},this.cutArea=function(h){var d;if(this.width>=this.height){var g=h/this.height,p=this.width-g;d=new n(this.xoffset+g,this.yoffset,p,this.height)}else{var m=h/this.width,x=this.height-m;d=new n(this.xoffset,this.yoffset+m,this.width,x)}return d}}function e(o,l,c,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var d=t(function(g,p){var m,x=[],v=p/s(g);for(m=0;m<g.length;m++)x[m]=g[m]*v;return x}(o,l*c),[],new n(u,h,l,c),[]);return function(g){var p,m,x=[];for(p=0;p<g.length;p++)for(m=0;m<g[p].length;m++)x.push(g[p][m]);return x}(d)}function t(o,l,c,u){var h,d,g;if(o.length!==0)return h=c.shortestEdge(),function(p,m,x){var v;if(p.length===0)return!0;(v=p.slice()).push(m);var y=i(p,x),b=i(v,x);return y>=b}(l,d=o[0],h)?(l.push(d),t(o.slice(1),l,c,u)):(g=c.cutArea(s(l),u),u.push(c.getCoordinates(l)),t(o,[],g,u)),u;u.push(c.getCoordinates(l))}function i(o,l){var c=Math.min.apply(Math,o),u=Math.max.apply(Math,o),h=s(o);return Math.max(Math.pow(l,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(l,2)*c))}function r(o){return o&&o.constructor===Array}function s(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function a(o){var l,c=0;if(r(o[0]))for(l=0;l<o.length;l++)c+=a(o[l]);else c=s(o);return c}return function o(l,c,u,h,d){h=h===void 0?0:h,d=d===void 0?0:d;var g,p,m=[],x=[];if(r(l[0])){for(p=0;p<l.length;p++)m[p]=a(l[p]);for(g=e(m,c,u,h,d),p=0;p<l.length;p++)x.push(o(l[p],g[p][2]-g[p][0],g[p][3]-g[p][1],g[p][0],g[p][1]))}else x=e(l,c,u,h,d);return x}}();var hI=function(){function n(e,t){ie(this,n),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new m_(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return re(n,[{key:"draw",value:function(e){var t=this,i=this.w,r=new W(this.ctx),s=new ei(this.ctx),a=r.group({class:"apexcharts-treemap"});if(i.globals.noData)return a;var o=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(u.x)})}),window.TreemapSquared.generate(o,i.globals.gridWidth,i.globals.gridHeight).forEach(function(l,c){var u=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:O.escapeString(i.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(i.config.chart.dropShadow.enabled){var h=i.config.chart.dropShadow;new zt(t.ctx).dropShadow(a,h,c)}var d=r.group({class:"apexcharts-data-labels"}),g={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(H,Y){var q=H[0],F=H[1],U=H[2],$=H[3];g.xMin=Math.min(g.xMin,q),g.yMin=Math.min(g.yMin,F),g.xMax=Math.max(g.xMax,U),g.yMax=Math.max(g.yMax,$);var J=t.helpers.getShadeColor(i.config.chart.type,c,Y,t.negRange),oe=J.color,ge=s.fillPath({color:oe,seriesNumber:c,dataPointIndex:Y}),pe=r.drawRect(q,F,U-q,$-F,i.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?oe:i.globals.stroke.colors[c]);pe.attr({cx:q,cy:F,index:c,i:c,j:Y,width:U-q,height:$-F,fill:ge}),pe.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(pe);var Me={x:q+(U-q)/2,y:F+($-F)/2,width:0,height:0},me={x:q,y:F,width:U-q,height:$-F};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var ye=1;i.globals.resized||(ye=i.config.chart.animations.speed),t.animateTreemap(pe,Me,me,ye)}if(i.globals.dataChanged){var se=1;t.dynamicAnim.enabled&&i.globals.shouldAnimate&&(se=t.dynamicAnim.speed,i.globals.previousPaths[c]&&i.globals.previousPaths[c][Y]&&i.globals.previousPaths[c][Y].rect&&(Me=i.globals.previousPaths[c][Y].rect),t.animateTreemap(pe,Me,me,se))}var ce=t.getFontSize(H),we=i.config.dataLabels.formatter(t.labels[c][Y],{value:i.globals.series[c][Y],seriesIndex:c,dataPointIndex:Y,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ce=parseInt(i.config.dataLabels.style.fontSize,10),we=t.truncateLabels(we,ce,q,F,U,$));var Ce=null;i.globals.series[c][Y]&&(Ce=t.helpers.calculateDataLabels({text:we,x:(q+U)/2,y:(F+$)/2+t.strokeWidth/2+ce/3,i:c,j:Y,colorProps:J,fontSize:ce,series:e})),i.config.dataLabels.enabled&&Ce&&t.rotateToFitLabel(Ce,ce,we,q,F,U,$),u.add(pe),Ce!==null&&u.add(Ce)});var p=i.config.plotOptions.treemap.seriesTitle;if(i.config.series.length>1&&p&&p.show){var m=i.config.series[c].name||"";if(m&&g.xMin<1/0&&g.yMin<1/0){var x=p.offsetX,v=p.offsetY,y=p.borderColor,b=p.borderWidth,C=p.borderRadius,S=p.style,R=S.color||i.config.chart.foreColor,k={left:S.padding.left,right:S.padding.right,top:S.padding.top,bottom:S.padding.bottom},w=r.getTextRects(m,S.fontSize,S.fontFamily),A=w.width+k.left+k.right,T=w.height+k.top+k.bottom,P=g.xMin+(x||0),L=g.yMin+(v||0),N=r.drawRect(P,L,A,T,C,S.background,1,b,y),V=r.drawText({x:P+k.left,y:L+k.top+.75*w.height,text:m,fontSize:S.fontSize,fontFamily:S.fontFamily,fontWeight:S.fontWeight,foreColor:R,cssClass:S.cssClass||""});u.add(N),u.add(V)}}u.add(d),a.add(u)}),a}},{key:"getFontSize",value:function(e){var t=this.w,i=function r(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=r(s[a]);else for(a=0;a<s.length;a++)o+=s[a].length;return o}(this.labels)/function r(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=r(s[a]);else for(a=0;a<s.length;a++)o+=1;return o}(this.labels);return function(r,s){var a=r*s,o=Math.pow(a,.5);return Math.min(o/i,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,i,r,s,a,o){var l=new W(this.ctx),c=l.getTextRects(i,t);if(c.width+this.w.config.stroke.width+5>a-r&&c.width<=o-s){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,i,r,s,a){var o=new W(this.ctx),l=o.getTextRects(e,t).width+this.w.config.stroke.width+5>s-i&&a-r>s-i?a-r:s-i,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,i,r){var s=new La(this.ctx);s.animateRect(e,t,i,r,function(){s.animationCompleted(e)})}}]),n}(),x_=86400,dI=10/x_,fI=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return re(n,[{key:"calculateTimeScaleTicks",value:function(e,t){var i=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var s=new Ft(this.ctx),a=(t-e)/864e5;this.determineInterval(a),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,a<dI?r.globals.disableZoomIn=!0:a>5e4&&(r.globals.disableZoomOut=!0);var o=s.getTimeUnitsfromTimestamp(e,t,this.utc),l=r.globals.gridWidth/a,c=l/24,u=c/60,h=u/60,d=Math.floor(24*a),g=Math.floor(1440*a),p=Math.floor(a*x_),m=Math.floor(a),x=Math.floor(a/30),v=Math.floor(a/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:g,numberOfHours:d,numberOfDays:m,numberOfMonths:x,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var C=this.timeScaleArray.map(function(S){var R={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?Q(Q({},R),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?Q(Q({},R),{},{value:S.value}):S.unit==="minute"?Q(Q({},R),{},{value:S.value,minute:S.value}):S.unit==="second"?Q(Q({},R),{},{value:S.value,minute:S.minute,second:S.second}):S});return C.filter(function(S){var R=1,k=Math.ceil(r.globals.gridWidth/120),w=S.value;r.config.xaxis.tickAmount!==void 0&&(k=r.config.xaxis.tickAmount),C.length>k&&(R=Math.floor(C.length/k));var A=!1,T=!1;switch(i.tickInterval){case"years":S.unit==="year"&&(A=!0);break;case"half_year":R=7,S.unit==="year"&&(A=!0);break;case"months":R=1,S.unit==="year"&&(A=!0);break;case"months_fortnight":R=15,S.unit!=="year"&&S.unit!=="month"||(A=!0),w===30&&(T=!0);break;case"months_days":R=10,S.unit==="month"&&(A=!0),w===30&&(T=!0);break;case"week_days":R=8,S.unit==="month"&&(A=!0);break;case"days":R=1,S.unit==="month"&&(A=!0);break;case"hours":S.unit==="day"&&(A=!0);break;case"minutes_fives":case"seconds_fives":w%5!=0&&(T=!0);break;case"seconds_tens":w%10!=0&&(T=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!T)return!0}else if((w%R==0||A)&&!T)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var i=this.w,r=this.formatDates(e),s=this.removeOverlappingTS(r);i.globals.timescaleLabels=s.slice(),new Hu(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,i=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,i=e.currentMonth,r=e.currentYear,s=e.daysWidthOnXAxis,a=e.numberOfYears,o=t.minYear,l=0,c=new Ft(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-h+1)*s,o=t.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:u,year:o,month:O.monthMod(i+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:u,year:r,month:O.monthMod(i+1)});for(var d=o,g=l,p=0;p<a;p++)d++,g=c.determineDaysOfYear(d-1)*s+g,this.timeScaleArray.push({position:g,value:d,unit:u,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,i=e.currentMonthDate,r=e.currentMonth,s=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfMonths,l=r,c=0,u=new Ft(this.ctx),h="month",d=0;if(t.minDate>1){c=(u.determineDaysOfMonths(r+1,t.minYear)-i+1)*a,l=O.monthMod(r+1);var g=s+d,p=O.monthMod(l),m=l;l===0&&(h="year",m=g,p=1,g+=d+=1),this.timeScaleArray.push({position:c,value:m,unit:h,year:g,month:p})}else this.timeScaleArray.push({position:c,value:l,unit:h,year:s,month:O.monthMod(r)});for(var x=l+1,v=c,y=0,b=1;y<o;y++,b++){(x=O.monthMod(x))===0?(h="year",d+=1):h="month";var C=this._getYear(s,x,d);v=u.determineDaysOfMonths(x,C)*a+v;var S=x===0?C:x;this.timeScaleArray.push({position:v,value:S,unit:h,year:C,month:x===0?1:x}),x++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,i=e.currentMonth,r=e.currentYear,s=e.hoursWidthOnXAxis,a=e.numberOfDays,o=new Ft(this.ctx),l="day",c=t.minDate+1,u=c,h=function(b,C,S){return b>o.determineDaysOfMonths(C+1,S)&&(u=1,l="month",g=C+=1),C},d=(24-t.minHour)*s,g=c,p=h(u,i,r);t.minHour===0&&t.minDate===1?(d=0,g=O.monthMod(t.minMonth),l="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(d=0,c=t.minDate,g=c,p=h(u=c,i,r),g!==1&&(l="day")),this.timeScaleArray.push({position:d,value:g,unit:l,year:this._getYear(r,p,0),month:O.monthMod(p),day:u});for(var m=d,x=0;x<a;x++){l="day",p=h(u+=1,p,this._getYear(r,p,0));var v=this._getYear(r,p,0);m=24*s+m;var y=u===1?O.monthMod(p):u;this.timeScaleArray.push({position:m,value:y,unit:l,year:v,month:O.monthMod(p),day:y})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,i=e.currentDate,r=e.currentMonth,s=e.currentYear,a=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new Ft(this.ctx),c="hour",u=function(R,k){return R>l.determineDaysOfMonths(k+1,s)&&(x=1,k+=1),{month:k,date:x}},h=function(R,k){return R>l.determineDaysOfMonths(k+1,s)?k+=1:k},d=60-(t.minMinute+t.minSecond/60),g=d*a,p=t.minHour+1,m=p;d===60&&(g=0,m=p=t.minHour);var x=i;m>=24&&(m=0,c="day",p=x+=1);var v=u(x,r).month;v=h(x,v),p>31&&(p=x=1),this.timeScaleArray.push({position:g,value:p,unit:c,day:x,hour:m,year:s,month:O.monthMod(v)}),m++;for(var y=g,b=0;b<o;b++){c="hour",m>=24&&(m=0,c="day",v=u(x+=1,v).month,v=h(x,v));var C=this._getYear(s,v,0);y=60*a+y;var S=m===0?x:m;this.timeScaleArray.push({position:y,value:S,unit:c,hour:m,day:x,year:C,month:O.monthMod(v)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,r=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,d=r+1,g=a,p=o,m=l,x=s,v=(60-i-t/1e3)*u,y=0;y<h;y++)d>=60&&(d=0,(x+=1)===24&&(x=0)),this.timeScaleArray.push({position:v,value:d,unit:"minute",hour:x,minute:d,day:g,year:this._getYear(m,p,0),month:O.monthMod(p)}),v+=c,d++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,r=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=i+1,d=r,g=a,p=o,m=l,x=s,v=(1e3-t)/1e3*c,y=0;y<u;y++)h>=60&&(h=0,++d>=60&&(d=0,++x===24&&(x=0))),this.timeScaleArray.push({position:v,value:h,unit:"second",hour:x,minute:d,second:h,day:g,year:this._getYear(m,p,0),month:O.monthMod(p)}),v+=c,h++}},{key:"createRawDateString",value:function(e,t){var i=e.year;return e.month===0&&(e.month=1),i+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?i+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":i+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?i+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":i+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?i+=":"+("0"+t).slice(-2):i+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?i+=":"+("0"+t).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(e){var t=this,i=this.w;return e.map(function(r){var s=r.value.toString(),a=new Ft(t.ctx),o=t.createRawDateString(r,s),l=a.getDate(a.parseDate(o));if(t.utc||(l=a.getDate(a.parseDateWithTimezone(o))),i.config.xaxis.labels.format===void 0){var c="dd MMM",u=i.config.xaxis.labels.datetimeFormatter;r.unit==="year"&&(c=u.year),r.unit==="month"&&(c=u.month),r.unit==="day"&&(c=u.day),r.unit==="hour"&&(c=u.hour),r.unit==="minute"&&(c=u.minute),r.unit==="second"&&(c=u.second),s=a.formatDate(l,c)}else s=a.formatDate(l,i.config.xaxis.labels.format);return{dateString:o,position:r.position,value:s,unit:r.unit,year:r.year,month:r.month}})}},{key:"removeOverlappingTS",value:function(e){var t,i=this,r=new W(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(s=!0,t=r.getTextRects(e[0].value).width);var a=0,o=e.map(function(l,c){if(c>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var u=s?t:r.getTextRects(e[a].value).width,h=e[a].position;return l.position>h+u+10?(a=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,i){return e+Math.floor(t/12)+i}}]),n}(),gI=function(){function n(e,t){ie(this,n),this.ctx=t,this.w=t.w,this.el=e}return re(n,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,i=e.config,r=i.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&i.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),W.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),t.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),W.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var i=this.w,r=this.ctx,s=i.config,a=i.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=s.chart.type||"line",c=null,u=0;a.series.forEach(function(R,k){var w=e[k].type==="column"?"bar":e[k].type||(l==="column"?"bar":l);o[w]?(w==="rangeArea"?(o[w].series.push(a.seriesRangeStart[k]),o[w].seriesRangeEnd.push(a.seriesRangeEnd[k])):o[w].series.push(R),o[w].i.push(k),w==="bar"&&(i.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(w)?c=w:console.warn("You have specified an unrecognized series type (".concat(w,").")),l!==w&&w!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&s.plotOptions.bar.horizontal&&(u-=o.bar.series.length,o.bar={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=u>0);var h=new Zd(r,t),d=new Kd(r,t);r.pie=new y_(r);var g=new sI(r);r.rangeBar=new aI(r,t);var p=new rI(r),m=[];if(a.comboCharts){var x,v,y=new ft(r);if(o.area.series.length>0&&(x=m).push.apply(x,Ct(y.drawSeriesByGroup(o.area,a.areaGroups,"area",h))),o.bar.series.length>0)if(s.chart.stacked){var b=new Sx(r,t);m.push(b.draw(o.bar.series,o.bar.i))}else r.bar=new ka(r,t),m.push(r.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&m.push(h.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(v=m).push.apply(v,Ct(y.drawSeriesByGroup(o.line,a.lineGroups,"line",h))),o.candlestick.series.length>0&&m.push(d.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&m.push(d.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&m.push(r.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var C=new Zd(r,t,!0);m.push(C.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var S=new Zd(r,t,!0);m.push(S.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(s.chart.type){case"line":m=h.draw(a.series,"line");break;case"area":m=h.draw(a.series,"area");break;case"bar":s.chart.stacked?m=new Sx(r,t).draw(a.series):(r.bar=new ka(r,t),m=r.bar.draw(a.series));break;case"candlestick":m=new Kd(r,t).draw(a.series,"candlestick");break;case"boxPlot":m=new Kd(r,t).draw(a.series,s.chart.type);break;case"rangeBar":m=r.rangeBar.draw(a.series);break;case"rangeArea":m=h.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":m=new iI(r,t).draw(a.series);break;case"treemap":m=new hI(r,t).draw(a.series);break;case"pie":case"donut":case"polarArea":m=r.pie.draw(a.series);break;case"radialBar":m=g.draw(a.series);break;case"radar":m=p.draw(a.series);break;default:m=h.draw(a.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,i=e.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",t.svgWidth=i.chart.width,t.svgHeight=i.chart.height;var r=O.getDimensions(this.el),s=i.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?O.isNumber(r[0])&&(r[0].width===0&&(r=O.getDimensions(this.el.parentNode)),t.svgWidth=r[0]*parseInt(i.chart.width,10)/100):s!=="px"&&s!==""||(t.svgWidth=parseInt(i.chart.width,10));var a=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(a==="%"){var o=O.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(i.chart.height,10)/100}else t.svgHeight=parseInt(i.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),W.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),a!=="%"){var l=i.chart.sparkline.enabled?0:t.axisCharts?i.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,i=e.translateX;W.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(i=new d_(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=O.getBoundingClientRect(s);a=o.bottom;var l=o.bottom-o.top;a=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(a+t.translateY+i+r);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),W.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new kg(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},i=new l_,r=this.w.globals;i.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Ag(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Ag(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new fI(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new ft(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var r=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];r.forEach(function(s){var a=t.constructor.getChartByID(s);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),i.config.chart.events.selection=function(s,a){r.forEach(function(o){t.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),n}(),pI=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"_updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[t.ctx];s&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var h=c.w;if(h.globals.shouldAnimate=r,i||(h.globals.resized=!0,h.globals.dataChanged=!0,r&&c.series.getPreviousPaths()),e&&wa(e)==="object"&&(c.config=new dl(e),e=ft.extendArrayProps(c.config,e,h),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=O.extend(h.config,e),a&&(h.globals.lastXAxis=e.xaxis?O.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?O.clone(e.yaxis):[],h.globals.initialConfig=O.extend({},h.config),h.globals.initialSeries=O.clone(h.config.series),e.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var g=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?g.data.slice():g}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?m.data.slice():m}c.series.emptyCollapsedSeries(h.config.series)}return c.update(e).then(function(){u===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,t){var i=this,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var a,o=i.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&i.ctx.series.getPreviousPaths(),o.globals.axisCharts?((a=e.map(function(l,c){return i._extendSeries(l,c)})).length===0&&(a=[{data:[]}]),o.config.series=a):o.config.series=e.slice(),r&&(o.globals.initialConfig.series=O.clone(o.config.series),o.globals.initialSeries=O.clone(o.config.series)),i.ctx.update().then(function(){s(i.ctx)})})}},{key:"_extendSeries",value:function(e,t){var i=this.w,r=i.config.series[t];return Q(Q({},i.config.series[t]),{},{name:e.name?e.name:r==null?void 0:r.name,color:e.color?e.color:r==null?void 0:r.color,type:e.type?e.type:r==null?void 0:r.type,group:e.group?e.group:r==null?void 0:r.group,hidden:e.hidden!==void 0?e.hidden:r==null?void 0:r.hidden,data:e.data?e.data:r==null?void 0:r.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var i=this.w,r=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return i.globals.axisCharts?r=i.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):t===void 0&&(r=i.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),r?(new W(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(r){e.xaxis[r]!==void 0&&(t.config.xaxis[r]=e.xaxis[r],t.globals.lastXAxis[r]=e.xaxis[r])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var i=new hl(e);e=i.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,i){e.yaxis[i].min=0,e.yaxis[i].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,i=this.w,r=i.globals.lastXAxis,s=i.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(s=e.yaxis),i.config.xaxis.min=r.min,i.config.xaxis.max=r.max;var a=function(o){s[o]!==void 0&&(i.config.yaxis[o].min=s[o].min,i.config.yaxis[o].max=s[o].max)};i.config.yaxis.map(function(o,l){i.globals.zoomed||s[l]!==void 0?a(l):t.ctx.opts.yaxis[l]!==void 0&&(o.min=t.ctx.opts.yaxis[l].min,o.max=t.ctx.opts.yaxis[l].max)})}}]),n}();(function(){function n(){for(var s=arguments.length>0&&arguments[0]!==h?arguments[0]:[],a=arguments.length>1?arguments[1]:h,o=arguments.length>2?arguments[2]:h,l=arguments.length>3?arguments[3]:h,c=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,d=s.slice(a,o||h),g=l.slice(c,u||h),p=0,m={pos:[0,0],start:[0,0]},x={pos:[0,0],start:[0,0]};d[p]=e.call(m,d[p]),g[p]=e.call(x,g[p]),d[p][0]!=g[p][0]||d[p][0]=="M"||d[p][0]=="A"&&(d[p][4]!=g[p][4]||d[p][5]!=g[p][5])?(Array.prototype.splice.apply(d,[p,1].concat(i.call(m,d[p]))),Array.prototype.splice.apply(g,[p,1].concat(i.call(x,g[p])))):(d[p]=t.call(m,d[p]),g[p]=t.call(x,g[p])),!(++p==d.length&&p==g.length);)p==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),p==g.length&&g.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]);return{start:d,dest:g}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function t(s){var a=s.length;return this.pos=[s[a-2],s[a-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[a-4],2*this.pos[1]-s[a-3]]),s}function i(s){var a=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],a;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":a=function(o,l){var c,u,h,d,g,p,m,x,v,y,b,C,S,R,k,w,A,T,P,L,N,V,H,Y,q,F,U=Math.abs(l[1]),$=Math.abs(l[2]),J=l[3]%360,oe=l[4],ge=l[5],pe=l[6],Me=l[7],me=new Xe(o),ye=new Xe(pe,Me),se=[];if(U===0||$===0||me.x===ye.x&&me.y===ye.y)return[["C",me.x,me.y,ye.x,ye.y,ye.x,ye.y]];for(c=new Xe((me.x-ye.x)/2,(me.y-ye.y)/2).transform(new he().rotate(J)),u=c.x*c.x/(U*U)+c.y*c.y/($*$),u>1&&(U*=u=Math.sqrt(u),$*=u),h=new he().rotate(J).scale(1/U,1/$).rotate(-J),me=me.transform(h),ye=ye.transform(h),d=[ye.x-me.x,ye.y-me.y],p=d[0]*d[0]+d[1]*d[1],g=Math.sqrt(p),d[0]/=g,d[1]/=g,m=p<4?Math.sqrt(1-p/4):0,oe===ge&&(m*=-1),x=new Xe((ye.x+me.x)/2+m*-d[1],(ye.y+me.y)/2+m*d[0]),v=new Xe(me.x-x.x,me.y-x.y),y=new Xe(ye.x-x.x,ye.y-x.y),b=Math.acos(v.x/Math.sqrt(v.x*v.x+v.y*v.y)),v.y<0&&(b*=-1),C=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(C*=-1),ge&&b>C&&(C+=2*Math.PI),!ge&&b<C&&(C-=2*Math.PI),R=Math.ceil(2*Math.abs(b-C)/Math.PI),w=[],A=b,S=(C-b)/R,k=4*Math.tan(S/4)/3,N=0;N<=R;N++)P=Math.cos(A),T=Math.sin(A),L=new Xe(x.x+P,x.y+T),w[N]=[new Xe(L.x+k*T,L.y-k*P),L,new Xe(L.x-k*T,L.y+k*P)],A+=S;for(w[0][0]=w[0][1].clone(),w[w.length-1][2]=w[w.length-1][1].clone(),h=new he().rotate(J).scale(U,$).rotate(-J),N=0,V=w.length;N<V;N++)w[N][0]=w[N][0].transform(h),w[N][1]=w[N][1].transform(h),w[N][2]=w[N][2].transform(h);for(N=1,V=w.length;N<V;N++)H=(L=w[N-1][2]).x,Y=L.y,q=(L=w[N][0]).x,F=L.y,pe=(L=w[N][1]).x,Me=L.y,se.push(["C",H,Y,q,F,pe,Me]);return se}(this.pos,s),s=a[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],a}function r(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var o=a,l=s.length;o<l;++o)if(s[o][0]=="M")return o;return!1}ve(qn,{morph:function(s,a,o,l,c){for(var u=this.parse(s),h=this.parse(a),d=0,g=0,p=!1,m=!1;d!==!1||g!==!1;){var x;p=r(u,d!==!1&&d+1),m=r(h,g!==!1&&g+1),d===!1&&(d=(x=new qn(v.start).bbox()).height==0||x.width==0?u.push(u[0])-1:u.push(["M",x.x+x.width/2,x.y+x.height/2])-1),g===!1&&(g=(x=new qn(v.dest).bbox()).height==0||x.width==0?h.push(h[0])-1:h.push(["M",x.x+x.width/2,x.y+x.height/2])-1);var v=n(u,d,p,h,g,m);u=u.slice(0,d).concat(v.start,p===!1?[]:u.slice(p)),h=h.slice(0,g).concat(v.dest,m===!1?[]:h.slice(m)),d=p!==!1&&d+v.start.length,g=m!==!1&&g+v.dest.length}this._array=u,this.destination=new qn,this.destination._array=h;var y=this.fromArray(u.map(function(b,C){var S=h[C].map(function(R,k){return k===0?R:l.step(b[k],h[C][k],o,c[C],c)});return S}));return y}})})();const Cx=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY});class mI{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Cx(e));const i=(t?"mouseup":"touchend")+".drag";Ei(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ei(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:i}=this,r=this.el.point(Cx(e)),s=r.x-i.x,a=r.y-i.y;if(!s&&!a)return t;const o=t.x+s,l=t.y+a;this.box=new dt(o,l,t.w,t.h),this.lastClick=r,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,t){this.el.type==="svg"?xr.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Dn(window,"mousemove.drag"),Dn(window,"touchmove.drag"),Dn(window,"mouseup.drag"),Dn(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Sg(n,e,t,i=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,a=r.pageY||r.touches[0].pageY;e.fire(n,{x:s,y:a,event:r,index:i,points:t})}}function Cg([n,e],{a:t,b:i,c:r,d:s,e:a,f:o}){return[n*t+e*r+a,n*i+e*s+o]}ve(Bt,{draggable(n=!0){return(this.remember("_draggable")||new mI(this)).init(n),this}});let b_=class{constructor(n){this.el=n,n.remember("_selectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ll();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.createRot=n.createRot||this.createRotFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.updateRot=n.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const i=this.order[e];this.createHandle.call(this,this.selection,n,e,t,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",Sg(i,this.el,this.handlePoints,e))})}createHandleFn(n){n.polyline()}updateHandleFn(n,e,t,i){const r=i.at(t-1),s=i[(t+1)%i.length],a=e,o=[a[0]-r[0],a[1]-r[1]],l=[a[0]-s[0],a[1]-s[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[o[0]/c,o[1]/c],d=[l[0]/u,l[1]/u],g=[a[0]-10*h[0],a[1]-10*h[1]],p=[a[0]-10*d[0],a[1]-10*d[1]];n.plot([g,a,p])}updateResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),n,e,t,i)})}createRotFn(n){n.line(),n.circle(5)}getPoint(n){return this.handlePoints[this.order.indexOf(n)]}getPointHandle(n){return this.selection.get(this.order.indexOf(n)+1)}updateRotFn(n,e){const t=this.getPoint("t");n.get(0).plot(t[0],t[1],e[0],e[1]),n.get(1).center(e[0],e[1])}createRotationHandle(){const n=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Sg("rot",this.el,this.handlePoints));this.createRot.call(this,n)}updateRotationHandle(){const n=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(n,this.rotationPoint,this.handlePoints)}updatePoints(){const n=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(n).map(t=>Cg(t,e)),this.rotationPoint=Cg(this.getRotationPoint(n),e)}getHandlePoints({x:n,x2:e,y:t,y2:i,cx:r,cy:s}=this.el.bbox()){return[[n,t],[r,t],[e,t],[e,s],[e,i],[r,i],[n,i],[n,s]]}getRotationPoint({y:n,cx:e}=this.el.bbox()){return[e,n-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Ex=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+n.name);return i||(e.prototype instanceof b_?(i=new e(this),e=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Eg(n,e,t,i=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,a=r.pageY||r.touches[0].pageY;e.fire(n,{x:s,y:a,event:r,index:i,points:t})}}function Tg([n,e],{a:t,b:i,c:r,d:s,e:a,f:o}){return[n*t+e*r+a,n*i+e*s+o]}ve(Bt,{select:Ex(b_)}),ve([rs,ss,is],{pointSelect:Ex(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ll();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Sg("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Cg(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class w_{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Ll();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,i)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,i,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Eg(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,i,r){const s=r.at(i-1),a=r[(i+1)%r.length],o=t,l=[o[0]-s[0],o[1]-s[1]],c=[o[0]-a[0],o[1]-a[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/u,l[1]/u],g=[c[0]/h,c[1]/h],p=[o[0]-10*d[0],o[1]-10*d[1]],m=[o[0]-10*g[0],o[1]-10*g[1]];e.plot([p,o,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,i)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,i,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const i=this.getPoint("t");e.get(0).plot(i[0],i[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Eg("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(i=>Tg(i,t)),this.rotationPoint=Tg(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:i,y2:r,cx:s,cy:a}=this.el.bbox()){return[[e,i],[s,i],[t,i],[t,a],[t,r],[s,r],[e,r],[e,a]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Tx=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+n.name);return i||(e.prototype instanceof w_?(i=new e(this),e=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(e,t),this};ve(Bt,{select:Tx(w_)}),ve([rs,ss,is],{pointSelect:Tx(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ll();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Eg("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Tg(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Rc=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY}),Ix=n=>{let e=1/0,t=1/0,i=-1/0,r=-1/0;for(let s=0;s<n.length;s++){const a=n[s];e=Math.min(e,a[0]),t=Math.min(t,a[1]),i=Math.max(i,a[0]),r=Math.max(r,a[1])}return new dt(e,t,i-e,r-t)};class Px{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:i,points:r}=e.detail,s=!t.type.indexOf("mouse");if(s&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Rc(t)),this.index=i,this.points=r.slice();const a=(s?"mousemove":"touchmove")+".resize",o=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Ei(window,a,this.movePoint):e.type==="rot"?Ei(window,a,this.rotate):Ei(window,a,this.resize),Ei(window,o,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(Rc(e)));let i=t.x-this.startPoint.x,r=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,r*=2);const s=this.box.x+i,a=this.box.y+r,o=this.box.x2+i,l=this.box.y2+r;let c=new dt(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(s,this.box.x2),c.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(a,this.box.y2),c.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,h=c.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],g=(d.indexOf(this.eventType)+4)%d.length,p=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[g];let m=this.eventType.includes("t")||this.eventType.includes("b")?h:u;m=this.eventType.length===2?Math.max(u,h):m,c=function(x,v,y){const b=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]].map(([C,S])=>{const R=C-v[0],k=(S-v[1])*y;return[R*y+v[0],k+v[1]]});return Ix(b)}(this.box,p,m)}this.el.dispatch("resize",{box:new dt(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:i}=this.snapToGrid(this.el.point(Rc(e))),r=this.el.array().slice();r[this.index]=[t,i],this.el.dispatch("resize",{box:Ix(r),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(r)}rotate(e){this.lastEvent=e;const t=this.startPoint,i=this.el.point(Rc(e)),{cx:r,cy:s}=this.box,a=t.x-r,o=t.y-s,l=i.x-r,c=i.y-s,u=Math.sqrt(a*a+o*o)*Math.sqrt(l*l+c*c);if(u===0)return;let h=Math.acos((a*l+o*c)/u)/Math.PI*180;if(!h)return;i.x<t.x&&(h=-h);const d=new he(this.el),{x:g,y:p}=new Xe(r,s).transformO(d),{rotate:m}=d.decompose(),x=this.snapToAngle(m+h)-m;this.el.dispatch("resize",{box:this.box,angle:x,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(d.rotateO(x,g,p))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Dn(window,"mousemove.resize touchmove.resize"),Dn(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}ve(Bt,{resize:function(n=!0,e={}){typeof n=="object"&&(e=n,n=!0);let t=this.remember("_ResizeHandler");return t||(n.prototype instanceof Px?(t=new n(this),n=!0):t=new Px(this),this.remember("_resizeHandler",t)),t.active(n,e),this}}),window.SVG===void 0&&(window.SVG=RT),window.Apex===void 0&&(window.Apex={});var Rx=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new La(this.ctx),this.ctx.axes=new HT(this.ctx),this.ctx.core=new gI(this.ctx.el,this.ctx),this.ctx.config=new dl({}),this.ctx.data=new cm(this.ctx),this.ctx.grid=new u_(this.ctx),this.ctx.graphics=new W(this.ctx),this.ctx.coreUtils=new ft(this.ctx),this.ctx.crosshairs=new Ag(this.ctx),this.ctx.events=new zT(this.ctx),this.ctx.exports=new Vo(this.ctx),this.ctx.fill=new ei(this.ctx),this.ctx.localization=new jT(this.ctx),this.ctx.options=new Jr,this.ctx.responsive=new BT(this.ctx),this.ctx.series=new Vn(this.ctx),this.ctx.theme=new WT(this.ctx),this.ctx.formatters=new Dl(this.ctx),this.ctx.titleSubtitle=new XT(this.ctx),this.ctx.legend=new d_(this.ctx),this.ctx.toolbar=new f_(this.ctx),this.ctx.tooltip=new Ax(this.ctx),this.ctx.dimensions=new Hu(this.ctx),this.ctx.updateHelpers=new pI(this.ctx),this.ctx.zoomPanSelection=new KT(this.ctx),this.ctx.w.globals.tooltip=new Ax(this.ctx)}}]),n}(),Nx=function(){function n(e){ie(this,n),this.ctx=e,this.w=e.w}return re(n,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,i=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!i&&(r.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(o){s.removeEventListener(o,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),n}(),Jd=new WeakMap,vI=function(){function n(e,t){ie(this,n),this.opts=t,this.ctx=this,this.w=new VT(t).init(),this.el=e,this.w.globals.cuid=O.randomId(),this.w.globals.chartID=this.w.config.chart.id?O.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Rx(this).initModules(),this.lastUpdateOptions=null,this.create=O.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return re(n,[{key:"render",value:function(){var e=this;return new Promise(function(t,i){if(O.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;typeof r=="function"&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(d,g){var p=!1;if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var m=d.getBoundingClientRect();d.style.display!=="none"&&m.width!==0||(p=!0)}var x=new ResizeObserver(function(v){p&&g.call(d,v),p=!0});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(d.children).forEach(function(v){return x.observe(v)}):x.observe(d),Jd.set(g,x)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),a=O.is("ShadowRoot",s),o=e.el.ownerDocument,l=a?s.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),a?s.prepend(l):o.head.appendChild(l)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)}).catch(function(d){i(d)})}else i(new Error("Element not found"))})}},{key:"create",value:function(e,t){var i=this,r=this.w;new Rx(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!O.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),r.config.xaxis.convertedCatToNumeric&&new hl(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),r.config.chart.type==="treemap"&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),s.svgWidth===0))return s.animationEnded=!0,null;var a=e;e.forEach(function(d,g){d.hidden&&(a=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:g}))});var o=ft.checkComboSeries(a,r.config.chart.type);s.comboCharts=o.comboCharts,s.comboBarCount=o.comboBarCount;var l=a.every(function(d){return d.data&&d.data.length===0});(a.length===0||l&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Fa(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),r.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new ft(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(a,c),h=new _a(this);return h.bringForward(),r.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),r.globals.dataPoints>50&&r.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:c,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,r=i.w;return new Promise(function(s,a){if(i.el===null)return a(new Error("Not enough data to display or target element not found"));(t===null||r.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new u_(i);var o,l,c=i.grid.drawGrid();if(i.annotations=new FT(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),r.config.grid.position==="back"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)r.globals.dom.elGraphical.add(t.elGraph[u]);else r.globals.dom.elGraphical.add(t.elGraph);r.config.grid.position==="front"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),r.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),r.config.chart.type!=="treemap"&&i.axes.drawAxis(r.config.chart.type,c);var h=new fl(e.ctx,c),d=new um(e.ctx,c);if(c!==null&&(h.xAxisLabelCorrections(c.xAxisTickWidth),d.setYAxisTextAlignments(),r.config.yaxis.map(function(p,m){r.globals.ignoreYAxisIndexes.indexOf(m)===-1&&d.yAxisTitleRotate(m,p.opposite)})),i.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&i.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:t.xyRatios});else{var g=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(p){g[p]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(p){p.method(p.params,!1,p.context)}),r.globals.axisCharts||r.globals.noData||i.core.resizeNonAxisCharts(),s(i)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,i){var r=Jd.get(i);r&&(r.disconnect(),Jd.delete(i))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,i){t.id===O.escapeString(e)&&Apex._chartInstances.splice(i,1)}),new Nx(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(this.lastUpdateOptions=O.clone(e),e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,i,r,s,a))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,i)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,i)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var r=i.w.config.series.slice(),s=0;s<r.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var a=0;a<e[s].data.length;a++)r[s].data.push(e[s].data[a]);return i.w.config.series=r,t&&(i.w.globals.initialSeries=O.clone(i.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(i,r){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return i(t);t.lastUpdateOptions=O.clone(e),new Nx(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return i(t);t.mount(s).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,i(t)}).catch(function(a){r(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(i){t.push(i)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;t&&(i=t),i.annotations.removeAnnotation(i,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new kg(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new kg(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Vo(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Vo(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Vo(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=O.escapeString(e);if(Apex._chartInstances){var i=Apex._chartInstances.filter(function(r){return r.id===t})[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new n(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var i=this.getChartByID(e);if(i){i.w.globals.isExecCalled=!0;var r=null;if(i.publicMethods.indexOf(t)!==-1){for(var s=arguments.length,a=new Array(s>2?s-2:0),o=2;o<s;o++)a[o-2]=arguments[o];r=i[t].apply(i,a)}return r}}},{key:"merge",value:function(e,t){return O.extend(e,t)}}]),n}(),__={exports:{}},yI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xI=yI,bI=xI;function k_(){}function A_(){}A_.resetWarningCache=k_;var wI=function(){function n(i,r,s,a,o,l){if(l!==bI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:A_,resetWarningCache:k_};return t.PropTypes=t,t};__.exports=wI();var _I=__.exports;const Xn=g0(_I);function kI(n,e,t){return(e=function(i){var r=function(s,a){if(typeof s!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var l=o.call(s,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}(i,"string");return typeof r=="symbol"?r:r+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ig.apply(null,arguments)}function Lx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function S_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(t),!0).forEach(function(i){kI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gl(n){return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(n)}var AI=["type","width","height","series","options","chartRef"];function ef(n){return n&&gl(n)==="object"&&!Array.isArray(n)}function C_(n,e){var t=S_({},n);return ef(n)&&ef(e)&&Object.keys(e).forEach(function(i){ef(e[i])?t[i]=i in n?C_(n[i],e[i]):e[i]:t[i]=e[i]}),t}function Pg(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(n===e)return!0;if(gl(n)!=="object"||n===null||gl(e)!=="object"||e===null)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);var i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(var s=0,a=i;s<a.length;s++){var o=a[s];if(!r.includes(o)||!Pg(n[o],e[o],t))return!1}return!0}var SI=["type","series","options","width","height","chartRef"];function E_(n){var e=n.type,t=e===void 0?"line":e,i=n.width,r=i===void 0?"100%":i,s=n.height,a=s===void 0?"auto":s,o=n.series,l=n.options,c=n.chartRef,u=function(b,C){if(b==null)return{};var S,R,k=function(A,T){if(A==null)return{};var P={};for(var L in A)if({}.hasOwnProperty.call(A,L)){if(T.includes(L))continue;P[L]=A[L]}return P}(b,C);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(b);for(R=0;R<w.length;R++)S=w[R],C.includes(S)||{}.propertyIsEnumerable.call(b,S)&&(k[S]=b[S])}return k}(n,AI),h=Z.useRef(null),d=Z.useRef(null),g=Z.useRef(null),p=c||g,m=function(){return C_(l,{chart:{type:t,height:a,width:r},series:o})};Z.useEffect(function(){return p.current=new vI(h.current,m()),p.current.render(),d.current=l,function(){p.current&&typeof p.current.destroy=="function"&&p.current.destroy()}},[]),Z.useEffect(function(){if(p.current&&p.current.w){var b=!Pg(p.current.w.config.series,o),C=!Pg(d.current,l)||a!==p.current.opts.chart.height||r!==p.current.opts.chart.width;(b||C)&&(b?C?p.current.updateOptions(m()):p.current.updateSeries(o):p.current.updateOptions(m())),d.current=l}},[l,o,a,r]);var x,v,y=(x=SI,v=S_({},u),x.forEach(function(b){delete v[b]}),v);return S0.createElement("div",Ig({ref:h},y))}E_.propTypes={type:Xn.string.isRequired,series:Xn.array.isRequired,options:Xn.object.isRequired,width:Xn.oneOfType([Xn.string,Xn.number]),height:Xn.oneOfType([Xn.string,Xn.number]),chartRef:Xn.shape({current:Xn.any})};const CI=()=>{};var Mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},EI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),i.push(t[u],t[h],t[d],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(T_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||c==null||h==null)throw new TI;const d=s<<2|o>>4;if(i.push(d),c!==64){const g=o<<4&240|c>>2;if(i.push(g),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(n){const e=T_(n);return I_.encodeByteArray(e,!0)},Bu=function(n){return II(n).replace(/\./g,"")},P_=function(n){try{return I_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=()=>PI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof Mx>"u")return;const n=Mx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&P_(n[1]);return e&&JSON.parse(e)},Ch=()=>{try{return CI()||RI()||NI()||LI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R_=n=>{var e,t;return(t=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MI=n=>{const e=R_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},N_=()=>{var n;return(n=Ch())===null||n===void 0?void 0:n.config},L_=n=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(a)),""].join(".")}const zo={};function FI(){const n={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?n.emulator.push(e):n.prod.push(e);return n}function VI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ox=!1;function O_(n,e){if(typeof window>"u"||typeof document>"u"||!Va(window.location.host)||zo[n]===e||zo[n]||Ox)return;zo[n]=e;function t(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=FI().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Ox=!0,a()},d}function u(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=VI(i),g=t("text"),p=document.getElementById(g)||document.createElement("span"),m=t("learnmore"),x=document.getElementById(m)||document.createElement("a"),v=t("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;o(b),u(x,m);const C=c();l(y,v),b.append(y,p,x,C),document.body.appendChild(b)}s?(p.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function jI(){var n;const e=(n=Ch())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UI(){return!jI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YI(){try{return typeof indexedDB=="object"}catch{return!1}}function $I(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="FirebaseError";class Xi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=GI,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?qI(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Xi(r,o,i)}}function qI(n,e){return n.replace(KI,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const KI=/\{\$([^}]+)}/g;function QI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ys(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(Dx(s)&&Dx(a)){if(!ys(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Dx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bo(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function wo(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ZI(n,e){const t=new JI(n,e);return t.subscribe.bind(t)}class JI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eP(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=tf),r.error===void 0&&(r.error=tf),r.complete===void 0&&(r.complete=tf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iP(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(n){return n===Zr?void 0:n}function iP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const sP={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},aP=Ne.INFO,oP={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},lP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=oP[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=aP,this._logHandler=lP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const cP=(n,e)=>e.some(t=>n instanceof t);let Fx,Vx;function uP(){return Fx||(Fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hP(){return Vx||(Vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,Rg=new WeakMap,F_=new WeakMap,nf=new WeakMap,dm=new WeakMap;function dP(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(br(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&D_.set(t,n)}).catch(()=>{}),dm.set(e,n),e}function fP(n){if(Rg.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Rg.set(n,e)}let Ng={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||F_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gP(n){Ng=n(Ng)}function pP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(rf(this),e,...t);return F_.set(i,e.sort?e.sort():[e]),br(i)}:hP().includes(n)?function(...e){return n.apply(rf(this),e),br(D_.get(this))}:function(...e){return br(n.apply(rf(this),e))}}function mP(n){return typeof n=="function"?pP(n):(n instanceof IDBTransaction&&fP(n),cP(n,uP())?new Proxy(n,Ng):n)}function br(n){if(n instanceof IDBRequest)return dP(n);if(nf.has(n))return nf.get(n);const e=mP(n);return e!==n&&(nf.set(n,e),dm.set(e,n)),e}const rf=n=>dm.get(n);function vP(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=br(a);return i&&a.addEventListener("upgradeneeded",l=>{i(br(a.result),l.oldVersion,l.newVersion,br(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const yP=["get","getKey","getAll","getAllKeys","count"],xP=["put","add","delete","clear"],sf=new Map;function zx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sf.get(e))return sf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=xP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yP.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),r&&l.done]))[0]};return sf.set(e,s),s}gP(n=>({...n,get:(e,t,i)=>zx(e,t)||n.get(e,t,i),has:(e,t)=>!!zx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",jx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new hm("@firebase/app"),_P="@firebase/app-compat",kP="@firebase/analytics-compat",AP="@firebase/analytics",SP="@firebase/app-check-compat",CP="@firebase/app-check",EP="@firebase/auth",TP="@firebase/auth-compat",IP="@firebase/database",PP="@firebase/data-connect",RP="@firebase/database-compat",NP="@firebase/functions",LP="@firebase/functions-compat",MP="@firebase/installations",OP="@firebase/installations-compat",DP="@firebase/messaging",FP="@firebase/messaging-compat",VP="@firebase/performance",zP="@firebase/performance-compat",jP="@firebase/remote-config",HP="@firebase/remote-config-compat",BP="@firebase/storage",WP="@firebase/storage-compat",XP="@firebase/firestore",UP="@firebase/ai",YP="@firebase/firestore-compat",$P="firebase",GP="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",qP={[Lg]:"fire-core",[_P]:"fire-core-compat",[AP]:"fire-analytics",[kP]:"fire-analytics-compat",[CP]:"fire-app-check",[SP]:"fire-app-check-compat",[EP]:"fire-auth",[TP]:"fire-auth-compat",[IP]:"fire-rtdb",[PP]:"fire-data-connect",[RP]:"fire-rtdb-compat",[NP]:"fire-fn",[LP]:"fire-fn-compat",[MP]:"fire-iid",[OP]:"fire-iid-compat",[DP]:"fire-fcm",[FP]:"fire-fcm-compat",[VP]:"fire-perf",[zP]:"fire-perf-compat",[jP]:"fire-rc",[HP]:"fire-rc-compat",[BP]:"fire-gcs",[WP]:"fire-gcs-compat",[XP]:"fire-fst",[YP]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,KP=new Map,Og=new Map;function Hx(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Aa(n){const e=n.name;if(Og.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,n);for(const t of Wu.values())Hx(t,n);for(const t of KP.values())Hx(t,n);return!0}function fm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ln(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Fl("app","Firebase",QP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=GP;function V_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Mg,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(t||(t=N_()),!t)throw wr.create("no-options");const s=Wu.get(r);if(s){if(ys(t,s.options)&&ys(i,s.config))return s;throw wr.create("duplicate-app",{appName:r})}const a=new rP(r);for(const l of Og.values())a.addComponent(l);const o=new ZP(t,i,a);return Wu.set(r,o),o}function z_(n=Mg){const e=Wu.get(n);if(!e&&n===Mg&&N_())return V_();if(!e)throw wr.create("no-app",{appName:n});return e}function _r(n,e,t){var i;let r=(i=qP[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(o.join(" "));return}Aa(new xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebase-heartbeat-database",eR=1,pl="firebase-heartbeat-store";let af=null;function j_(){return af||(af=vP(JP,eR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw wr.create("idb-open",{originalErrorMessage:n.message})})),af}async function tR(n){try{const t=(await j_()).transaction(pl),i=await t.objectStore(pl).get(H_(n));return await t.done,i}catch(e){if(e instanceof Xi)Fi.warn(e.message);else{const t=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(t.message)}}}async function Bx(n,e){try{const i=(await j_()).transaction(pl,"readwrite");await i.objectStore(pl).put(e,H_(n)),await i.done}catch(t){if(t instanceof Xi)Fi.warn(t.message);else{const i=wr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(i.message)}}}function H_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,iR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>iR){const a=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wx(),{heartbeatsToSend:i,unsentEntries:r}=sR(this._heartbeatsCache.heartbeats),s=Bu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Fi.warn(t),""}}}function Wx(){return new Date().toISOString().substring(0,10)}function sR(n,e=nR){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Xx(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Xx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YI()?$I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Xx(n){return Bu(JSON.stringify({version:2,heartbeats:n})).length}function oR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n){Aa(new xs("platform-logger",e=>new bP(e),"PRIVATE")),Aa(new xs("heartbeat",e=>new rR(e),"PRIVATE")),_r(Lg,jx,n),_r(Lg,jx,"esm2017"),_r("fire-js","")}lR("");var cR="firebase",uR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(cR,uR,"app");const gt=typeof window<"u"?window.__FIREBASE_CONFIG__:void 0,hR={apiKey:gt==null?void 0:gt.apiKey,authDomain:gt==null?void 0:gt.authDomain,projectId:gt==null?void 0:gt.projectId,storageBucket:gt==null?void 0:gt.storageBucket,messagingSenderId:gt==null?void 0:gt.messagingSenderId,appId:gt==null?void 0:gt.appId,measurementId:gt==null?void 0:gt.measurementId},xi=V_(hR);var Ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,B_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function A(){}A.prototype=w.prototype,k.D=w.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(T,P,L){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return w.prototype[P].apply(T,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,w,A){A||(A=0);var T=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)T[P]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(P=0;16>P;++P)T[P]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=k.g[0],A=k.g[1],P=k.g[2];var L=k.g[3],N=w+(L^A&(P^L))+T[0]+3614090360&4294967295;w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[1]+3905402710&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[3]+3250441966&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(L^A&(P^L))+T[4]+4118548399&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[5]+1200080426&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[7]+4249261313&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(L^A&(P^L))+T[8]+1770035416&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[9]+2336552879&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[11]+2304563134&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(L^A&(P^L))+T[12]+1804603682&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[13]+4254626195&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[15]+1236535329&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(P^L&(A^P))+T[1]+4129170786&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[6]+3225465664&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[0]+3921069994&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(P^L&(A^P))+T[5]+3593408605&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[10]+38016083&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[4]+3889429448&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(P^L&(A^P))+T[9]+568446438&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[14]+3275163606&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[8]+1163531501&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(P^L&(A^P))+T[13]+2850285829&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[2]+4243563512&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[12]+2368359562&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(A^P^L)+T[5]+4294588738&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[8]+2272392833&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[14]+4259657740&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(A^P^L)+T[1]+2763975236&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[4]+1272893353&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[10]+3200236656&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(A^P^L)+T[13]+681279174&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[0]+3936430074&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[6]+76029189&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(A^P^L)+T[9]+3654602809&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[12]+3873151461&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[2]+3299628645&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(P^(A|~L))+T[0]+4096336452&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[7]+1126891415&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[5]+4237533241&4294967295,A=P+(N<<21&4294967295|N>>>11),N=w+(P^(A|~L))+T[12]+1700485571&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[3]+2399980690&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[1]+2240044497&4294967295,A=P+(N<<21&4294967295|N>>>11),N=w+(P^(A|~L))+T[8]+1873313359&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[15]+4264355552&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[13]+1309151649&4294967295,A=P+(N<<21&4294967295|N>>>11),N=w+(P^(A|~L))+T[4]+4149444226&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[11]+3174756917&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+L&4294967295}i.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var A=w-this.blockSize,T=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=A;)r(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<w;)if(T[P++]=k.charCodeAt(L++),P==this.blockSize){r(this,T),P=0;break}}else for(;L<w;)if(T[P++]=k[L++],P==this.blockSize){r(this,T),P=0;break}}this.h=P,this.o+=w},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var A=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=A&255,A/=256;for(this.u(k),k=Array(16),w=A=0;4>w;++w)for(var T=0;32>T;T+=8)k[A++]=this.g[w]>>>T&255;return k};function s(k,w){var A=o;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=w(k)}function a(k,w){this.h=w;for(var A=[],T=!0,P=k.length-1;0<=P;P--){var L=k[P]|0;T&&L==w||(A[P]=L,T=!1)}this.g=A}var o={};function l(k){return-128<=k&&128>k?s(k,function(w){return new a([w|0],0>w?-1:0)}):new a([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return x(c(-k));for(var w=[],A=1,T=0;k>=A;T++)w[T]=k/A|0,A*=4294967296;return new a(w,0)}function u(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return x(u(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(w,8)),T=h,P=0;P<k.length;P+=8){var L=Math.min(8,k.length-P),N=parseInt(k.substring(P,P+L),w);8>L?(L=c(Math.pow(w,L)),T=T.j(L).add(c(N))):(T=T.j(A),T=T.add(c(N)))}return T}var h=l(0),d=l(1),g=l(16777216);n=a.prototype,n.m=function(){if(m(this))return-x(this).m();for(var k=0,w=1,A=0;A<this.g.length;A++){var T=this.i(A);k+=(0<=T?T:4294967296+T)*w,w*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(p(this))return"0";if(m(this))return"-"+x(this).toString(k);for(var w=c(Math.pow(k,6)),A=this,T="";;){var P=C(A,w).g;A=v(A,P.j(w));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=P,p(A))return L+T;for(;6>L.length;)L="0"+L;T=L+T}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function p(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function m(k){return k.h==-1}n.l=function(k){return k=v(this,k),m(k)?-1:p(k)?0:1};function x(k){for(var w=k.g.length,A=[],T=0;T<w;T++)A[T]=~k.g[T];return new a(A,~k.h).add(d)}n.abs=function(){return m(this)?x(this):this},n.add=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0,P=0;P<=w;P++){var L=T+(this.i(P)&65535)+(k.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);T=N>>>16,L&=65535,N&=65535,A[P]=N<<16|L}return new a(A,A[A.length-1]&-2147483648?-1:0)};function v(k,w){return k.add(x(w))}n.j=function(k){if(p(this)||p(k))return h;if(m(this))return m(k)?x(this).j(x(k)):x(x(this).j(k));if(m(k))return x(this.j(x(k)));if(0>this.l(g)&&0>k.l(g))return c(this.m()*k.m());for(var w=this.g.length+k.g.length,A=[],T=0;T<2*w;T++)A[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<k.g.length;P++){var L=this.i(T)>>>16,N=this.i(T)&65535,V=k.i(P)>>>16,H=k.i(P)&65535;A[2*T+2*P]+=N*H,y(A,2*T+2*P),A[2*T+2*P+1]+=L*H,y(A,2*T+2*P+1),A[2*T+2*P+1]+=N*V,y(A,2*T+2*P+1),A[2*T+2*P+2]+=L*V,y(A,2*T+2*P+2)}for(T=0;T<w;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=w;T<2*w;T++)A[T]=0;return new a(A,0)};function y(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function b(k,w){this.g=k,this.h=w}function C(k,w){if(p(w))throw Error("division by zero");if(p(k))return new b(h,h);if(m(k))return w=C(x(k),w),new b(x(w.g),x(w.h));if(m(w))return w=C(k,x(w)),new b(x(w.g),w.h);if(30<k.g.length){if(m(k)||m(w))throw Error("slowDivide_ only works with positive integers.");for(var A=d,T=w;0>=T.l(k);)A=S(A),T=S(T);var P=R(A,1),L=R(T,1);for(T=R(T,2),A=R(A,2);!p(T);){var N=L.add(T);0>=N.l(k)&&(P=P.add(A),L=N),T=R(T,1),A=R(A,1)}return w=v(k,P.j(w)),new b(P,w)}for(P=h;0<=k.l(w);){for(A=Math.max(1,Math.floor(k.m()/w.m())),T=Math.ceil(Math.log(A)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),L=c(A),N=L.j(w);m(N)||0<N.l(k);)A-=T,L=c(A),N=L.j(w);p(L)&&(L=d),P=P.add(L),k=v(k,N)}return new b(P,k)}n.A=function(k){return C(this,k).h},n.and=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)&k.i(T);return new a(A,this.h&k.h)},n.or=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)|k.i(T);return new a(A,this.h|k.h)},n.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)^k.i(T);return new a(A,this.h^k.h)};function S(k){for(var w=k.g.length+1,A=[],T=0;T<w;T++)A[T]=k.i(T)<<1|k.i(T-1)>>>31;return new a(A,k.h)}function R(k,w){var A=w>>5;w%=32;for(var T=k.g.length-A,P=[],L=0;L<T;L++)P[L]=0<w?k.i(L+A)>>>w|k.i(L+A+1)<<32-w:k.i(L+A);return new a(P,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,B_=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,kr=a}).apply(typeof Ux<"u"?Ux:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W_,_o,X_,nu,Dg,U_,Y_,$_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function r(f,_){if(_)e:{var E=i;f=f.split(".");for(var M=0;M<f.length-1;M++){var D=f[M];if(!(D in E))break e;E=E[D]}f=f[f.length-1],M=E[f],_=_(M),_!=M&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}function s(f,_){f instanceof String&&(f+="");var E=0,M=!1,D={next:function(){if(!M&&E<f.length){var z=E++;return{value:_(z,f[z]),done:!1}}return M=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(f){return f||function(){return s(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function c(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function u(f,_,E){return f.call.apply(f.bind,arguments)}function h(f,_,E){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,M),f.apply(_,D)}}return function(){return f.apply(_,arguments)}}function d(f,_,E){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function p(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(M,D,z){for(var ee=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ee[Ge-2]=arguments[Ge];return _.prototype[D].apply(M,ee)}}function m(f){const _=f.length;if(0<_){const E=Array(_);for(let M=0;M<_;M++)E[M]=f[M];return E}return[]}function x(f,_){for(let E=1;E<arguments.length;E++){const M=arguments[E];if(l(M)){const D=f.length||0,z=M.length||0;f.length=D+z;for(let ee=0;ee<z;ee++)f[D+ee]=M[ee]}else f.push(M)}}class v{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var S=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function R(f,_,E){for(const M in f)_.call(E,f[M],M,f)}function k(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function w(f){const _={};for(const E in f)_[E]=f[E];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,_){let E,M;for(let D=1;D<arguments.length;D++){M=arguments[D];for(E in M)f[E]=M[E];for(let z=0;z<A.length;z++)E=A[z],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function P(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function L(f){o.setTimeout(()=>{throw f},0)}function N(){var f=U;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,E){const M=H.get();M.set(_,E),this.h?this.h.next=M:this.g=M,this.h=M}}var H=new v(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,U=new V,$=()=>{const f=o.Promise.resolve(void 0);q=()=>{f.then(J)}};var J=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){L(E)}var _=H;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}F=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};o.addEventListener("test",E,_),o.removeEventListener("test",E,_)}catch{}return f}();function Me(f,_){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(S){e:{try{C(_.nodeName);var D=!0;break e}catch{}D=!1}D||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Me.aa.h.call(this)}}p(Me,ge);var me={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),se=0;function ce(f,_,E,M,D){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!M,this.ha=D,this.key=++se,this.da=this.fa=!1}function we(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ce(f){this.src=f,this.g={},this.h=0}Ce.prototype.add=function(f,_,E,M,D){var z=f.toString();f=this.g[z],f||(f=this.g[z]=[],this.h++);var ee=Ve(f,_,M,D);return-1<ee?(_=f[ee],E||(_.fa=!1)):(_=new ce(_,this.src,z,!!M,D),_.fa=E,f.push(_)),_};function it(f,_){var E=_.type;if(E in f.g){var M=f.g[E],D=Array.prototype.indexOf.call(M,_,void 0),z;(z=0<=D)&&Array.prototype.splice.call(M,D,1),z&&(we(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ve(f,_,E,M){for(var D=0;D<f.length;++D){var z=f[D];if(!z.da&&z.listener==_&&z.capture==!!E&&z.ha==M)return D}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),vn={};function G(f,_,E,M,D){if(Array.isArray(_)){for(var z=0;z<_.length;z++)G(f,_[z],E,M,D);return null}return E=ri(E),f&&f[ye]?f.K(_,E,c(M)?!!M.capture:!1,D):ne(f,_,E,!1,M,D)}function ne(f,_,E,M,D,z){if(!_)throw Error("Invalid event type");var ee=c(D)?!!D.capture:!!D,Ge=Te(f);if(Ge||(f[Ze]=Ge=new Ce(f)),E=Ge.add(_,E,M,ee,z),E.proxy)return E;if(M=Ee(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)pe||(D=ee),D===void 0&&(D=!1),f.addEventListener(_.toString(),M,D);else if(f.attachEvent)f.attachEvent(ue(_.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ee(){function f(E){return _.call(f.src,f.listener,E)}const _=Ae;return f}function _e(f,_,E,M,D){if(Array.isArray(_))for(var z=0;z<_.length;z++)_e(f,_[z],E,M,D);else M=c(M)?!!M.capture:!!M,E=ri(E),f&&f[ye]?(f=f.i,_=String(_).toString(),_ in f.g&&(z=f.g[_],E=Ve(z,E,M,D),-1<E&&(we(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete f.g[_],f.h--)))):f&&(f=Te(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ve(_,E,M,D)),(E=-1<f?_[f]:null)&&fe(E))}function fe(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ye])it(_.i,f);else{var E=f.type,M=f.proxy;_.removeEventListener?_.removeEventListener(E,M,f.capture):_.detachEvent?_.detachEvent(ue(E),M):_.addListener&&_.removeListener&&_.removeListener(M),(E=Te(_))?(it(E,f),E.h==0&&(E.src=null,_[Ze]=null)):we(f)}}}function ue(f){return f in vn?vn[f]:vn[f]="on"+f}function Ae(f,_){if(f.da)f=!0;else{_=new Me(_,this);var E=f.listener,M=f.ha||f.src;f.fa&&fe(f),f=E.call(M,_)}return f}function Te(f){return f=f[Ze],f instanceof Ce?f:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function ri(f){return typeof f=="function"?f:(f[st]||(f[st]=function(_){return f.handleEvent(_)}),f[st])}function It(){oe.call(this),this.i=new Ce(this),this.M=this,this.F=null}p(It,oe),It.prototype[ye]=!0,It.prototype.removeEventListener=function(f,_,E,M){_e(this,f,_,E,M)};function en(f,_){var E,M=f.F;if(M)for(E=[];M;M=M.F)E.push(M);if(f=f.M,M=_.type||_,typeof _=="string")_=new ge(_,f);else if(_ instanceof ge)_.target=_.target||f;else{var D=_;_=new ge(M,f),T(_,D)}if(D=!0,E)for(var z=E.length-1;0<=z;z--){var ee=_.g=E[z];D=Ql(ee,M,!0,_)&&D}if(ee=_.g=f,D=Ql(ee,M,!0,_)&&D,D=Ql(ee,M,!1,_)&&D,E)for(z=0;z<E.length;z++)ee=_.g=E[z],D=Ql(ee,M,!1,_)&&D}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],M=0;M<E.length;M++)we(E[M]);delete f.g[_],f.h--}}this.F=null},It.prototype.K=function(f,_,E,M){return this.i.add(String(f),_,!1,E,M)},It.prototype.L=function(f,_,E,M){return this.i.add(String(f),_,!0,E,M)};function Ql(f,_,E,M){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var D=!0,z=0;z<_.length;++z){var ee=_[z];if(ee&&!ee.da&&ee.capture==E){var Ge=ee.listener,Lt=ee.ha||ee.src;ee.fa&&it(f.i,ee),D=Ge.call(Lt,M)!==!1&&D}}return D&&!M.defaultPrevented}function ov(f,_,E){if(typeof f=="function")E&&(f=d(f,E));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:o.setTimeout(f,_||0)}function lv(f){f.g=ov(()=>{f.g=null,f.i&&(f.i=!1,lv(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class iS extends oe{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:lv(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(f){oe.call(this),this.h=f,this.g={}}p(Ua,oe);var cv=[];function uv(f){R(f.g,function(_,E){this.g.hasOwnProperty(E)&&fe(_)},f),f.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),uv(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gh=o.JSON.stringify,rS=o.JSON.parse,sS=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function qh(){}qh.prototype.h=null;function hv(f){return f.h||(f.h=f.i())}function dv(){}var Ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kh(){ge.call(this,"d")}p(Kh,ge);function Qh(){ge.call(this,"c")}p(Qh,ge);var Xr={},fv=null;function Zl(){return fv=fv||new It}Xr.La="serverreachability";function gv(f){ge.call(this,Xr.La,f)}p(gv,ge);function $a(f){const _=Zl();en(_,new gv(_))}Xr.STAT_EVENT="statevent";function pv(f,_){ge.call(this,Xr.STAT_EVENT,f),this.stat=_}p(pv,ge);function tn(f){const _=Zl();en(_,new pv(_,f))}Xr.Ma="timingevent";function mv(f,_){ge.call(this,Xr.Ma,f),this.size=_}p(mv,ge);function Ga(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},_)}function qa(){this.g=!0}qa.prototype.xa=function(){this.g=!1};function aS(f,_,E,M,D,z){f.info(function(){if(f.g)if(z)for(var ee="",Ge=z.split("&"),Lt=0;Lt<Ge.length;Lt++){var He=Ge[Lt].split("=");if(1<He.length){var Xt=He[0];He=He[1];var Ut=Xt.split("_");ee=2<=Ut.length&&Ut[1]=="type"?ee+(Xt+"="+He+"&"):ee+(Xt+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+M+") [attempt "+D+"]: "+_+`
`+E+`
`+ee})}function oS(f,_,E,M,D,z,ee){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+D+"]: "+_+`
`+E+`
`+z+" "+ee})}function Rs(f,_,E,M){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+cS(f,E)+(M?" "+M:"")})}function lS(f,_){f.info(function(){return"TIMEOUT: "+_})}qa.prototype.info=function(){};function cS(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var M=E[f];if(!(2>M.length)){var D=M[1];if(Array.isArray(D)&&!(1>D.length)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<D.length;ee++)D[ee]=""}}}}return Gh(E)}catch{return _}}var Jl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zh;function ec(){}p(ec,qh),ec.prototype.g=function(){return new XMLHttpRequest},ec.prototype.i=function(){return{}},Zh=new ec;function $i(f,_,E,M){this.j=f,this.i=_,this.l=E,this.R=M||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yv}function yv(){this.i=null,this.g="",this.h=!1}var xv={},Jh={};function ed(f,_,E){f.L=1,f.v=rc(wi(_)),f.m=E,f.P=!0,bv(f,null)}function bv(f,_){f.F=Date.now(),tc(f),f.A=wi(f.v);var E=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),Mv(E.i,"t",M),f.C=0,E=f.j.J,f.h=new yv,f.g=Zv(f.j,E?_:null,!f.m),0<f.O&&(f.M=new iS(d(f.Y,f,f.g),f.O)),_=f.U,E=f.g,M=f.ca;var D="readystatechange";Array.isArray(D)||(D&&(cv[0]=D.toString()),D=cv);for(var z=0;z<D.length;z++){var ee=G(E,D[z],M||_.handleEvent,!1,_.h||_);if(!ee)break;_.g[ee.key]=ee}_=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),$a(),aS(f.i,f.u,f.A,f.l,f.R,f.m)}$i.prototype.ca=function(f){f=f.target;const _=this.M;_&&_i(f)==3?_.j():this.Y(f)},$i.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=_i(this.g);var _=this.g.Ba();const Ms=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Hv(this.g)))){this.J||Ut!=4||_==7||(_==8||0>=Ms?$a(3):$a(2)),td(this);var E=this.g.Z();this.X=E;t:if(wv(this)){var M=Hv(this.g);f="";var D=M.length,z=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),Ka(this);var ee="";break t}this.h.i=new o.TextDecoder}for(_=0;_<D;_++)this.h.h=!0,f+=this.h.i.decode(M[_],{stream:!(z&&_==D-1)});M.length=0,this.h.g+=f,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=E==200,oS(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Lt=this.g;if((Ge=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var He=Ge;break t}}He=null}if(E=He)Rs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nd(this,E);else{this.o=!1,this.s=3,tn(12),Ur(this),Ka(this);break e}}if(this.P){E=!0;let Bn;for(;!this.J&&this.C<ee.length;)if(Bn=uS(this,ee),Bn==Jh){Ut==4&&(this.s=4,tn(14),E=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==xv){this.s=4,tn(15),Rs(this.i,this.l,ee,"[Invalid Chunk]"),E=!1;break}else Rs(this.i,this.l,Bn,null),nd(this,Bn);if(wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ee.length!=0||this.h.h||(this.s=1,tn(16),E=!1),this.o=this.o&&E,!E)Rs(this.i,this.l,ee,"[Invalid Chunked Response]"),Ur(this),Ka(this);else if(0<ee.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ld(Xt),Xt.M=!0,tn(11))}}else Rs(this.i,this.l,ee,null),nd(this,ee);Ut==4&&Ur(this),this.o&&!this.J&&(Ut==4?Gv(this.j,this):(this.o=!1,tc(this)))}else ES(this.g),E==400&&0<ee.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),Ur(this),Ka(this)}}}catch{}finally{}};function wv(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function uS(f,_){var E=f.C,M=_.indexOf(`
`,E);return M==-1?Jh:(E=Number(_.substring(E,M)),isNaN(E)?xv:(M+=1,M+E>_.length?Jh:(_=_.slice(M,M+E),f.C=M+E,_)))}$i.prototype.cancel=function(){this.J=!0,Ur(this)};function tc(f){f.S=Date.now()+f.I,_v(f,f.I)}function _v(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ga(d(f.ba,f),_)}function td(f){f.B&&(o.clearTimeout(f.B),f.B=null)}$i.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lS(this.i,this.A),this.L!=2&&($a(),tn(17)),Ur(this),this.s=2,Ka(this)):_v(this,this.S-f)};function Ka(f){f.j.G==0||f.J||Gv(f.j,f)}function Ur(f){td(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,uv(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function nd(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||id(E.h,f))){if(!f.K&&id(E.h,f)&&E.G==3){try{var M=E.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var D=M;if(D[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)uc(E),lc(E);else break e;od(E),tn(18)}}else E.za=D[1],0<E.za-E.T&&37500>D[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ga(d(E.Za,E),6e3));if(1>=Sv(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $r(E,11)}else if((f.K||E.g==f)&&uc(E),!y(_))for(D=E.Da.g.parse(_),_=0;_<D.length;_++){let He=D[_];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const Xt=He[3];Xt!=null&&(E.la=Xt,E.j.info("VER="+E.la));const Ut=He[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const Ms=He[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(M=1.5*Ms,E.L=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Bn=f.g;if(Bn){const dc=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var z=M.h;z.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(rd(z,z.h),z.h=null))}if(M.D){const cd=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;cd&&(M.ya=cd,Je(M.I,M.D,cd))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),M=E;var ee=f;if(M.qa=Qv(M,M.J?M.ia:null,M.W),ee.K){Cv(M.h,ee);var Ge=ee,Lt=M.L;Lt&&(Ge.I=Lt),Ge.B&&(td(Ge),tc(Ge)),M.g=ee}else Yv(M);0<E.i.length&&cc(E)}else He[0]!="stop"&&He[0]!="close"||$r(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?$r(E,7):ad(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}$a(4)}catch{}}var hS=class{constructor(f,_){this.g=f,this.map=_}};function kv(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Av(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Sv(f){return f.h?1:f.g?f.g.size:0}function id(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function rd(f,_){f.g?f.g.add(_):f.h=_}function Cv(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}kv.prototype.cancel=function(){if(this.i=Ev(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ev(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return m(f.i)}function dS(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],E=f.length,M=0;M<E;M++)_.push(f[M]);return _}_=[],E=0;for(M in f)_[E++]=f[M];return _}function fS(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const M in f)_[E++]=M;return _}}}function Tv(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=fS(f),M=dS(f),D=M.length,z=0;z<D;z++)_.call(void 0,M[z],E&&E[z],f)}var Iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gS(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var M=f[E].indexOf("="),D=null;if(0<=M){var z=f[E].substring(0,M);D=f[E].substring(M+1)}else z=f[E];_(z,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Yr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Yr){this.h=f.h,nc(this,f.j),this.o=f.o,this.g=f.g,ic(this,f.s),this.l=f.l;var _=f.i,E=new Ja;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Pv(this,E),this.m=f.m}else f&&(_=String(f).match(Iv))?(this.h=!1,nc(this,_[1]||"",!0),this.o=Qa(_[2]||""),this.g=Qa(_[3]||"",!0),ic(this,_[4]),this.l=Qa(_[5]||"",!0),Pv(this,_[6]||"",!0),this.m=Qa(_[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}Yr.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Za(_,Rv,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Za(_,Rv,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Za(E,E.charAt(0)=="/"?vS:mS,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Za(E,xS)),f.join("")};function wi(f){return new Yr(f)}function nc(f,_,E){f.j=E?Qa(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ic(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Pv(f,_,E){_ instanceof Ja?(f.i=_,bS(f.i,f.h)):(E||(_=Za(_,yS)),f.i=new Ja(_,f.h))}function Je(f,_,E){f.i.set(_,E)}function rc(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qa(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Za(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,pS),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function pS(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Rv=/[#\/\?@]/g,mS=/[#\?:]/g,vS=/[#\?]/g,yS=/[#\?@]/g,xS=/#/g;function Ja(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Gi(f){f.g||(f.g=new Map,f.h=0,f.i&&gS(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ja.prototype,n.add=function(f,_){Gi(this),this.i=null,f=Ns(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Nv(f,_){Gi(f),_=Ns(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Lv(f,_){return Gi(f),_=Ns(f,_),f.g.has(_)}n.forEach=function(f,_){Gi(this),this.g.forEach(function(E,M){E.forEach(function(D){f.call(_,D,M,this)},this)},this)},n.na=function(){Gi(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let M=0;M<_.length;M++){const D=f[M];for(let z=0;z<D.length;z++)E.push(_[M])}return E},n.V=function(f){Gi(this);let _=[];if(typeof f=="string")Lv(this,f)&&(_=_.concat(this.g.get(Ns(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},n.set=function(f,_){return Gi(this),this.i=null,f=Ns(this,f),Lv(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Mv(f,_,E){Nv(f,_),0<E.length&&(f.i=null,f.g.set(Ns(f,_),m(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var M=_[E];const z=encodeURIComponent(String(M)),ee=this.V(M);for(M=0;M<ee.length;M++){var D=z;ee[M]!==""&&(D+="="+encodeURIComponent(String(ee[M]))),f.push(D)}}return this.i=f.join("&")};function Ns(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function bS(f,_){_&&!f.j&&(Gi(f),f.i=null,f.g.forEach(function(E,M){var D=M.toLowerCase();M!=D&&(Nv(this,M),Mv(this,D,E))},f)),f.j=_}function wS(f,_){const E=new qa;if(o.Image){const M=new Image;M.onload=g(qi,E,"TestLoadImage: loaded",!0,_,M),M.onerror=g(qi,E,"TestLoadImage: error",!1,_,M),M.onabort=g(qi,E,"TestLoadImage: abort",!1,_,M),M.ontimeout=g(qi,E,"TestLoadImage: timeout",!1,_,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else _(!1)}function _S(f,_){const E=new qa,M=new AbortController,D=setTimeout(()=>{M.abort(),qi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:M.signal}).then(z=>{clearTimeout(D),z.ok?qi(E,"TestPingServer: ok",!0,_):qi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(D),qi(E,"TestPingServer: error",!1,_)})}function qi(f,_,E,M,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),M(E)}catch{}}function kS(){this.g=new sS}function AS(f,_,E){const M=E||"";try{Tv(f,function(D,z){let ee=D;c(D)&&(ee=Gh(D)),_.push(M+z+"="+encodeURIComponent(ee))})}catch(D){throw _.push(M+"type="+encodeURIComponent("_badmap")),D}}function sc(f){this.l=f.Ub||null,this.j=f.eb||!1}p(sc,qh),sc.prototype.g=function(){return new ac(this.l,this.j)},sc.prototype.i=function(f){return function(){return f}}({});function ac(f,_){It.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(ac,It),n=ac.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,to(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||o).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eo(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ov(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?eo(this):to(this),this.readyState==3&&Ov(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,eo(this))},n.Qa=function(f){this.g&&(this.response=f,eo(this))},n.ga=function(){this.g&&eo(this)};function eo(f){f.readyState=4,f.l=null,f.j=null,f.v=null,to(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function to(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Dv(f){let _="";return R(f,function(E,M){_+=M,_+=":",_+=E,_+=`\r
`}),_}function sd(f,_,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=Dv(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Je(f,_,E))}function ut(f){It.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ut,It);var SS=/^https?$/i,CS=["POST","PUT"];n=ut.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zh.g(),this.v=this.o?hv(this.o):hv(Zh),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(z){Fv(this,z);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var D in M)E.set(D,M[D]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const z of M.keys())E.set(z,M.get(z));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(z=>z.toLowerCase()=="content-type"),D=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(CS,_,void 0))||M||D||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of E)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jv(this),this.u=!0,this.g.send(f),this.u=!1}catch(z){Fv(this,z)}};function Fv(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Vv(f),oc(f)}function Vv(f){f.A||(f.A=!0,en(f,"complete"),en(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,en(this,"complete"),en(this,"abort"),oc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zv(this):this.bb())},n.bb=function(){zv(this)};function zv(f){if(f.h&&typeof a<"u"&&(!f.v[1]||_i(f)!=4||f.Z()!=2)){if(f.u&&_i(f)==4)ov(f.Ea,0,f);else if(en(f,"readystatechange"),_i(f)==4){f.h=!1;try{const ee=f.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var M;if(M=ee===0){var D=String(f.D).match(Iv)[1]||null;!D&&o.self&&o.self.location&&(D=o.self.location.protocol.slice(0,-1)),M=!SS.test(D?D.toLowerCase():"")}E=M}if(E)en(f,"complete"),en(f,"success");else{f.m=6;try{var z=2<_i(f)?f.g.statusText:""}catch{z=""}f.l=z+" ["+f.Z()+"]",Vv(f)}}finally{oc(f)}}}}function oc(f,_){if(f.g){jv(f);const E=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||en(f,"ready");try{E.onreadystatechange=M}catch{}}}function jv(f){f.I&&(o.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function _i(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),rS(_)}};function Hv(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ES(f){const _={};f=(f.g&&2<=_i(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(y(f[M]))continue;var E=P(f[M]);const D=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const z=_[D]||[];_[D]=z,z.push(E)}k(_,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Bv(f){this.Aa=0,this.i=[],this.j=new qa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=no("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=no("baseRetryDelayMs",5e3,f),this.cb=no("retryDelaySeedMs",1e4,f),this.Wa=no("forwardChannelMaxRetries",2,f),this.wa=no("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new kv(f&&f.concurrentRequestLimit),this.Da=new kS,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bv.prototype,n.la=8,n.G=1,n.connect=function(f,_,E,M){tn(0),this.W=f,this.H=_||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.I=Qv(this,null,this.W),cc(this)};function ad(f){if(Wv(f),f.G==3){var _=f.U++,E=wi(f.I);if(Je(E,"SID",f.K),Je(E,"RID",_),Je(E,"TYPE","terminate"),io(f,E),_=new $i(f,f.j,_),_.L=2,_.v=rc(wi(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=_.v,E=!0),E||(_.g=Zv(_.j,null),_.g.ea(_.v)),_.F=Date.now(),tc(_)}Kv(f)}function lc(f){f.g&&(ld(f),f.g.cancel(),f.g=null)}function Wv(f){lc(f),f.u&&(o.clearTimeout(f.u),f.u=null),uc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function cc(f){if(!Av(f.h)&&!f.s){f.s=!0;var _=f.Ga;q||$(),F||(q(),F=!0),U.add(_,f),f.B=0}}function TS(f,_){return Sv(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ga(d(f.Ga,f,_),qv(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const D=new $i(this,this.j,f);let z=this.o;if(this.S&&(z?(z=w(z),T(z,this.S)):z=this.S),this.m!==null||this.O||(D.H=z,z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Uv(this,D,_),E=wi(this.I),Je(E,"RID",f),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),io(this,E),z&&(this.O?_="headers="+encodeURIComponent(String(Dv(z)))+"&"+_:this.m&&sd(E,this.m,z)),rd(this.h,D),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",_),Je(E,"SID","null"),D.T=!0,ed(D,E,null)):ed(D,E,_),this.G=2}}else this.G==3&&(f?Xv(this,f):this.i.length==0||Av(this.h)||Xv(this))};function Xv(f,_){var E;_?E=_.l:E=f.U++;const M=wi(f.I);Je(M,"SID",f.K),Je(M,"RID",E),Je(M,"AID",f.T),io(f,M),f.m&&f.o&&sd(M,f.m,f.o),E=new $i(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Uv(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),rd(f.h,E),ed(E,M,_)}function io(f,_){f.H&&R(f.H,function(E,M){Je(_,M,E)}),f.l&&Tv({},function(E,M){Je(_,M,E)})}function Uv(f,_,E){E=Math.min(f.i.length,E);var M=f.l?d(f.l.Na,f.l,f):null;e:{var D=f.i;let z=-1;for(;;){const ee=["count="+E];z==-1?0<E?(z=D[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Ge=!0;for(let Lt=0;Lt<E;Lt++){let He=D[Lt].g;const Xt=D[Lt].map;if(He-=z,0>He)z=Math.max(0,D[Lt].g-100),Ge=!1;else try{AS(Xt,ee,"req"+He+"_")}catch{M&&M(Xt)}}if(Ge){M=ee.join("&");break e}}}return f=f.i.splice(0,E),_.D=f,M}function Yv(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;q||$(),F||(q(),F=!0),U.add(_,f),f.v=0}}function od(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ga(d(f.Fa,f),qv(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,$v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ga(d(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),lc(this),$v(this))};function ld(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function $v(f){f.g=new $i(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=wi(f.qa);Je(_,"RID","rpc"),Je(_,"SID",f.K),Je(_,"AID",f.T),Je(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(_,"TO",f.ja),Je(_,"TYPE","xmlhttp"),io(f,_),f.m&&f.o&&sd(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=rc(wi(_)),E.m=null,E.P=!0,bv(E,f)}n.Za=function(){this.C!=null&&(this.C=null,lc(this),od(this),tn(19))};function uc(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Gv(f,_){var E=null;if(f.g==_){uc(f),ld(f),f.g=null;var M=2}else if(id(f.h,_))E=_.D,Cv(f.h,_),M=1;else return;if(f.G!=0){if(_.o)if(M==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var D=f.B;M=Zl(),en(M,new mv(M,E)),cc(f)}else Yv(f);else if(D=_.s,D==3||D==0&&0<_.X||!(M==1&&TS(f,_)||M==2&&od(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),D){case 1:$r(f,5);break;case 4:$r(f,10);break;case 3:$r(f,6);break;default:$r(f,2)}}}function qv(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function $r(f,_){if(f.j.info("Error code "+_),_==2){var E=d(f.fb,f),M=f.Xa;const D=!M;M=new Yr(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||nc(M,"https"),rc(M),D?wS(M.toString(),E):_S(M.toString(),E)}else tn(2);f.G=0,f.l&&f.l.sa(_),Kv(f),Wv(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Kv(f){if(f.G=0,f.ka=[],f.l){const _=Ev(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ka,_),x(f.ka,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.ra()}}function Qv(f,_,E){var M=E instanceof Yr?wi(E):new Yr(E);if(M.g!="")_&&(M.g=_+"."+M.g),ic(M,M.s);else{var D=o.location;M=D.protocol,_=_?_+"."+D.hostname:D.hostname,D=+D.port;var z=new Yr(null);M&&nc(z,M),_&&(z.g=_),D&&ic(z,D),E&&(z.l=E),M=z}return E=f.D,_=f.ya,E&&_&&Je(M,E,_),Je(M,"VER",f.la),io(f,M),M}function Zv(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new ut(new sc({eb:E})):new ut(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jv(){}n=Jv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hc(){}hc.prototype.g=function(f,_){return new yn(f,_)};function yn(f,_){It.call(this),this.g=new Bv(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!y(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ls(this)}p(yn,It),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ad(this.g)},yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Gh(f),f=E);_.i.push(new hS(_.Ya++,f)),_.G==3&&cc(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,ad(this.g),delete this.g,yn.aa.N.call(this)};function ey(f){Kh.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}p(ey,Kh);function ty(){Qh.call(this),this.status=1}p(ty,Qh);function Ls(f){this.g=f}p(Ls,Jv),Ls.prototype.ua=function(){en(this.g,"a")},Ls.prototype.ta=function(f){en(this.g,new ey(f))},Ls.prototype.sa=function(f){en(this.g,new ty)},Ls.prototype.ra=function(){en(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,$_=function(){return new hc},Y_=function(){return Zl()},U_=Xr,Dg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jl.NO_ERROR=0,Jl.TIMEOUT=8,Jl.HTTP_ERROR=6,nu=Jl,vv.COMPLETE="complete",X_=vv,dv.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",It.prototype.listen=It.prototype.K,_o=dv,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,W_=ut}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Yx="@firebase/firestore",$x="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new hm("@firebase/firestore");function Vs(){return bs.logLevel}function ae(n,...e){if(bs.logLevel<=Ne.DEBUG){const t=e.map(gm);bs.debug(`Firestore (${ja}): ${n}`,...t)}}function Vi(n,...e){if(bs.logLevel<=Ne.ERROR){const t=e.map(gm);bs.error(`Firestore (${ja}): ${n}`,...t)}}function Pr(n,...e){if(bs.logLevel<=Ne.WARN){const t=e.map(gm);bs.warn(`Firestore (${ja}): ${n}`,...t)}}function gm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,G_(n,i,t)}function G_(n,e,t){let i=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Vi(i),new Error(i)}function We(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||G_(e,r,i)}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Xi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class fR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gR{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},o=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new q_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class pR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=yR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Pe(n,e){return n<e?-1:n>e?1:0}function Fg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Pe(i,r);{const s=K_(),a=xR(s.encode(qx(n,t)),s.encode(qx(e,t)));return a!==0?a:Pe(i,r)}}t+=i>65535?2:1}return Pe(n.length,e.length)}function qx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function xR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function Sa(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__name__";class oi{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&be(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=oi.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Pe(e.length,t.length)}static compareSegments(e,t){const i=oi.isNumericId(e),r=oi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?oi.extractNumericId(e).compare(oi.extractNumericId(t)):Fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class qe extends oi{construct(e,t,i){return new qe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends oi{construct(e,t,i){return new Vt(e,t,i)}static isValidIdentifier(e){return bR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new Vt([Kx])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(qe.fromString(e))}static fromName(e){return new de(qe.fromString(e).popFirst(5))}static empty(){return new de(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n,e,t){if(!t)throw new te(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wR(n,e,t,i){if(e===!0&&i===!0)throw new te(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qx(n){if(!de.isDocumentKey(n))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zx(n){if(de.isDocumentKey(n))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Q_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Eh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function zi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eh(n);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,e){const t={typeString:n};return e&&(t.value=e),t}function zl(n,e){if(!Q_(n))throw new te(B.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new te(B.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=-62135596800,eb=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*eb);return new tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jx)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eb}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:bt("string",tt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new tt(0,0))}static max(){return new ke(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function _R(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(i===1e9?new tt(t+1,0):new tt(t,i));return new Rr(r,de.empty(),e)}function kR(n){return new Rr(n.readTime,n.key,ml)}class Rr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Rr(ke.min(),de.empty(),ml)}static max(){return new Rr(ke.max(),de.empty(),ml)}}function AR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==SR)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let r=0,s=0,a=!1;e.forEach(o=>{++r,o.next(()=>{++s,a&&s===r&&t()},l=>i(l))}),a=!0,s===r&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(r=>r?X.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new X((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{a[c]=u,++o,o===s&&i(a)},u=>r(u))}})}static doWhile(e,t){return new X((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function ER(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ba(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Th.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function Ih(n){return n==null}function Xu(n){return n===0&&1/n==-1/0}function TR(n){return typeof n=="number"&&Number.isInteger(n)&&!Xu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function IR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tb(e)),e=PR(n.get(t),e);return tb(e)}function PR(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case Z_:t+="";break;default:t+=s}}return t}function tb(n){return n+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function J_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=r??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ot(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(e){return new ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new Et(Vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ek("Invalid base64 string: "+s):s}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=RR.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lr(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="server_timestamp",nk="__type__",ik="__previous_value__",rk="__local_write_time__";function ym(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nk])===null||t===void 0?void 0:t.stringValue)===tk}function Ph(n){const e=n.mapValue.fields[ik];return ym(e)?Ph(e):e}function vl(n){const e=Nr(n.mapValue.fields[rk].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,i,r,s,a,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Uu="(default)";class yl{constructor(e,t){this.projectId=e,this.database=t||Uu}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Uu}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="__type__",LR="__max__",Mc={mapValue:{}},ak="__vector__",Yu="value";function Mr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ym(n)?4:OR(n)?9007199254740991:MR(n)?10:11:be(28295,{value:n})}function bi(n,e){if(n===e)return!0;const t=Mr(n);if(t!==Mr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vl(n).isEqual(vl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Nr(r.timestampValue),o=Nr(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Lr(r.bytesValue).isEqual(Lr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return pt(r.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pt(r.integerValue)===pt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=pt(r.doubleValue),o=pt(s.doubleValue);return a===o?Xu(a)===Xu(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Sa(n.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(nb(a)!==nb(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!bi(a[l],o[l])))return!1;return!0}(n,e);default:return be(52216,{left:n})}}function xl(n,e){return(n.values||[]).find(t=>bi(t,e))!==void 0}function Ca(n,e){if(n===e)return 0;const t=Mr(n),i=Mr(e);if(t!==i)return Pe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(s,a){const o=pt(s.integerValue||s.doubleValue),l=pt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return rb(n.timestampValue,e.timestampValue);case 4:return rb(vl(n),vl(e));case 5:return Fg(n.stringValue,e.stringValue);case 6:return function(s,a){const o=Lr(s),l=Lr(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Pe(o[c],l[c]);if(u!==0)return u}return Pe(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Pe(pt(s.latitude),pt(a.latitude));return o!==0?o:Pe(pt(s.longitude),pt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sb(n.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,u;const h=s.fields||{},d=a.fields||{},g=(o=h[Yu])===null||o===void 0?void 0:o.arrayValue,p=(l=d[Yu])===null||l===void 0?void 0:l.arrayValue,m=Pe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:sb(g,p)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Mc.mapValue&&a===Mc.mapValue)return 0;if(s===Mc.mapValue)return 1;if(a===Mc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Fg(l[h],u[h]);if(d!==0)return d;const g=Ca(o[l[h]],c[u[h]]);if(g!==0)return g}return Pe(l.length,u.length)}(n.mapValue,e.mapValue);default:throw be(23264,{le:t})}}function rb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=Nr(n),i=Nr(e),r=Pe(t.seconds,i.seconds);return r!==0?r:Pe(t.nanos,i.nanos)}function sb(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=Ca(t[r],i[r]);if(s)return s}return Pe(t.length,i.length)}function Ea(n){return Vg(n)}function Vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Nr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Lr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return de.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=Vg(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Vg(t.fields[a])}`;return r+"}"}(n.mapValue):be(61005,{value:n})}function iu(n){switch(Mr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+iu(e):16;case 5:return 2*n.stringValue.length;case 6:return Lr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+iu(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return jr(i.fields,(s,a)=>{r+=s.length+iu(a)}),r}(n.mapValue);default:throw be(13486,{value:n})}}function ab(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zg(n){return!!n&&"integerValue"in n}function xm(n){return!!n&&"arrayValue"in n}function ob(n){return!!n&&"nullValue"in n}function lb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ru(n){return!!n&&"mapValue"in n}function MR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sk])===null||t===void 0?void 0:t.stringValue)===ak}function jo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=jo(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(t)}setAll(e){let t=Vt.emptyPath(),i={},r=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=jo(a):r.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ru(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){jr(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new dn(jo(this.value))}}function ok(n){const e=[];return jr(n.fields,(t,i)=>{const r=new Vt([t]);if(ru(i)){const s=ok(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Qt(e,0,ke.min(),ke.min(),ke.min(),dn.empty(),0)}static newFoundDocument(e,t,i,r){return new Qt(e,1,t,ke.min(),i,r,0)}static newNoDocument(e,t){return new Qt(e,2,t,ke.min(),ke.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,ke.min(),ke.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.position=e,this.inclusive=t}}function cb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=de.comparator(de.fromName(a.referenceValue),t.key):i=Ca(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ub(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function DR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{}class xt extends lk{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new VR(e,t,i):t==="array-contains"?new HR(e,i):t==="in"?new BR(e,i):t==="not-in"?new WR(e,i):t==="array-contains-any"?new XR(e,i):new xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new zR(e,i):new jR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ca(t,this.value)):t!==null&&Mr(this.value)===Mr(t)&&this.matchesComparison(Ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends lk{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ni(e,t)}matches(e){return ck(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ck(n){return n.op==="and"}function uk(n){return FR(n)&&ck(n)}function FR(n){for(const e of n.filters)if(e instanceof ni)return!1;return!0}function jg(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Ea(n.value);if(uk(n))return n.filters.map(e=>jg(e)).join(",");{const e=n.filters.map(t=>jg(t)).join(",");return`${n.op}(${e})`}}function hk(n,e){return n instanceof xt?function(i,r){return r instanceof xt&&i.op===r.op&&i.field.isEqual(r.field)&&bi(i.value,r.value)}(n,e):n instanceof ni?function(i,r){return r instanceof ni&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,o)=>s&&hk(a,r.filters[o]),!0):!1}(n,e):void be(19439)}function dk(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ea(t.value)}`}(n):n instanceof ni?function(t){return t.op.toString()+" {"+t.getFilters().map(dk).join(" ,")+"}"}(n):"Filter"}class VR extends xt{constructor(e,t,i){super(e,t,i),this.key=de.fromName(i.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class zR extends xt{constructor(e,t){super(e,"in",t),this.keys=fk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jR extends xt{constructor(e,t){super(e,"not-in",t),this.keys=fk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>de.fromName(i.referenceValue))}class HR extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xm(t)&&xl(t.arrayValue,this.value)}}class BR extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}}class WR extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xl(this.value.arrayValue,t)}}class XR extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function hb(n,e=null,t=[],i=[],r=null,s=null,a=null){return new UR(n,e,t,i,r,s,a)}function bm(n){const e=Se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ea(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ea(i)).join(",")),e.Pe=t}return e.Pe}function wm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ub(n.startAt,e.startAt)&&ub(n.endAt,e.endAt)}function Hg(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function YR(n,e,t,i,r,s,a,o){return new Es(n,e,t,i,r,s,a,o)}function _m(n){return new Es(n)}function db(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gk(n){return n.collectionGroup!==null}function Ho(n){const e=Se(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Et(Vt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new bl(s,i))}),t.has(Vt.keyField().canonicalString())||e.Te.push(new bl(Vt.keyField(),i))}return e.Te}function di(n){const e=Se(n);return e.Ie||(e.Ie=$R(e,Ho(n))),e.Ie}function $R(n,e){if(n.limitType==="F")return hb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new bl(r.field,s)});const t=n.endAt?new $u(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new $u(n.startAt.position,n.startAt.inclusive):null;return hb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Bg(n,e){const t=n.filters.concat([e]);return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gu(n,e,t){return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rh(n,e){return wm(di(n),di(e))&&n.limitType===e.limitType}function pk(n){return`${bm(di(n))}|lt:${n.limitType}`}function zs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>dk(r)).join(", ")}]`),Ih(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ea(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ea(r)).join(",")),`Target(${i})`}(di(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):de.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of Ho(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,o,l){const c=cb(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,Ho(i),r)||i.endAt&&!function(a,o,l){const c=cb(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,Ho(i),r))}(n,e)}function GR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mk(n){return(e,t)=>{let i=!1;for(const r of Ho(n)){const s=qR(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function qR(n,e,t){const i=n.field.isKeyField()?de.comparator(e.key,t.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Ca(l,c):be(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new ct(de.comparator);function ji(){return KR}const vk=new ct(de.comparator);function ko(...n){let e=vk;for(const t of n)e=e.insert(t.key,t);return e}function yk(n){let e=vk;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function as(){return Bo()}function xk(){return Bo()}function Bo(){return new Ts(n=>n.toString(),(n,e)=>n.isEqual(e))}const QR=new ct(de.comparator),ZR=new Et(de.comparator);function Le(...n){let e=ZR;for(const t of n)e=e.add(t);return e}const JR=new Et(Pe);function e2(){return JR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function bk(n){return{integerValue:""+n}}function t2(n,e){return TR(e)?bk(e):km(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function n2(n,e,t){return n instanceof wl?function(r,s){const a={fields:{[nk]:{stringValue:tk},[rk]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ym(s)&&(s=Ph(s)),s&&(a.fields[ik]=s),{mapValue:a}}(t,e):n instanceof _l?_k(n,e):n instanceof kl?kk(n,e):function(r,s){const a=wk(r,s),o=fb(a)+fb(r.Ee);return zg(a)&&zg(r.Ee)?bk(o):km(r.serializer,o)}(n,e)}function i2(n,e,t){return n instanceof _l?_k(n,e):n instanceof kl?kk(n,e):t}function wk(n,e){return n instanceof qu?function(i){return zg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class wl extends Lh{}class _l extends Lh{constructor(e){super(),this.elements=e}}function _k(n,e){const t=Ak(e);for(const i of n.elements)t.some(r=>bi(r,i))||t.push(i);return{arrayValue:{values:t}}}class kl extends Lh{constructor(e){super(),this.elements=e}}function kk(n,e){let t=Ak(e);for(const i of n.elements)t=t.filter(r=>!bi(r,i));return{arrayValue:{values:t}}}class qu extends Lh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function fb(n){return pt(n.integerValue||n.doubleValue)}function Ak(n){return xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.field=e,this.transform=t}}function s2(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof _l&&r instanceof _l||i instanceof kl&&r instanceof kl?Sa(i.elements,r.elements,bi):i instanceof qu&&r instanceof qu?bi(i.Ee,r.Ee):i instanceof wl&&r instanceof wl}(n.transform,e.transform)}class a2{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mh{}function Sk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Am(n.key,zn.none()):new jl(n.key,n.data,zn.none());{const t=n.data,i=dn.empty();let r=new Et(Vt.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Hr(n.key,i,new wn(r.toArray()),zn.none())}}function o2(n,e,t){n instanceof jl?function(r,s,a){const o=r.value.clone(),l=pb(r.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Hr?function(r,s,a){if(!su(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=pb(r.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Ck(r)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Wo(n,e,t,i){return n instanceof jl?function(s,a,o,l){if(!su(s.precondition,a))return o;const c=s.value.clone(),u=mb(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Hr?function(s,a,o,l){if(!su(s.precondition,a))return o;const c=mb(s.fieldTransforms,l,a),u=a.data;return u.setAll(Ck(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,a,o){return su(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function l2(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=wk(i.transform,r||null);s!=null&&(t===null&&(t=dn.empty()),t.set(i.field,s))}return t||null}function gb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sa(i,r,(s,a)=>s2(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jl extends Mh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hr extends Mh{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ck(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function pb(n,e,t){const i=new Map;We(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,i2(a,o,t[r]))}return i}function mb(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,n2(s,a,e))}return i}class Am extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c2 extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&o2(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wo(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wo(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xk();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const l=Sk(a,o);l!==null&&i.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(t,i)=>gb(t,i))&&Sa(this.baseMutations,e.baseMutations,(t,i)=>gb(t,i))}}class Sm{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){We(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return QR}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Sm(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Oe;function f2(n){switch(n){case B.OK:return be(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function Ek(n){if(n===void 0)return Vi("GRPC error has no .code"),B.UNKNOWN;switch(n){case vt.OK:return B.OK;case vt.CANCELLED:return B.CANCELLED;case vt.UNKNOWN:return B.UNKNOWN;case vt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case vt.INTERNAL:return B.INTERNAL;case vt.UNAVAILABLE:return B.UNAVAILABLE;case vt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case vt.NOT_FOUND:return B.NOT_FOUND;case vt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case vt.ABORTED:return B.ABORTED;case vt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case vt.DATA_LOSS:return B.DATA_LOSS;default:return be(39323,{code:n})}}(Oe=vt||(vt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new kr([4294967295,4294967295],0);function vb(n){const e=K_().encode(n),t=new B_;return t.update(e),new Uint8Array(t.digest())}function yb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kr([t,i],0),new kr([r,s],0)]}class Cm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ao(`Invalid padding: ${t}`);if(i<0)throw new Ao(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=kr.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(kr.fromNumber(i)));return r.compare(g2)===1&&(r=new kr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=vb(e),[i,r]=yb(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Cm(s,r,t);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const t=vb(e),[i,r]=yb(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Oh(ke.min(),r,new ct(Pe),ji(),Le())}}class Hl{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hl(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}}class Tk{constructor(e,t){this.targetId=e,this.De=t}}class Ik{constructor(e,t,i=Wt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class xb{constructor(){this.ve=0,this.Ce=bb(),this.Fe=Wt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),t=Le(),i=Le();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:be(38017,{changeType:s})}}),new Hl(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=bb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class p2{constructor(e){this.We=e,this.Ge=new Map,this.ze=ji(),this.je=Oc(),this.Je=Oc(),this.He=new ct(Pe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,r)=>{this.nt(r)&&t(r)})}it(e){const t=e.targetId,i=e.De.count,r=this.st(t);if(r){const s=r.target;if(Hg(s))if(i===0){const a=new de(s.path);this.Xe(t,a,Qt.newNoDocument(a,ke.min()))}else We(i===1,20013,{expectedCount:i});else{const a=this.ot(t);if(a!==i){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,c)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=Lr(i).toUint8Array()}catch(l){if(l instanceof ek)return Pr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Cm(a,r,s)}catch(l){return Pr(l instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&Hg(o.target)){const l=new de(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Qt.newNoDocument(l,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}});let i=Le();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const r=new Oh(e,t,this.He,this.ze,i);return this.ze=ji(),this.je=Oc(),this.Je=Oc(),this.He=new ct(Pe),r}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new xb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Et(Pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Et(Pe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Oc(){return new ct(de.comparator)}function bb(){return new ct(de.comparator)}const m2={asc:"ASCENDING",desc:"DESCENDING"},v2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class x2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wg(n,e){return n.useProto3Json||Ih(e)?e:{value:e}}function Ku(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b2(n,e){return Ku(n,e.toTimestamp())}function fi(n){return We(!!n,49232),ke.fromTimestamp(function(t){const i=Nr(t);return new tt(i.seconds,i.nanos)}(n))}function Em(n,e){return Xg(n,e).canonicalString()}function Xg(n,e){const t=function(r){return new qe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Rk(n){const e=qe.fromString(n);return We(Dk(e),10190,{key:e.toString()}),e}function Ug(n,e){return Em(n.databaseId,e.path)}function of(n,e){const t=Rk(e);if(t.get(1)!==n.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new de(Lk(t))}function Nk(n,e){return Em(n.databaseId,e)}function w2(n){const e=Rk(n);return e.length===4?qe.emptyPath():Lk(e)}function Yg(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lk(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wb(n,e,t){return{name:Ug(n,e),fields:t.value.mapValue.fields}}function _2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),Wt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Wt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?B.UNKNOWN:Ek(c.code);return new te(u,c.message||"")}(a);t=new Ik(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=of(n,i.document.name),s=fi(i.document.updateTime),a=i.document.createTime?fi(i.document.createTime):ke.min(),o=new dn({mapValue:{fields:i.document.fields}}),l=Qt.newFoundDocument(r,s,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];t=new au(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=of(n,i.document),s=i.readTime?fi(i.readTime):ke.min(),a=Qt.newNoDocument(r,s),o=i.removedTargetIds||[];t=new au([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=of(n,i.document),s=i.removedTargetIds||[];t=new au([],s,r,null)}else{if(!("filter"in e))return be(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new d2(r,s),o=i.targetId;t=new Tk(o,a)}}return t}function k2(n,e){let t;if(e instanceof jl)t={update:wb(n,e.key,e.value)};else if(e instanceof Am)t={delete:Ug(n,e.key)};else if(e instanceof Hr)t={update:wb(n,e.key,e.data),updateMask:N2(e.fieldMask)};else{if(!(e instanceof c2))return be(16599,{Rt:e.type});t={verify:Ug(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const o=a.transform;if(o instanceof wl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _l)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qu)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw be(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:b2(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be(27497)}(n,e.precondition)),t}function A2(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(r,s){let a=r.updateTime?fi(r.updateTime):fi(s);return a.isEqual(ke.min())&&(a=fi(s)),new a2(a,r.transformResults||[])}(t,e))):[]}function S2(n,e){return{documents:[Nk(n,e.path)]}}function C2(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Nk(n,r);const s=function(c){if(c.length!==0)return Ok(ni.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:js(d.field),direction:I2(d.dir)}}(u))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=Wg(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:t,parent:r}}function E2(n){let e=w2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){We(i===1,65062);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=Mk(h);return d instanceof ni&&uk(d)?d.getFilters():[d]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(d=>function(p){return new bl(Hs(p.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(t.orderBy));let o=null;t.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Ih(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,g=h.values||[];return new $u(g,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,g=h.values||[];return new $u(g,d)}(t.endAt)),YR(e,r,a,s,o,"F",l,c)}function T2(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Hs(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Hs(t.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hs(t.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Hs(t.unaryFilter.field);return xt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(n):n.fieldFilter!==void 0?function(t){return xt.create(Hs(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ni.create(t.compositeFilter.filters.map(i=>Mk(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(n):be(30097,{filter:n})}function I2(n){return m2[n]}function P2(n){return v2[n]}function R2(n){return y2[n]}function js(n){return{fieldPath:n.canonicalString()}}function Hs(n){return Vt.fromServerFormat(n.fieldPath)}function Ok(n){return n instanceof xt?function(t){if(t.op==="=="){if(lb(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NAN"}};if(ob(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lb(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NAN"}};if(ob(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(t.field),op:P2(t.op),value:t.value}}}(n):n instanceof ni?function(t){const i=t.getFilters().map(r=>Ok(r));return i.length===1?i[0]:{compositeFilter:{op:R2(t.op),filters:i}}}(n):be(54877,{filter:n})}function N2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Dk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t,i,r,s=ke.min(),a=ke.min(),o=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.gt=e}}function M2(n){const e=E2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.Dn=new D2}addToCollectionParentIndex(e,t){return this.Dn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Rr.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class D2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Et(qe.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Et(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fk=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Fk,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ta(0)}static ur(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LruGarbageCollector",F2=1048576;function Ab([n,e],[t,i]){const r=Pe(n,t);return r===0?Pe(e,i):r}class V2{constructor(e){this.Tr=e,this.buffer=new Et(Ab),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ab(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(kb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ba(t)?ae(kb,"Ignoring IndexedDB error during garbage collection: ",t):await Ha(t)}await this.Rr(3e5)})}}class j2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Th.ue);const i=new V2(t);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(_b)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_b):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,o=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),Vs()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}}function H2(n,e){return new j2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.changes=new Ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Wo(i.mutation,r,wn.empty(),tt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const r=as();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=ko();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=as();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,i,r){let s=ji();const a=Bo(),o=function(){return Bo()}();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Hr)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Wo(u.mutation,c,u.mutation.getFieldMask(),tt.now())):a.set(c.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),t.forEach((c,u)=>{var h;return o.set(c,new W2(u,(h=a.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,t){const i=Bo();let r=new ct((a,o)=>a-o),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=i.get(l)||wn.empty();u=o.applyToLocalView(c,u),i.set(l,u);const h=(r.get(o.batchId)||Le()).add(l);r=r.insert(o.batchId,h)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=xk();u.forEach(d=>{if(!s.has(d)){const g=Sk(t.get(d),i.get(d));g!==null&&h.set(d,g),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return X.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return de.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):X.resolve(as());let o=ml,l=s;return a.next(c=>X.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(u)?X.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Le())).next(u=>({batchId:o,changes:yk(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next(i=>{let r=ko();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=ko();return this.indexManager.getCollectionParents(e,s).next(o=>X.forEach(o,l=>{const c=function(h,d){return new Es(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Qt.newInvalidDocument(u)))});let o=ko();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Wo(u.mutation,c,wn.empty(),tt.now()),Nh(t,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return X.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(r){return{id:r.id,version:r.version,createTime:fi(r.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(r){return{name:r.name,query:M2(r.bundledQuery),readTime:fi(r.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.overlays=new ct(de.comparator),this.kr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=as();return X.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.wt(e,t,s)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const r=as(),s=t.length+1,a=new de(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return X.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ct((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=as(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=as(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=r)););return X.resolve(o)}wt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new h2(t,i));let s=this.kr.get(t);s===void 0&&(s=Le(),this.kr.set(t,s)),this.kr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.qr=new Et(Pt.Qr),this.$r=new Et(Pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Pt(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new de(new qe([])),i=new Pt(t,e),r=new Pt(t,e+1),s=[];return this.$r.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new de(new qe([])),i=new Pt(t,e),r=new Pt(t,e+1);let s=Le();return this.$r.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Pt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return de.comparator(e.key,t.key)||Pe(e.Hr,t.Hr)}static Ur(e,t){return Pe(e.Hr,t.Hr)||de.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Et(Pt.Qr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new u2(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new Pt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,t){return X.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),s=r<0?0:r;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?vm:this.er-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),r=new Pt(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],a=>{const o=this.Zr(a.Hr);s.push(o)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Pe);return t.forEach(r=>{const s=new Pt(r,0),a=new Pt(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{i=i.add(o.Hr)})}),X.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;de.isDocumentKey(s)||(s=s.child(""));const a=new Pt(new de(s),0);let o=new Et(Pe);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(o=o.add(l.Hr)),!0)},a),X.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){We(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return X.forEach(t.mutations,r=>{const s=new Pt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Pt(t,0),r=this.Yr.firstAfterOrEqual(i);return X.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.ni=e,this.docs=function(){return new ct(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=ji();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Qt.newInvalidDocument(r))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ji();const a=t.path,o=new de(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||AR(kR(u),i)<=0||(r.has(u.key)||Nh(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,t,i,r){be(9500)}ri(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new K2(this)}getSize(e){return X.resolve(this.size)}}class K2 extends B2{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.persistence=e,this.ii=new Ts(t=>bm(t),wm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new Tm,this.targetCount=0,this._i=Ta.ar()}forEachTarget(e,t){return this.ii.forEach((i,r)=>t(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),X.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ta(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.hr(t),X.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),X.waitFor(s).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.ai={},this.overlays={},this.ui=new Th(0),this.ci=!1,this.ci=!0,this.li=new $2,this.referenceDelegate=e(this),this.hi=new Q2(this),this.indexManager=new O2,this.remoteDocumentCache=function(r){return new q2(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new L2(t),this.Ti=new U2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new G2(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const r=new Z2(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,t){return X.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class Z2 extends CR{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.Ai=new Tm,this.Ri=null}static Vi(e){return new Im(e)}get mi(){if(this.Ri)return this.Ri;throw be(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,i=>{const r=de.fromPath(i);return this.fi(e,r).next(s=>{s||t.removeEntry(r,ke.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return X.or([()=>X.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qu{constructor(e,t){this.persistence=e,this.gi=new Ts(i=>IR(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=H2(this,t)}static Vi(e,t){return new Qu(e,t)}Ii(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return X.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(s=>s?X.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,a=>this.Sr(e,a,t).next(o=>{o||(i++,s.removeEntry(a,ke.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=iu(e.data.value)),t}Sr(e,t,i){return X.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.gi.get(t);return X.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=Le(),r=Le();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Pm(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return UI()?8:ER(Jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ps(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new J2;return this.ws(e,t,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)})}).next(()=>s.result)}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(Vs()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",zs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Vs()<=Ne.DEBUG&&ae("QueryEngine","Query:",zs(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Vs()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",zs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(t))):X.resolve())}ps(e,t){if(db(t))return X.resolve(null);let i=di(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Gu(t,null,"F"),i=di(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Le(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.bs(t,o);return this.Ds(t,c,a,l.readTime)?this.ps(e,Gu(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,i,r){return db(t)||r.isEqual(ke.min())?X.resolve(null):this.gs.getDocuments(e,i).next(s=>{const a=this.bs(t,s);return this.Ds(t,a,i,r)?X.resolve(null):(Vs()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zs(t)),this.vs(e,a,t,_R(r,ml)).next(o=>o))})}bs(e,t){let i=new Et(mk(e));return t.forEach((r,s)=>{Nh(e,s)&&(i=i.add(s))}),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,i){return Vs()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",zs(t)),this.gs.getDocumentsMatchingQuery(e,t,Rr.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="LocalStore",tN=3e8;class nN{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ct(Pe),this.Ms=new Ts(s=>bm(s),wm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function iN(n,e,t,i){return new nN(n,e,t,i)}async function zk(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],o=[];let l=Le();for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function rN(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let g=X.resolve();return d.forEach(p=>{g=g.next(()=>u.getEntry(l,p)).next(m=>{const x=c.docVersions.get(p);We(x!==null,48541),m.version.compareTo(x)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Le();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function jk(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sN(n,e){const t=Se(n),i=e.snapshotVersion;let r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;const o=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;o.push(t.hi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.hi.addMatchingKeys(s,u.addedDocuments,h)));let g=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Wt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(h,g),function(m,x,v){return m.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=tN?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,g,u)&&o.push(t.hi.updateTargetData(s,g))});let l=ji(),c=Le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(aN(s,a,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!i.isEqual(ke.min())){const u=t.hi.getLastRemoteSnapshotVersion(s).next(h=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(u)}return X.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Fs=r,s))}function aN(n,e,t){let i=Le(),r=Le();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=ji();return t.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(o)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ae(Rm,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:a,ks:r}})}function oN(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lN(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.hi.getTargetData(i,e).next(s=>s?(r=s,X.resolve(r)):t.hi.allocateTargetId(i).next(a=>(r=new cr(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function $g(n,e,t){const i=Se(n),r=i.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ba(a))throw a;ae(Rm,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function Sb(n,e,t){const i=Se(n);let r=ke.min(),s=Le();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const h=Se(l),d=h.Ms.get(u);return d!==void 0?X.resolve(h.Fs.get(d)):h.hi.getTargetData(c,u)}(i,a,di(e)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:ke.min(),t?s:Le())).next(o=>(cN(i,GR(e),o),{documents:o,qs:s})))}function cN(n,e,t){let i=n.xs.get(e)||ke.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.xs.set(e,i)}class Cb{constructor(){this.activeTargetIds=e2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uN{constructor(){this.Fo=new Cb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Cb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="ConnectivityMonitor";class Tb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(Eb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(Eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Gg(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="RestConnection",dN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Uu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,s){const a=Gg(),o=this.Go(e,t.toUriEncodedString());ae(lf,`Sending RPC '${e}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,r,s);const{host:c}=new URL(o),u=Va(c);return this.jo(e,o,l,i,u).then(h=>(ae(lf,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Pr(lf,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",i),h})}Jo(e,t,i,r,s,a){return this.Wo(e,t,i,r,s)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Go(e,t){const i=dN[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class pN extends fN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,s){const a=Gg();return new Promise((o,l)=>{const c=new W_;c.setWithCredentials(!0),c.listenOnce(X_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nu.NO_ERROR:const h=c.getResponseJson();ae(Gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case nu.TIMEOUT:ae(Gt,`RPC '${e}' ${a} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const d=c.getStatus();if(ae(Gt,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(p.status);l(new te(m,p.message))}else l(new te(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:be(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ae(Gt,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(r);ae(Gt,`RPC '${e}' ${a} sending request:`,r),c.send(t,"POST",u,i,15)})}P_(e,t,i){const r=Gg(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$_(),o=Y_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=s.join("");ae(Gt,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=a.createWebChannel(u,l);this.T_(h);let d=!1,g=!1;const p=new gN({Ho:x=>{g?ae(Gt,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(d||(ae(Gt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),ae(Gt,`RPC '${e}' stream ${r} sending:`,x),h.send(x))},Yo:()=>h.close()}),m=(x,v,y)=>{x.listen(v,b=>{try{y(b)}catch(C){setTimeout(()=>{throw C},0)}})};return m(h,_o.EventType.OPEN,()=>{g||(ae(Gt,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),m(h,_o.EventType.CLOSE,()=>{g||(g=!0,ae(Gt,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(h))}),m(h,_o.EventType.ERROR,x=>{g||(g=!0,Pr(Gt,`RPC '${e}' stream ${r} transport errored. Name:`,x.name,"Message:",x.message),p.__(new te(B.UNAVAILABLE,"The operation could not be completed")))}),m(h,_o.EventType.MESSAGE,x=>{var v;if(!g){const y=x.data[0];We(!!y,16349);const b=y,C=(b==null?void 0:b.error)||((v=b[0])===null||v===void 0?void 0:v.error);if(C){ae(Gt,`RPC '${e}' stream ${r} received error:`,C);const S=C.status;let R=function(A){const T=vt[A];if(T!==void 0)return Ek(T)}(S),k=C.message;R===void 0&&(R=B.INTERNAL,k="Unknown error status: "+S+" with message "+C.message),g=!0,p.__(new te(R,k)),h.close()}else ae(Gt,`RPC '${e}' stream ${r} received:`,y),p.a_(y)}}),m(o,U_.STAT_EVENT,x=>{x.stat===Dg.PROXY?ae(Gt,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Dg.NOPROXY&&ae(Gt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){return new x2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&ae("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="PersistentStream";class Bk{constructor(e,t,i,r,s,a,o,l){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Hk(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===t&&this.W_(i,r)},i=>{e(()=>{const r=new te(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ae(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mN extends Bk{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=_2(this.serializer,e),i=function(s){if(!("targetChange"in s))return ke.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ke.min():a.readTime?fi(a.readTime):ke.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Yg(this.serializer),t.addTarget=function(s,a){let o;const l=a.target;if(o=Hg(l)?{documents:S2(s,l)}:{query:C2(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Pk(s,a.resumeToken);const c=Wg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ke.min())>0){o.readTime=Ku(s,a.snapshotVersion.toTimestamp());const c=Wg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const i=T2(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Yg(this.serializer),t.removeTarget=e,this.k_(t)}}class vN extends Bk{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=A2(e.writeResults,e.commitTime),i=fi(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Yg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>k2(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{}class xN extends yN{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Xg(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(B.UNKNOWN,s.toString())})}Jo(e,t,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,Xg(t,i),r,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(B.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class bN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Vi(t),this._a=!1):ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class wN{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{Is(this)&&(ae(ws,"Restarting streams for network reachability change."),await async function(l){const c=Se(l);c.Ia.add(4),await Bl(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Fh(c)}(this))})}),this.Aa=new bN(i,r)}}async function Fh(n){if(Is(n))for(const e of n.da)await e(!0)}async function Bl(n){for(const e of n.da)await e(!1)}function Wk(n,e){const t=Se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Om(t)?Mm(t):Wa(t).x_()&&Lm(t,e))}function Nm(n,e){const t=Se(n),i=Wa(t);t.Ta.delete(e),i.x_()&&Xk(t,e),t.Ta.size===0&&(i.x_()?i.B_():Is(t)&&t.Aa.set("Unknown"))}function Lm(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wa(n).H_(e)}function Xk(n,e){n.Ra.$e(e),Wa(n).Y_(e)}function Mm(n){n.Ra=new p2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Wa(n).start(),n.Aa.aa()}function Om(n){return Is(n)&&!Wa(n).M_()&&n.Ta.size>0}function Is(n){return Se(n).Ia.size===0}function Uk(n){n.Ra=void 0}async function _N(n){n.Aa.set("Online")}async function kN(n){n.Ta.forEach((e,t)=>{Lm(n,e)})}async function AN(n,e){Uk(n),Om(n)?(n.Aa.la(e),Mm(n)):n.Aa.set("Unknown")}async function SN(n,e,t){if(n.Aa.set("Online"),e instanceof Ik&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ta.delete(o),r.Ra.removeTarget(o))}(n,e)}catch(i){ae(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zu(n,i)}else if(e instanceof au?n.Ra.Ye(e):e instanceof Tk?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ke.min()))try{const i=await jk(n.localStore);t.compareTo(i)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ta.get(c);u&&s.Ta.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ta.get(l);if(!u)return;s.Ta.set(l,u.withResumeToken(Wt.EMPTY_BYTE_STRING,u.snapshotVersion)),Xk(s,l);const h=new cr(u.target,l,c,u.sequenceNumber);Lm(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(i){ae(ws,"Failed to raise snapshot:",i),await Zu(n,i)}}async function Zu(n,e,t){if(!Ba(e))throw e;n.Ia.add(1),await Bl(n),n.Aa.set("Offline"),t||(t=()=>jk(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae(ws,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Fh(n)})}function Yk(n,e){return e().catch(t=>Zu(n,t,e))}async function Vh(n){const e=Se(n),t=Or(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vm;for(;CN(e);)try{const r=await oN(e.localStore,i);if(r===null){e.Pa.length===0&&t.B_();break}i=r.batchId,EN(e,r)}catch(r){await Zu(e,r)}$k(e)&&Gk(e)}function CN(n){return Is(n)&&n.Pa.length<10}function EN(n,e){n.Pa.push(e);const t=Or(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function $k(n){return Is(n)&&!Or(n).M_()&&n.Pa.length>0}function Gk(n){Or(n).start()}async function TN(n){Or(n).na()}async function IN(n){const e=Or(n);for(const t of n.Pa)e.X_(t.mutations)}async function PN(n,e,t){const i=n.Pa.shift(),r=Sm.from(i,e,t);await Yk(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Vh(n)}async function RN(n,e){e&&Or(n).Z_&&await async function(i,r){if(function(a){return f2(a)&&a!==B.ABORTED}(r.code)){const s=i.Pa.shift();Or(i).N_(),await Yk(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Vh(i)}}(n,e),$k(n)&&Gk(n)}async function Pb(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ae(ws,"RemoteStore received new credentials");const i=Is(t);t.Ia.add(3),await Bl(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Fh(t)}async function NN(n,e){const t=Se(n);e?(t.Ia.delete(2),await Fh(t)):e||(t.Ia.add(2),await Bl(t),t.Aa.set("Unknown"))}function Wa(n){return n.Va||(n.Va=function(t,i,r){const s=Se(t);return s.ia(),new mN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Zo:_N.bind(null,n),e_:kN.bind(null,n),n_:AN.bind(null,n),J_:SN.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Om(n)?Mm(n):n.Aa.set("Unknown")):(await n.Va.stop(),Uk(n))})),n.Va}function Or(n){return n.ma||(n.ma=function(t,i,r){const s=Se(t);return s.ia(),new vN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:TN.bind(null,n),n_:RN.bind(null,n),ea:IN.bind(null,n),ta:PN.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Vh(n)):(await n.ma.stop(),n.Pa.length>0&&(ae(ws,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new Dm(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),Ba(n))return new te(B.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||de.comparator(t.key,i.key):(t,i)=>de.comparator(t.key,i.key),this.keyedMap=ko(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ca;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.fa=new ct(de.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):be(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ia{constructor(e,t,i,r,s,a,o,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Ia(e,t,ca.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class MN{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const r=Se(t),s=r.queries;r.queries=Nb(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(i)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function Nb(){return new Ts(n=>pk(n),Rh)}async function qk(n,e){const t=Se(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new LN,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await t.onListen(r,!0);break;case 1:s.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=Fm(a,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&Vm(t)}async function Kk(n,e){const t=Se(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ON(n,e){const t=Se(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(r)&&(i=!0);a.ya=r}}i&&Vm(t)}function DN(n,e,t){const i=Se(n),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(t);i.queries.delete(e)}function Vm(n){n.Da.forEach(e=>{e.next()})}var qg,Lb;(Lb=qg||(qg={})).Fa="default",Lb.Cache="cache";class Qk{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ia(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.key=e}}class Jk{constructor(e){this.key=e}}class FN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=mk(e),this.eu=new ca(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Rb,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),g=Nh(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;d&&g?d.data.isEqual(g.data)?p!==m&&(i.track({type:3,doc:g}),x=!0):this.iu(d,g)||(i.track({type:2,doc:g}),x=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(o=!0)):!d&&g?(i.track({type:0,doc:g}),x=!0):d&&!g&&(i.track({type:1,doc:d}),x=!0,(l||c)&&(o=!0)),x&&(g?(a=a.add(g),s=m?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{eu:a,ru:i,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((u,h)=>function(g,p){const m=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{At:x})}};return m(g)-m(p)}(u.type,h.type)||this.Xa(u.doc,h.doc)),this.su(i),r=r!=null&&r;const o=t&&!r?this.ou():[],l=this.Za.size===0&&this.current&&!r?1:0,c=l!==this.Ya;return this.Ya=l,a.length!==0||c?{snapshot:new Ia(this.query,e.eu,s,a,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Rb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new Jk(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new Zk(i))}),t}uu(e){this.Ha=e.qs,this.Za=Le();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ia.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const zm="SyncEngine";class VN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zN{constructor(e){this.key=e,this.lu=!1}}class jN{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Ts(o=>pk(o),Rh),this.Tu=new Map,this.Iu=new Set,this.du=new ct(de.comparator),this.Eu=new Map,this.Au=new Tm,this.Ru={},this.Vu=new Map,this.mu=Ta.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function HN(n,e,t=!0){const i=sA(n);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await eA(i,e,t,!0),r}async function BN(n,e){const t=sA(n);await eA(t,e,!0,!1)}async function eA(n,e,t,i){const r=await lN(n.localStore,di(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await WN(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&Wk(n.remoteStore,r),o}async function WN(n,e,t,i,r){n.gu=(h,d,g)=>async function(m,x,v,y){let b=x.view.nu(v);b.Ds&&(b=await Sb(m.localStore,x.query,!1).then(({documents:k})=>x.view.nu(k,b)));const C=y&&y.targetChanges.get(x.targetId),S=y&&y.targetMismatches.get(x.targetId)!=null,R=x.view.applyChanges(b,m.isPrimaryClient,C,S);return Ob(m,x.targetId,R._u),R.snapshot}(n,h,d,g);const s=await Sb(n.localStore,e,!0),a=new FN(e,s.qs),o=a.nu(s.documents),l=Hl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=a.applyChanges(o,n.isPrimaryClient,l);Ob(n,t,c._u);const u=new VN(e,t,a);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot}async function XN(n,e,t){const i=Se(n),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(a=>!Rh(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await $g(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Nm(i.remoteStore,r.targetId),Kg(i,r.targetId)}).catch(Ha)):(Kg(i,r.targetId),await $g(i.localStore,r.targetId,!0))}async function UN(n,e){const t=Se(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Nm(t.remoteStore,i.targetId))}async function YN(n,e,t){const i=JN(n);try{const r=await function(a,o){const l=Se(a),c=tt.now(),u=o.reduce((g,p)=>g.add(p.key),Le());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let p=ji(),m=Le();return l.Os.getEntries(g,u).next(x=>{p=x,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,p)).next(x=>{h=x;const v=[];for(const y of o){const b=l2(y,h.get(y.key).overlayedDocument);b!=null&&v.push(new Hr(y.key,b,ok(b.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,v,o)}).next(x=>{d=x;const v=x.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(g,x.batchId,v)})}).then(()=>({batchId:d.batchId,changes:yk(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,o,l){let c=a.Ru[a.currentUser.toKey()];c||(c=new ct(Pe)),c=c.insert(o,l),a.Ru[a.currentUser.toKey()]=c}(i,r.batchId,t),await Wl(i,r.changes),await Vh(i.remoteStore)}catch(r){const s=Fm(r,"Failed to persist write");t.reject(s)}}async function tA(n,e){const t=Se(n);try{const i=await sN(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.Eu.get(s);a&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?We(a.lu,14607):r.removedDocuments.size>0&&(We(a.lu,42227),a.lu=!1))}),await Wl(t,i,e)}catch(i){await Ha(i)}}function Mb(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)}),function(a,o){const l=Se(a);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.wa)d.va(o)&&(c=!0)}),c&&Vm(l)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $N(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ct(de.comparator);a=a.insert(s,Qt.newNoDocument(s,ke.min()));const o=Le().add(s),l=new Oh(ke.min(),new Map,new ct(Pe),a,o);await tA(i,l),i.du=i.du.remove(s),i.Eu.delete(e),jm(i)}else await $g(i.localStore,e,!1).then(()=>Kg(i,e,t)).catch(Ha)}async function GN(n,e){const t=Se(n),i=e.batch.batchId;try{const r=await rN(t.localStore,e);iA(t,i,null),nA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wl(t,r)}catch(r){await Ha(r)}}async function qN(n,e,t){const i=Se(n);try{const r=await function(a,o){const l=Se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(We(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);iA(i,e,t),nA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wl(i,r)}catch(r){await Ha(r)}}function nA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function iA(n,e,t){const i=Se(n);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function Kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||rA(n,i)})}function rA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Nm(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),jm(n))}function Ob(n,e,t){for(const i of t)i instanceof Zk?(n.Au.addReference(i.key,e),KN(n,i)):i instanceof Jk?(ae(zm,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||rA(n,i.key)):be(19791,{yu:i})}function KN(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(ae(zm,"New document in limbo: "+t),n.Iu.add(i),jm(n))}function jm(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new de(qe.fromString(e)),i=n.mu.next();n.Eu.set(i,new zN(t)),n.du=n.du.insert(t,i),Wk(n.remoteStore,new cr(di(_m(t.path)),i,"TargetPurposeLimboResolution",Th.ue))}}async function Wl(n,e,t){const i=Se(n),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((o,l)=>{a.push(i.gu(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);const h=Pm.Es(l.targetId,c);s.push(h)}}))}),await Promise.all(a),i.hu.J_(r),await async function(l,c){const u=Se(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(c,d=>X.forEach(d.Is,g=>u.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>X.forEach(d.ds,g=>u.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!Ba(h))throw h;ae(Rm,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const g=u.Fs.get(d),p=g.snapshotVersion,m=g.withLastLimboFreeSnapshotVersion(p);u.Fs=u.Fs.insert(d,m)}}}(i.localStore,s))}async function QN(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ae(zm,"User change. New user:",e.toKey());const i=await zk(t.localStore,e);t.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new te(B.CANCELLED,a))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wl(t,i.Bs)}}function ZN(n,e){const t=Se(n),i=t.Eu.get(e);if(i&&i.lu)return Le().add(i.key);{let r=Le();const s=t.Tu.get(e);if(!s)return r;for(const a of s){const o=t.Pu.get(a);r=r.unionWith(o.view.tu)}return r}}function sA(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.hu.J_=ON.bind(null,e.eventManager),e.hu.pu=DN.bind(null,e.eventManager),e}function JN(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return iN(this.persistence,new eN,e.initialUser,this.serializer)}Du(e){return new Vk(Im.Vi,this.serializer)}bu(e){return new uN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class eL extends Ju{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){We(this.persistence.referenceDelegate instanceof Qu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new z2(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Vk(i=>Qu.Vi(i,t),this.serializer)}}class Qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QN.bind(null,this.syncEngine),await NN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MN}()}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),i=function(s){return new pN(s)}(e.databaseInfo);return function(s,a,o,l){return new xN(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,a,o){return new wN(i,r,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>Mb(this.syncEngine,t,0),function(){return Tb.C()?new Tb:new hN}())}createSyncEngine(e,t){return function(r,s,a,o,l,c,u){const h=new jN(r,s,a,o,l,c);return u&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Se(r);ae(ws,"RemoteStore shutting down."),s.Ia.add(5),await Bl(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class tL{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=qt.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{ae(Dr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(ae(Dr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Fm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function uf(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Dr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await zk(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{Pr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Pr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=e}async function Db(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nL(n);ae(Dr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Pb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Pb(e.remoteStore,r)),n._onlineComponents=e}async function nL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Dr,"Using user provided OfflineComponentProvider");try{await uf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Pr("Error using user provided cache. Falling back to memory cache: "+t),await uf(n,new Ju)}}else ae(Dr,"Using default OfflineComponentProvider"),await uf(n,new eL(void 0));return n._offlineComponents}async function oA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Dr,"Using user provided OnlineComponentProvider"),await Db(n,n._uninitializedComponentsProvider._online)):(ae(Dr,"Using default OnlineComponentProvider"),await Db(n,new Qg))),n._onlineComponents}function iL(n){return oA(n).then(e=>e.syncEngine)}async function lA(n){const e=await oA(n),t=e.eventManager;return t.onListen=HN.bind(null,e.syncEngine),t.onUnlisten=XN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UN.bind(null,e.syncEngine),t}function rL(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new aA({next:d=>{u.Ou(),a.enqueueAndForget(()=>Kk(s,h));const g=d.docs.has(o);!g&&d.fromCache?c.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Qk(_m(o.path),u,{includeMetadataChanges:!0,ka:!0});return qk(s,h)}(await lA(n),n.asyncQueue,e,t,i)),i.promise}function sL(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new aA({next:d=>{u.Ou(),a.enqueueAndForget(()=>Kk(s,h)),d.fromCache&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Qk(o,u,{includeMetadataChanges:!0,ka:!0});return qk(s,h)}(await lA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",Vb=!0;class zb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=Vb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xl{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dR;switch(i.type){case"firstParty":return new mR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Fb.get(t);i&&(ae("ComponentProvider","Removing Datastore"),Fb.delete(t),i.terminate())}(this),Promise.resolve()}}function aL(n,e,t,i={}){var r;n=zi(n,Xl);const s=Va(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(M_(`https://${l}`),O_("Firestore",!0)),a.host!==uA&&a.host!==l&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:i});if(!ys(c,o)&&(n._setSettings(c),i.mockUserToken)){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=qt.MOCK_USER;else{u=DI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qt(d)}n._authCredentials=new fR(new q_(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(zl(t,wt._jsonSchema))return new wt(e,i||null,new de(qe.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:bt("string",wt._jsonSchemaVersion),referencePath:bt("string")};class Ar extends Ui{constructor(e,t,i){super(e,t,_m(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new de(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function sn(n,e,...t){if(n=Tt(n),mm("collection","path",e),n instanceof Xl){const i=qe.fromString(e,...t);return Zx(i),new Ar(n,null,i)}{if(!(n instanceof wt||n instanceof Ar))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qe.fromString(e,...t));return Zx(i),new Ar(n.firestore,null,i)}}function ur(n,e){if(n=zi(n,Xl),mm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(n,null,function(i){return new Es(qe.emptyPath(),i)}(e))}function Dt(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=pm.newId()),mm("doc","path",e),n instanceof Xl){const i=qe.fromString(e,...t);return Qx(i),new wt(n,null,new de(i))}{if(!(n instanceof wt||n instanceof Ar))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qe.fromString(e,...t));return Qx(i),new wt(n.firestore,n instanceof Ar?n.converter:null,new de(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="AsyncQueue";class Hb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Hk(this,"async_queue_retry"),this.oc=()=>{const i=cf();i&&ae(jb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=cf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=cf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ri;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ba(e))throw e;ae(jb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Vi("INTERNAL UNHANDLED ERROR: ",Bb(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Dm.createAndSchedule(this,e,t,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&be(47125,{hc:Bb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Bb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ul extends Xl{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Hb,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hb(e),this._firestoreClient=void 0,await e}}}function Yi(n,e){const t=typeof n=="object"?n:z_(),i=typeof n=="string"?n:Uu,r=fm(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=MI("firestore");s&&aL(r,...s)}return r}function zh(n){if(n._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oL(n),n._firestoreClient}function oL(n){var e,t,i;const r=n._freezeSettings(),s=function(o,l,c,u){return new NR(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new tL(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Wt.fromBase64String(e))}catch(t){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:bt("string",Mn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(zl(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:bt("string",gi._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zl(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new pi(e.vectorValues);throw new te(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:bt("string",pi._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^__.*__$/;class cL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}}class hA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Hr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ec:n})}}class Hm{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return eh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dA(this.Ec)&&lL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class uL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dh(e)}Dc(e,t,i,r=!1){return new Hm({Ec:e,methodName:t,bc:i,path:Vt.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new uL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fA(n,e,t,i,r,s={}){const a=n.Dc(s.merge||s.mergeFields?2:0,e,t,r);Xm("Data must be an object, but it was:",a,i);const o=gA(i,a);let l,c;if(s.merge)l=new wn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=Zg(e,h,t);if(!a.contains(d))throw new te(B.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);mA(u,d)||u.push(d)}l=new wn(u),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new cL(new dn(o),l,c)}class Bh extends Hh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}class Wm extends Hh{_toFieldTransform(e){return new r2(e.path,new wl)}isEqual(e){return e instanceof Wm}}function hL(n,e,t,i){const r=n.Dc(1,e,t);Xm("Data must be an object, but it was:",r,i);const s=[],a=dn.empty();jr(i,(l,c)=>{const u=Um(e,l,t);c=Tt(c);const h=r.gc(u);if(c instanceof Bh)s.push(u);else{const d=Yl(c,h);d!=null&&(s.push(u),a.set(u,d))}});const o=new wn(s);return new hA(a,o,r.fieldTransforms)}function dL(n,e,t,i,r,s){const a=n.Dc(1,e,t),o=[Zg(e,i,t)],l=[r];if(s.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Zg(e,s[d])),l.push(s[d+1]);const c=[],u=dn.empty();for(let d=o.length-1;d>=0;--d)if(!mA(c,o[d])){const g=o[d];let p=l[d];p=Tt(p);const m=a.gc(g);if(p instanceof Bh)c.push(g);else{const x=Yl(p,m);x!=null&&(c.push(g),u.set(g,x))}}const h=new wn(c);return new hA(u,h,a.fieldTransforms)}function fL(n,e,t,i=!1){return Yl(t,n.Dc(i?4:3,e))}function Yl(n,e){if(pA(n=Tt(n)))return Xm("Unsupported field value:",e,n),gA(n,e);if(n instanceof Hh)return function(i,r){if(!dA(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const o of i){let l=Yl(o,r.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return t2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=tt.fromDate(i);return{timestampValue:Ku(r.serializer,s)}}if(i instanceof tt){const s=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ku(r.serializer,s)}}if(i instanceof gi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mn)return{bytesValue:Pk(r.serializer,i._byteString)};if(i instanceof wt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Em(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof pi)return function(a,o){return{mapValue:{fields:{[sk]:{stringValue:ak},[Yu]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return km(o.serializer,c)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Eh(i)}`)}(n,e)}function gA(n,e){const t={};return J_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(n,(i,r)=>{const s=Yl(r,e.Vc(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function pA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof gi||n instanceof Mn||n instanceof wt||n instanceof Hh||n instanceof pi)}function Xm(n,e,t){if(!pA(t)||!Q_(t)){const i=Eh(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function Zg(n,e,t){if((e=Tt(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Um(n,e);throw eh("Field path arguments must be of type string or ",n,!1,void 0,t)}const gL=new RegExp("[~\\*/\\[\\]]");function Um(n,e,t){if(e.search(gL)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jh(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eh(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new te(B.INVALID_ARGUMENT,o+n+l)}function mA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pL extends vA{data(){return super.data()}}function Wh(n,e){return typeof e=="string"?Um(n,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class $m extends Ym{}function So(n,e,...t){let i=[];e instanceof Ym&&i.push(e),i=i.concat(t),function(s){const a=s.filter(l=>l instanceof Gm).length,o=s.filter(l=>l instanceof Xh).length;if(a>1||a>0&&o>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Xh extends $m{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Xh(e,t,i)}_apply(e){const t=this._parse(e);return yA(e._query,t),new Ui(e.firestore,e.converter,Bg(e._query,t))}_parse(e){const t=Bm(e.firestore);return function(s,a,o,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Xb(h,u);const p=[];for(const m of h)p.push(Wb(l,s,m));d={arrayValue:{values:p}}}else d=Wb(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Xb(h,u),d=fL(o,a,h,u==="in"||u==="not-in");return xt.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fc(n,e,t){const i=e,r=Wh("where",n);return Xh._create(r,i,t)}class Gm extends Ym{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let a=r;const o=s.getFlattenedFilters();for(const l of o)yA(a,l),a=Bg(a,l)}(e._query,t),new Ui(e.firestore,e.converter,Bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qm extends $m{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qm(e,t)}_apply(e){const t=function(r,s,a){if(r.startAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bl(s,a)}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new Es(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function Co(n,e="asc"){const t=e,i=Wh("orderBy",n);return qm._create(i,t)}class Km extends $m{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Km(e,t,i)}_apply(e){return new Ui(e.firestore,e.converter,Gu(e._query,this._limit,this._limitType))}}function vL(n){return Km._create("limit",n,"F")}function Wb(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gk(e)&&t.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(qe.fromString(t));if(!de.isDocumentKey(i))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ab(n,new de(i))}if(t instanceof wt)return ab(n,t._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(t)}.`)}function Xb(n,e){if(!Array.isArray(n)||n.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(n,e){const t=function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yL{convertValue(e,t="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return jr(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[Yu].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>pt(a.doubleValue));return new pi(s)}convertGeoPoint(e){return new gi(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ph(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const t=Nr(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=qe.fromString(e);We(Dk(i),9688,{name:e});const r=new yl(i.get(1),i.get(3)),s=new de(i.popFirst(5));return r.isEqual(t)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Eo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class us extends vA{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Wh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=us._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:bt("string",us._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class ou extends us{data(e={}){return super.data(e)}}class ua{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ou(this._firestore,this._userDataWriter,i.key,i,new Eo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(o=>{const l=new ou(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new ou(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:xL(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n){n=zi(n,wt);const e=zi(n.firestore,Ul);return rL(zh(e),n._key).then(t=>bL(e,n,t))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:bt("string",ua._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class bA extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function At(n){n=zi(n,Ui);const e=zi(n.firestore,Ul),t=zh(e),i=new bA(e);return mL(n._query),sL(t,n._query).then(r=>new ua(e,i,n,r))}function li(n,e,t){n=zi(n,wt);const i=zi(n.firestore,Ul),r=xA(n.converter,e,t);return wA(i,[fA(Bm(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,zn.none())])}function wA(n,e){return function(i,r){const s=new Ri;return i.asyncQueue.enqueueAndForget(async()=>YN(await iL(i),r,s)),s.promise}(zh(n),e)}function bL(n,e,t){const i=t.docs.get(e._key),r=new bA(n);return new us(n,r,e._key,i,new Eo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bm(e)}set(e,t,i){this._verifyNotCommitted();const r=hf(e,this._firestore),s=xA(r.converter,t,i),a=fA(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(a.toMutation(r._key,zn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=hf(e,this._firestore);let a;return a=typeof(t=Tt(t))=="string"||t instanceof jh?dL(this._dataReader,"WriteBatch.update",s._key,t,i,r):hL(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hf(e,this._firestore);return this._mutations=this._mutations.concat(new Am(t._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hf(n,e){if((n=Tt(n)).firestore!==e)throw new te(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function lu(){return new Wm("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n){return zh(n=zi(n,Ul)),new wL(n,e=>wA(n,e))}(function(e,t=!0){(function(r){ja=r})(za),Aa(new xs("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new Ul(new gR(i.getProvider("auth-internal")),new vR(a,i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(c.options.projectId,u)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),_r(Yx,$x,e),_r(Yx,$x,"esm2017")})();const ff={"1H":60*60*1e3,"1D":24*60*60*1e3,"7D":7*24*60*60*1e3,"1M":30*24*60*60*1e3,"6M":182*24*60*60*1e3,"1Y":365*24*60*60*1e3,ALL:Number.POSITIVE_INFINITY};function Ub(n){try{if(!n)return 0;if(typeof n.toDate=="function")return n.toDate().getTime();if(typeof n=="number")return n>1e12?n:n*1e3;const e=new Date(n);return Number.isNaN(e.getTime())?0:e.getTime()}catch{return 0}}function gf(n){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Number(n)||0)}catch{return"$"+(Number(n).toFixed?Number(n).toFixed(2):String(n))}}function _L(n){if(!Number.isFinite(n)||n===Number.POSITIVE_INFINITY)return 24*60*60*1e3;const t=Math.ceil(n/400),i=60*1e3,r=60*i,s=24*r,a=7*s;return t<=i?i:t<=15*i?15*i:t<=r?r:t<=6*r?6*r:t<=s?s:t<=a?a:30*s}function Yb(n){const e=new Date(n);return e.setHours(0,0,0,0),e.getTime()}function kL(n,e,t){if(!Array.isArray(n)||n.length===0)return n;const i=[...n].sort((d,g)=>d.x-g.x),r=24*60*60*1e3,s=Yb(e),a=Yb(t),o=[];let l=0,c=i[0]&&Number.isFinite(i[0].y)?i[0].y:0;for(let d=s;d<=a;d+=r){for(;l<i.length&&i[l].x<=d;)c=i[l].y,o.push(i[l]),l++;(o.length===0||o[o.length-1].x!==d)&&o.push({x:d,y:c})}for(;l<i.length;)o.push(i[l++]);const u=new Set,h=[];for(const d of o)u.has(d.x)||(u.add(d.x),h.push(d));return h.sort((d,g)=>d.x-g.x)}function AL(){const n=Z.useMemo(()=>Yi(xi),[]),[e,t]=Z.useState("1M"),[i,r]=Z.useState([]),[s,a]=Z.useState([Date.now()-ff["1M"],Date.now()]),[o,l]=Z.useState(0),[c,u]=Z.useState(!1);return Z.useEffect(()=>{async function h(){u(!0);try{const d=new Map,g=new Map;let p=0;(await At(ur(n,"Cards"))).forEach(se=>{const ce=se.data()||{},we=se.ref.path.split("/");if(we.length>=6&&we[0]==="Pokemon Packs"){const Ce=we[2],it=we[3],Ve=Number(ce.Number||0),Ze=String(ce.Printing||"").trim().toLowerCase(),vn=Ce+" / "+it+"|"+Ve+"|"+Ze,G=Number(ce.Cost||0)||0,ne=Number(ce["Amount Owned"]||0)||0;d.set(vn,G),Number.isFinite(G)&&Number.isFinite(ne)&&(p+=G*ne)}}),(await At(ur(n,"Sealed"))).forEach(se=>{const ce=se.data()||{},we=se.id,Ce=Number(ce.Cost||0)||0,it=Number(ce["Amount Owned"]||0)||0;g.set(we,Ce),Number.isFinite(Ce)&&Number.isFinite(it)&&(p+=Ce*it)}),l(p);const v=Date.now(),y=ff[e],b=y===Number.POSITIVE_INFINITY?0:v-y,C=new Date(b),S=new Date;let R,k;Number.isFinite(b)&&y!==Number.POSITIVE_INFINITY?(R=So(sn(n,"CardLogs"),Fc("time",">=",C),Fc("time","<=",S),Co("time","asc")),k=So(sn(n,"SealedLogs"),Fc("time",">=",C),Fc("time","<=",S),Co("time","asc"))):(R=So(sn(n,"CardLogs"),Co("time","asc")),k=So(sn(n,"SealedLogs"),Co("time","asc")));const[w,A]=await Promise.all([At(R),At(k)]),T=[];w&&w.forEach(se=>{const ce=se.data()||{},we=Ub(ce.time);if(Array.isArray(ce.items))for(const Ce of ce.items){const it=String(Ce.set||"")+"|"+Number(Ce.number||0)+"|"+String(Ce.print||"").trim().toLowerCase(),Ve=d.get(it)||0,Ze=Number(Ce.amount||0)||0;if(!Number.isFinite(we))continue;const vn=Ve*Ze;vn!==0&&T.push({t:we,v:vn})}else{const Ce=String(ce.set||"")+"|"+Number(ce.number||0)+"|"+String(ce.print||"").trim().toLowerCase(),it=d.get(Ce)||0,Ve=Number(ce.amount||0)||0;if(!Number.isFinite(we))return;const Ze=it*Ve;Ze!==0&&T.push({t:we,v:Ze})}}),A&&A.forEach(se=>{const ce=se.data()||{},we=Ub(ce.time);if(Array.isArray(ce.items))for(const Ce of ce.items){const it=g.get(String(Ce.sealedName||""))||0,Ve=Number(Ce.amount||0)||0;if(!Number.isFinite(we))continue;const Ze=it*Ve;Ze!==0&&T.push({t:we,v:Ze})}else{const Ce=g.get(String(ce.sealedName||""))||0,it=Number(ce.amount||0)||0;if(!Number.isFinite(we))return;const Ve=Ce*it;Ve!==0&&T.push({t:we,v:Ve})}});const P=y===Number.POSITIVE_INFINITY?0:b,L=new Map;for(const se of T)Number.isFinite(P)&&y!==Number.POSITIVE_INFINITY&&se.t<b||L.set(se.t,(L.get(se.t)||0)+se.v);const N=_L(v-(y===Number.POSITIVE_INFINITY?T.length?Math.min(...T.map(se=>se.t)):v-365*24*60*60*1e3:b)),V=se=>Math.floor(se/N)*N,H=new Map;Array.from(L.entries()).sort((se,ce)=>se[0]-ce[0]).forEach(([se,ce])=>{const we=V(se);H.set(we,(H.get(we)||0)+ce)});const Y=Array.from(H.keys()).sort((se,ce)=>se-ce),q=T.reduce((se,ce)=>se+ce.v,0),F=Math.max(0,Number.isFinite(o)?o-q:0);let U=Math.max(0,F);const $=Y.map(se=>(U+=H.get(se)||0,Math.max(0,U))),J=Y.length>0?Y:[y===Number.POSITIVE_INFINITY?T.length?Math.min(...T.map(se=>se.t)):v-365*24*60*60*1e3:b,v],oe=Y.length>0?$:[F,o||F],ge=y===Number.POSITIVE_INFINITY?J[0]:b,pe=J.map((se,ce)=>({x:se,y:oe[ce]})),Me=[{x:ge,y:F},...pe,{x:v,y:o||F}].sort((se,ce)=>se.x-ce.x),me=24*60*60*1e3,ye=y>=me||y===Number.POSITIVE_INFINITY?kL(Me,ge,v):Me;r(ye),a([ge,v])}finally{u(!1)}}h()},[n,e,o]),I.jsxs("div",{className:"card",id:"statsCostCard",children:[I.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[I.jsx("div",{className:"small muted",children:"Total Collection Cost Over Time"}),I.jsx("div",{className:"tabs small",children:Object.keys(ff).map(h=>I.jsx("button",{className:"tab-btn"+(h===e?" active":""),onClick:()=>t(h),children:h},h))})]}),I.jsx("div",{style:{height:320,width:"100%",overflow:"hidden"},children:c?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx(E_,{type:"line",height:320,series:[{name:"Total Cost",data:i}],options:{chart:{animations:{enabled:!1},toolbar:{show:!1},parentHeightOffset:0},stroke:{width:2,curve:"straight"},dataLabels:{enabled:!1},xaxis:{type:"datetime",min:s[0],max:s[1],tickAmount:8,crosshairs:{show:!1},tooltip:{enabled:!1}},yaxis:{min:0,labels:{formatter:h=>gf(h)}},grid:{show:!0,strokeDashArray:3},tooltip:{x:{formatter:h=>new Date(h).toLocaleString()},y:{formatter:h=>gf(h)},shared:!1,fixed:{enabled:!1}},markers:{size:2}}})}),I.jsxs("div",{className:"small muted",style:{marginTop:6},children:["Current total: ",gf(o),"  Points: ",i.length]})]})}function Qm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SL=_A,kA=new Fl("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new hm("@firebase/auth");function CL(n,...e){nh.logLevel<=Ne.WARN&&nh.warn(`Auth (${za}): ${n}`,...e)}function cu(n,...e){nh.logLevel<=Ne.ERROR&&nh.error(`Auth (${za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n,...e){throw Zm(n,...e)}function mi(n,...e){return Zm(n,...e)}function AA(n,e,t){const i=Object.assign(Object.assign({},SL()),{[e]:t});return new Fl("auth","Firebase",i).create(e,{appName:n.name})}function Ni(n){return AA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return kA.create(n,...e)}function xe(n,e,...t){if(!n)throw Zm(e,...t)}function Ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cu(e),new Error(e)}function Hi(n,e){n||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function EL(){return $b()==="http:"||$b()==="https:"}function $b(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EL()||BI()||"connection"in navigator)?navigator.onLine:!0}function IL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=zI()||WI()}get(){return TL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NL=new $l(3e4,6e4);function Br(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wr(n,e,t,i,r={}){return CA(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=Vl(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return HI()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&Va(n.emulatorConfig.host)&&(c.credentials="include"),SA.fetch()(await EA(n,n.config.apiHost,t,o),c)})}async function CA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},PL),e);try{const r=new ML(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Vc(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Vc(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw Vc(n,"user-disabled",a);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AA(n,u,c);ii(n,u)}}catch(r){if(r instanceof Xi)throw r;ii(n,"network-request-failed",{message:String(r)})}}async function Gl(n,e,t,i,r={}){const s=await Wr(n,e,t,i,r);return"mfaPendingCredential"in s&&ii(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function EA(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?Jm(n.config,r):`${n.config.apiScheme}://${r}`;return RL.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function LL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ML{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(mi(this.auth,"network-request-failed")),NL.get())})}}function Vc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=mi(n,e,i);return r.customData._tokenResponse=t,r}function Gb(n){return n!==void 0&&n.enterprise!==void 0}class OL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DL(n,e){return Wr(n,"GET","/v2/recaptchaConfig",Br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(n,e){return Wr(n,"POST","/v1/accounts:delete",e)}async function ih(n,e){return Wr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VL(n,e=!1){const t=Tt(n),i=await t.getIdToken(e),r=ev(i);xe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Xo(pf(r.auth_time)),issuedAtTime:Xo(pf(r.iat)),expirationTime:Xo(pf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pf(n){return Number(n)*1e3}function ev(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cu("JWT malformed, contained fewer than 3 sections"),null;try{const r=P_(t);return r?JSON.parse(r):(cu("Failed to decode base64 JWT payload"),null)}catch(r){return cu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function qb(n){const e=ev(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xi&&zL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Al(n,ih(t,{idToken:i}));xe(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TA(s.providerUserInfo):[],o=BL(n.providerData,a),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ep(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function HL(n){const e=Tt(n);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function TA(n){return n.map(e=>{var{providerId:t}=e,i=Qm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(n,e){const t=await CA(n,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await EA(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return n.emulatorConfig&&Va(n.emulatorConfig.host)&&(l.credentials="include"),SA.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XL(n,e){return Wr(n,"POST","/v2/accounts:revokeToken",Br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=qb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await WL(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new ha;return i&&(xe(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(xe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ep(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VL(this,e)}reload(){return HL(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Al(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,l,c,u;const h=(i=t.displayName)!==null&&i!==void 0?i:void 0,d=(r=t.email)!==null&&r!==void 0?r:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,p=(a=t.photoURL)!==null&&a!==void 0?a:void 0,m=(o=t.tenantId)!==null&&o!==void 0?o:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=t.createdAt)!==null&&c!==void 0?c:void 0,y=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:C,isAnonymous:S,providerData:R,stsTokenManager:k}=t;xe(b&&k,e,"internal-error");const w=ha.fromJSON(this.name,k);xe(typeof b=="string",e,"internal-error"),Qi(h,e.name),Qi(d,e.name),xe(typeof C=="boolean",e,"internal-error"),xe(typeof S=="boolean",e,"internal-error"),Qi(g,e.name),Qi(p,e.name),Qi(m,e.name),Qi(x,e.name),Qi(v,e.name),Qi(y,e.name);const A=new Qn({uid:b,auth:e,email:d,emailVerified:C,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:g,tenantId:m,stsTokenManager:w,createdAt:v,lastLoginAt:y});return R&&Array.isArray(R)&&(A.providerData=R.map(T=>Object.assign({},T))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,t,i=!1){const r=new ha;r.updateFromServerResponse(t);const s=new Qn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await rh(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];xe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?TA(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new ha;o.updateFromIdToken(i);const l=new Qn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ep(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;function Ii(n){Hi(n instanceof Function,"Expected a class definition");let e=Kb.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IA.type="NONE";const Qb=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n,e,t){return`firebase:${n}:${e}:${t}`}class da{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=uu(this.userKey,r.apiKey,s),this.fullPersistenceKey=uu("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ih(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new da(Ii(Qb),e,i);const r=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Ii(Qb);const a=uu(i,e.config.apiKey,e.name);let o=null;for(const c of t)try{const u=await c._get(a);if(u){let h;if(typeof u=="string"){const d=await ih(e,{idToken:u}).catch(()=>{});if(!d)break;h=await Qn._fromGetAccountInfoResponse(e,d,u)}else h=Qn._fromJSON(e,u);c!==s&&(o=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new da(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new da(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OA(e))return"Blackberry";if(DA(e))return"Webos";if(RA(e))return"Safari";if((e.includes("chrome/")||NA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PA(n=Jt()){return/firefox\//i.test(n)}function RA(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NA(n=Jt()){return/crios\//i.test(n)}function LA(n=Jt()){return/iemobile/i.test(n)}function MA(n=Jt()){return/android/i.test(n)}function OA(n=Jt()){return/blackberry/i.test(n)}function DA(n=Jt()){return/webos/i.test(n)}function tv(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UL(n=Jt()){var e;return tv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YL(){return XI()&&document.documentMode===10}function FA(n=Jt()){return tv(n)||MA(n)||DA(n)||OA(n)||/windows phone/i.test(n)||LA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,e=[]){let t;switch(n){case"Browser":t=Zb(Jt());break;case"Worker":t=`${Zb(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,e={}){return Wr(n,"GET","/v2/passwordPolicy",Br(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=6;class KL{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:qL,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new $L(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ih(this,{idToken:e}),i=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ln(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Ni(this));const t=e?Tt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GL(this),t=new KL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await XL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ps(n){return Tt(n)}class Jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZI(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(n){Uh=n}function zA(n){return Uh.loadJS(n)}function JL(){return Uh.recaptchaEnterpriseScript}function eM(){return Uh.gapiScript}function tM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rM="recaptcha-enterprise",jA="NO_RECAPTCHA";class sM{constructor(e){this.type=rM,this.auth=Ps(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{DL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new OL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function r(s,a,o){const l=window.grecaptcha;Gb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(jA)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(o=>{if(!t&&Gb(window.grecaptcha))r(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=JL();l.length!==0&&(l+=o),zA(l).then(()=>{r(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function e0(n,e,t,i=!1,r=!1){const s=new sM(n);let a;if(r)a=jA;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const o=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tp(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await e0(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await e0(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n,e){const t=fm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(ys(s,e??{}))return r;ii(r,"already-initialized")}return t.initialize({options:e})}function oM(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lM(n,e,t){const i=Ps(n);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=HA(e),{host:a,port:o}=cM(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(ys(c,i.config.emulator)&&ys(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Va(a)?(M_(`${s}//${a}${l}`),O_("Auth",!0)):uM()}function HA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cM(n){const e=HA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:t0(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:t0(a)}}}function t0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function hM(n,e){return Wr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(n,e){return Gl(n,"POST","/v1/accounts:signInWithPassword",Br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n,e){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",Br(n,e))}async function gM(n,e){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",Br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends nv{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Sl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Sl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,t,"signInWithPassword",dM);case"emailLink":return fM(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,i,"signUpPassword",hM);case"emailLink":return gM(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(n,e){return Gl(n,"POST","/v1/accounts:signInWithIdp",Br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="http://localhost";class _s extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=Qm(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new _s(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return fa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,fa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}buildRequest(){const e={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vM(n){const e=bo(wo(n)).link,t=e?bo(wo(e)).deep_link_id:null,i=bo(wo(n)).deep_link_id;return(i?bo(wo(i)).link:null)||i||t||e||n}class iv{constructor(e){var t,i,r,s,a,o;const l=bo(wo(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=mM((r=l.mode)!==null&&r!==void 0?r:null);xe(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=vM(e);try{return new iv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,t){return Sl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=iv.parseLink(t);return xe(i,"argument-error"),Sl._fromEmailAndCode(e,i.code,i.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends BA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends ql{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _s._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return rr.credential(t,i)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends ql{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends ql{constructor(){super("twitter.com")}static credential(e,t){return _s._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ar.credential(t,i)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(n,e){return Gl(n,"POST","/v1/accounts:signUp",Br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Qn._fromIdTokenResponse(e,i,r),a=n0(i);return new ks({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=n0(i);return new ks({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function n0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Xi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new sh(e,t,i,r)}}function WA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(n,s,e,i):s})}async function xM(n,e,t=!1){const i=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ks._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,e,t=!1){const{auth:i}=n;if(Ln(i.app))return Promise.reject(Ni(i));const r="reauthenticate";try{const s=await Al(n,WA(i,r,e,n),t);xe(s.idToken,i,"internal-error");const a=ev(s.idToken);xe(a,i,"internal-error");const{sub:o}=a;return xe(n.uid===o,i,"user-mismatch"),ks._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ii(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(n,e,t=!1){if(Ln(n.app))return Promise.reject(Ni(n));const i="signIn",r=await WA(n,i,e),s=await ks._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function wM(n,e){return XA(Ps(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n){const e=Ps(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _M(n,e,t){if(Ln(n.app))return Promise.reject(Ni(n));const i=Ps(n),a=await tp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&UA(n),l}),o=await ks._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function kM(n,e,t){return Ln(n.app)?Promise.reject(Ni(n)):wM(Tt(n),Xa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UA(n),i})}function AM(n,e,t,i){return Tt(n).onIdTokenChanged(e,t,i)}function SM(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function CM(n,e,t,i){return Tt(n).onAuthStateChanged(e,t,i)}function EM(n){return Tt(n).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=1e3,IM=10;class $A extends YA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);YL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,IM):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$A.type="LOCAL";const PM=$A;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends YA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GA.type="SESSION";const qA=GA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async c=>c(t.origin,s)),l=await RM(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=rv("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function LM(n){vi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function MM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DM(){return KA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebaseLocalStorageDb",FM=1,oh="firebaseLocalStorage",ZA="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $h(n,e){return n.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function VM(){const n=indexedDB.deleteDatabase(QA);return new Kl(n).toPromise()}function np(){const n=indexedDB.open(QA,FM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(oh,{keyPath:ZA})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(oh)?e(i):(i.close(),await VM(),e(await np()))})})}async function i0(n,e,t){const i=$h(n,!0).put({[ZA]:e,value:t});return new Kl(i).toPromise()}async function zM(n,e){const t=$h(n,!1).get(e),i=await new Kl(t).toPromise();return i===void 0?null:i.value}function r0(n,e){const t=$h(n,!0).delete(e);return new Kl(t).toPromise()}const jM=800,HM=3;class JA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>HM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(DM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MM(),!this.activeServiceWorker)return;this.sender=new NM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await i0(e,ah,"1"),await r0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>zM(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>r0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=$h(r,!1).getAll();return new Kl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JA.type="LOCAL";const BM=JA;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(n,e){return e?Ii(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XM(n){return XA(n.auth,new sv(n),n.bypassAuthState)}function UM(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),bM(t,new sv(n),n.bypassAuthState)}async function YM(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),xM(t,new sv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XM;case"linkViaPopup":case"linkViaRedirect":return YM;case"reauthViaPopup":case"reauthViaRedirect":return UM;default:ii(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new $l(2e3,1e4);class ta extends eS{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$M.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="pendingRedirect",hu=new Map;class qM extends eS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hu.get(this.auth._key());if(!e){try{const i=await KM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hu.set(this.auth._key(),e)}return this.bypassAuthState||hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KM(n,e){const t=JM(e),i=ZM(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function QM(n,e){hu.set(n._key(),e)}function ZM(n){return Ii(n._redirectPersistence)}function JM(n){return uu(GM,n.config.apiKey,n.name)}async function eO(n,e,t=!1){if(Ln(n.app))return Promise.reject(Ni(n));const i=Ps(n),r=WM(i,e),a=await new qM(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=10*60*1e3;class nO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!tS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(mi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tO&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(n,e={}){return Wr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aO=/^https?/;async function oO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rO(n);for(const t of e)try{if(lO(t))return}catch{}ii(n,"unauthorized-domain")}function lO(n){const e=Jg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!aO.test(t))return!1;if(sO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new $l(3e4,6e4);function a0(){const n=vi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uO(n){return new Promise((e,t)=>{var i,r,s;function a(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),t(mi(n,"network-request-failed"))},timeout:cO.get()})}if(!((r=(i=vi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=vi().gapi)===null||s===void 0)&&s.load)a();else{const o=tM("iframefcb");return vi()[o]=()=>{gapi.load?a():t(mi(n,"network-request-failed"))},zA(`${eM()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw du=null,e})}let du=null;function hO(n){return du=du||uO(n),du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new $l(5e3,15e3),fO="__/auth/iframe",gO="emulator/auth/iframe",pO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jm(e,gO):`https://${n.config.authDomain}/${fO}`,i={apiKey:e.apiKey,appName:n.name,v:za},r=mO.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Vl(i).slice(1)}`}async function yO(n){const e=await hO(n),t=vi().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:vO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=mi(n,"network-request-failed"),o=vi().setTimeout(()=>{s(a)},dO.get());function l(){vi().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bO=500,wO=600,_O="_blank",kO="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AO(n,e,t,i=bO,r=wO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},xO),{width:i.toString(),height:r.toString(),top:s,left:a}),c=Jt().toLowerCase();t&&(o=NA(c)?_O:t),PA(c)&&(e=e||kO,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[g,p])=>`${d}${g}=${p},`,"");if(UL(c)&&o!=="_self")return SO(e||"",o),new o0(null);const h=window.open(e||"",o,u);xe(h,n,"popup-blocked");try{h.focus()}catch{}return new o0(h)}function SO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="__/auth/handler",EO="emulator/auth/handler",TO=encodeURIComponent("fac");async function l0(n,e,t,i,r,s){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:za,eventId:r};if(e instanceof BA){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",QI(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))a[u]=h}if(e instanceof ql){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(a.scopes=u.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await n._getAppCheckToken(),c=l?`#${TO}=${encodeURIComponent(l)}`:"";return`${IO(n)}?${Vl(o).slice(1)}${c}`}function IO({config:n}){return n.emulator?Jm(n,EO):`https://${n.authDomain}/${CO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qA,this._completeRedirectFn=eO,this._overrideRedirectResult=QM}async _openPopup(e,t,i,r){var s;Hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await l0(e,t,i,Jg(),r);return AO(e,a,rv())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await l0(e,t,i,Jg(),r);return LM(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Hi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await yO(e),i=new nO(e);return t.register("authEvent",r=>(xe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mf,{type:mf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[mf];a!==void 0&&t(!!a),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FA()||RA()||tv()}}const RO=PO;var c0="@firebase/auth",u0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MO(n){Aa(new xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;xe(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(n)},c=new QL(i,r,s,l);return oM(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Aa(new xs("auth-internal",e=>{const t=Ps(e.getProvider("auth").getImmediate());return(i=>new NO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(c0,u0,LO(n)),_r(c0,u0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=5*60,DO=L_("authIdTokenMaxAge")||OO;let h0=null;const FO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>DO)return;const r=t==null?void 0:t.token;h0!==r&&(h0=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function VO(n=z_()){const e=fm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aM(n,{popupRedirectResolver:RO,persistence:[BM,PM,qA]}),i=L_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=FO(s.toString());SM(t,a,()=>a(t.currentUser)),AM(t,o=>a(o))}}const r=R_("auth");return r&&lM(t,`http://${r}`),t}function zO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=mi("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",zO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MO("Browser");const nS=Z.createContext(null);function d0(n){const e=String(n||"").trim();return e?e.includes("@")?e.toLowerCase():e.toLowerCase()+"@example.com":""}async function f0(){try{const e=await(await fetch("https://api.ipify.org?format=json")).json();return e&&e.ip||""}catch{return""}}function jO({children:n}){const e=Z.useMemo(()=>VO(xi),[]),t=Z.useMemo(()=>Yi(xi),[]),[i,r]=Z.useState(null),[s,a]=Z.useState(null),[o,l]=Z.useState(!0);Z.useEffect(()=>CM(e,async g=>{if(r(g),g)try{const p=Dt(t,"Users",g.uid),m=await th(p),x=m.exists()?m.data()||{}:{},v=await f0(),y={...x,lastVisit:lu(),username:x.username||(g.email?String(g.email).split("@")[0]:""),ip:v||x.ip||""};await li(p,y,{merge:!0}),a(y)}catch{a(null)}else a(null);l(!1)}),[e,t]);const c=Z.useCallback(async(g,p)=>{await kM(e,d0(g),p)},[e]),u=Z.useCallback(async(g,p)=>{const m=String(g||"").trim(),x=d0(m),v=x.split("@")[0];if(!x)throw new Error("Enter a username or email.");const y=await _M(e,x,p),b=Dt(t,"Users",y.user.uid);await li(b,{username:v,ip:await f0(),lastVisit:lu(),canEdit:!1,createdAt:lu()},{merge:!0})},[e,t]),h=Z.useCallback(async()=>{await EM(e)},[e]),d=Z.useMemo(()=>({user:i,profile:s,loading:o,canEdit:!!(s&&s.canEdit===!0),signIn:c,signUp:u,signOut:h}),[i,s,o,c,u,h]);return I.jsx(nS.Provider,{value:d,children:n})}function av(){const n=Z.useContext(nS);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function HO({lang:n,cat:e,setName:t}){const i=Z.useMemo(()=>Yi(xi),[]),[r,s]=Z.useState([]),[a,o]=Z.useState(!1);return Z.useEffect(()=>{if(!n||!e||!t){s([]);return}async function l(){o(!0);try{const c=await At(sn(i,"Pokemon Packs",n,e,t,"Cards")),u=[];c.forEach(h=>u.push({id:h.id,data:h.data()||{}})),u.sort((h,d)=>{const g=Number(h.data.Number||0),p=Number(d.data.Number||0);return Number.isFinite(g)&&Number.isFinite(p)&&g!==p?g-p:String(h.id||"").localeCompare(String(d.id||""))}),s(u)}finally{o(!1)}}l()},[i,n,e,t]),!n||!e||!t?I.jsx("div",{className:"small muted",children:"Select a set."}):a?I.jsx("div",{className:"small muted",children:"Loading"}):r.length===0?I.jsx("div",{className:"small muted",children:"No cards."}):I.jsx("div",{style:{overflow:"auto"},children:I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"#"}),I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Printing"}),I.jsx("th",{children:"Owned"}),I.jsx("th",{children:"Cost"}),I.jsx("th",{children:"Location"})]})}),I.jsx("tbody",{children:r.map(l=>{const c=l.data||{},u=c.Name||l.id,h=c["Picture Link"]||c.Image||"";return I.jsxs("tr",{children:[I.jsx("td",{children:Number.isFinite(c.Number)?c.Number:c.Number||""}),I.jsxs("td",{children:[I.jsx("div",{className:"thumb-wrap",children:h?I.jsx("img",{className:"card-thumb",src:h,alt:""}):null}),u]}),I.jsx("td",{children:c.Printing||""}),I.jsx("td",{children:Number.isFinite(c["Amount Owned"])?c["Amount Owned"]:c["Amount Owned"]||0}),I.jsx("td",{children:Number.isFinite(c.Cost)?c.Cost:c.Cost||0}),I.jsx("td",{children:c.Location||""})]},l.id)})})]})})}function BO({lang:n,cat:e,setName:t}){const i=Z.useMemo(()=>Yi(xi),[]),[r,s]=Z.useState([]),[a,o]=Z.useState(!1);return Z.useEffect(()=>{if(!n||!e||!t){s([]);return}async function l(){o(!0);try{const c=await At(sn(i,"Pokemon Packs",n,e,t,"Sealed")),u=[];c.forEach(h=>u.push({id:h.id,data:h.data()||{}})),u.sort((h,d)=>String(h.id||"").localeCompare(String(d.id||""))),s(u)}finally{o(!1)}}l()},[i,n,e,t]),!n||!e||!t?I.jsx("div",{className:"small muted",children:"Select a set."}):a?I.jsx("div",{className:"small muted",children:"Loading"}):r.length===0?I.jsx("div",{className:"small muted",children:"No sealed items."}):I.jsx("div",{style:{overflow:"auto"},children:I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Owned"}),I.jsx("th",{children:"Cost"}),I.jsx("th",{children:"Location"})]})}),I.jsx("tbody",{children:r.map(l=>{const c=l.data||{};return I.jsxs("tr",{children:[I.jsxs("td",{children:[I.jsx("div",{className:"thumb-wrap",children:c.Image||c["Picture Link"]?I.jsx("img",{className:"card-thumb",src:c.Image||c["Picture Link"],alt:""}):null}),l.id]}),I.jsx("td",{children:Number.isFinite(c["Amount Owned"])?c["Amount Owned"]:c["Amount Owned"]||0}),I.jsx("td",{children:Number.isFinite(c.Cost)?c.Cost:c.Cost||0}),I.jsx("td",{children:c.Location||""})]},l.id)})})]})})}function WO({open:n,onClose:e,lang:t,cat:i,setName:r,defaultView:s="Cards",onApplied:a}){const o=Z.useMemo(()=>Yi(xi),[]),[l,c]=Z.useState(s),[u,h]=Z.useState([{id:1,amount:"1"}]),[d,g]=Z.useState({byNumPrint:new Map,byNum:new Map}),[p,m]=Z.useState([]);Z.useEffect(()=>{n&&c(s)},[n,s]),Z.useEffect(()=>{if(n)if(l==="Cards"){const b=Array.from({length:10},(C,S)=>({id:S+1,amount:"1"}));h(b)}else h([{id:1,amount:"1"}])},[n,l]),Z.useEffect(()=>{async function b(){if(!(!n||!t||!i||!r)){try{const C=await At(sn(o,"Pokemon Packs",t,i,r,"Cards")),S=new Map,R=new Map;C.forEach(k=>{const w=k.data()||{},A=Number.parseInt(String(w.Number??0),10)||0,T=x(String(w.Printing||"Normal"));if(A>0){S.set(`${A}|${T}`,k.id);const P=R.get(A)||[];P.push(k.id),R.set(A,P)}}),g({byNumPrint:S,byNum:R})}catch{}try{const C=await At(sn(o,"Pokemon Packs",t,i,r,"Sealed")),S=[];C.forEach(R=>{R.id.startsWith("_")||S.push(R.id)}),S.sort((R,k)=>R.localeCompare(k)),m(S)}catch{}}}b()},[n,o,t,i,r]);const x=b=>{const C=String(b||"").toLowerCase();return C.includes("reverse")?"reverse":C.includes("holo")?"holo":"normal"},v=(b,C)=>h(S=>S.map(R=>R.id===b?{...R,...C}:R));async function y(){if(!t||!i||!r){alert("Select a set first.");return}const b=u.map(A=>l==="Cards"?{type:"card",number:Number.parseInt(String(A.number||"").trim(),10)||0,print:String(A.print||"Normal").trim(),amount:Number.parseInt(String(A.amount??"1").trim(),10)||1,location:String(A.location||"").trim()}:{type:"sealed",sealedName:String(A.sealedName||"").trim(),amount:Number.parseInt(String(A.amount??"1").trim(),10)||1,location:String(A.location||"").trim()}).filter(A=>A.type==="card"?A.number>0:A.sealedName);if(b.length===0){alert("Add at least one row.");return}const C=df(o),S=[];let R=0;const k=()=>{S.push(C.commit())},w=[];for(const A of b){if(A.type==="card"){const T=`${A.number}|${x(A.print)}`;let P=d.byNumPrint.get(T);if(!P){const V=d.byNum.get(A.number)||[];V.length===1&&(P=V[0])}if(!P){w.push(`#${A.number} (${A.print||"Normal"})`);continue}const L=Dt(o,"Pokemon Packs",t,i,r,"Cards",P),N={"Amount Owned":A.amount};A.location&&(N.Location=A.location),C.set(L,N,{merge:!0})}else{const T=Dt(o,"Pokemon Packs",t,i,r,"Sealed",A.sealedName),P={"Amount Owned":A.amount};A.location&&(P.Location=A.location),C.set(T,P,{merge:!0})}R++,R>=450&&(k(),R=0)}R>0&&S.push(C.commit());try{await Promise.all(S),w.length&&alert(`Some cards were not found by Number/Printing and were skipped:
`+w.join(`
`));const A=lu();if(b.some(T=>T.type==="card")){const T=Dt(sn(o,"CardLogs"));await df(o).set(T,{time:A,items:b.filter(P=>P.type==="card").map(P=>({number:P.number,print:P.print,amount:P.amount,location:P.location,set:`${i} / ${r}`}))}).commit()}if(b.some(T=>T.type==="sealed")){const T=Dt(sn(o,"SealedLogs"));await df(o).set(T,{time:A,items:b.filter(P=>P.type==="sealed").map(P=>({sealedName:P.sealedName,amount:P.amount,location:P.location}))}).commit()}a&&a(),e()}catch(A){alert("Update failed: "+(A&&A.message?A.message:String(A)))}}return n?I.jsx("div",{className:"modal-backdrop",children:I.jsxs("div",{className:"modal-panel",children:[I.jsxs("div",{className:"modal-header",children:[I.jsxs("div",{className:"chip",children:[i," / ",r," / ",l]}),I.jsx("button",{className:"btn ghost small",onClick:e,style:{padding:"6px 8px"},children:"Close"})]}),I.jsx("div",{className:"modal-body",children:I.jsx("div",{className:"space-top",children:l==="Cards"?I.jsxs("div",{className:"quick-list",children:[I.jsxs("div",{className:"quick-cards-header",children:[I.jsx("div",{children:"Number"}),I.jsx("div",{children:"Printing"}),I.jsx("div",{children:"Amount"}),I.jsx("div",{children:"Location"})]}),u.map(b=>I.jsxs("div",{className:"quick-cards-row",children:[I.jsx("input",{placeholder:"#",onChange:C=>v(b.id,{number:C.target.value})}),I.jsxs("select",{defaultValue:"Normal",onChange:C=>v(b.id,{print:C.target.value}),children:[I.jsx("option",{children:"Normal"}),I.jsx("option",{children:"Reverse Holofoil"}),I.jsx("option",{children:"Holofoil"})]}),I.jsx("input",{placeholder:"1",defaultValue:"1",onChange:C=>v(b.id,{amount:C.target.value})}),I.jsx("input",{placeholder:"optional",onChange:C=>v(b.id,{location:C.target.value})})]},b.id))]}):I.jsxs("div",{className:"quick-list",children:[I.jsxs("div",{className:"quick-sealed-header",children:[I.jsx("div",{children:"Product"}),I.jsx("div",{children:"Amount"}),I.jsx("div",{children:"Location"})]}),u.map(b=>I.jsxs("div",{className:"quick-sealed-row",children:[I.jsxs("select",{defaultValue:"",onChange:C=>v(b.id,{sealedName:C.target.value}),children:[I.jsx("option",{value:"",disabled:!0,children:"Select product"}),p.map(C=>I.jsx("option",{value:C,children:C},C))]}),I.jsx("input",{placeholder:"1",defaultValue:"1",onChange:C=>v(b.id,{amount:C.target.value})}),I.jsx("input",{placeholder:"optional",onChange:C=>v(b.id,{location:C.target.value})})]},b.id))]})})}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn secondary",onClick:e,children:"Cancel"}),I.jsx("button",{className:"btn",onClick:y,children:"Apply Updates"})]})]})}):null}function XO(n){const e=String(n||"").split(/\r?\n/).map(i=>i.trim()).filter(Boolean),t=[];for(const i of e){const r=i.split(",").map(s=>s.trim());if(r.length>=2){const[s,a,o,l]=r;t.push({name:s,number:Number.parseInt(a,10)||0,cost:Number.parseFloat(o)||0,image:l||""})}}return t}function UO({lang:n,cat:e,setName:t,canEdit:i,onImported:r}){const s=Yi(xi),a=Z.useRef(null),[o,l]=Z.useState(!1);async function c(u){if(!i)return;if(!n||!e||!t){alert("Select a set first.");return}const h=a.current&&a.current.files&&a.current.files[0];if(!h){alert("Choose a file first.");return}l(!0);try{const d=await h.text();let g=[];if(/\.json$/i.test(h.name))try{const m=JSON.parse(d);Array.isArray(m)&&(g=m.map(x=>({name:x.name||x.cardName||x.title||"",number:Number.parseInt(String(x.number||x.no||0),10)||0,cost:Number.parseFloat(String(x.cost||x.price||0))||0,image:x.image||x.photo||x.img||""})).filter(x=>x.name))}catch{}else g=XO(d);if(g.length===0){alert("No items parsed.");return}let p=0;for(const m of g){const x=Dt(s,"Pokemon Packs",n,e,t,"Cards",m.name),v={};(u==="all"||u==="prices")&&(v.Cost=m.cost||0),(u==="all"||u==="photos")&&(v.Image=m.image||""),v.Number=m.number||0,await li(x,v,{merge:!0}),p++,p%200===0&&await new Promise(y=>setTimeout(y,5))}r&&r(),alert(`Imported ${p} items (${u}).`)}catch(d){alert("Import failed: "+(d&&d.message?d.message:String(d)))}finally{l(!1)}}return!i||!n||!e||!t?null:I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:I.jsxs("div",{className:"small muted",children:["Import into ",e," / ",t," / Cards"]})}),I.jsxs("div",{className:"small muted",children:["Destination: Pokemon Packs / ",n," / ",e," / ",t," / Cards"]}),I.jsx("div",{className:"stack space-top",children:I.jsx("input",{type:"file",ref:a,accept:".txt,.json,.csv,application/json,text/plain"})}),I.jsxs("div",{className:"stack space-top",children:[I.jsx("button",{className:"btn",disabled:o,onClick:()=>c("all"),children:"Import All"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>c("photos"),children:"Update Photos Only"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>c("prices"),children:"Update Prices Only"})]})]})}function YO(n){const e=String(n||"").split(/\r?\n/).map(i=>i.trim()).filter(Boolean),t=[];for(const i of e){const r=i.split(",").map(s=>s.trim());if(r.length>=2){const[s,a,o]=r;t.push({name:s,cost:Number.parseFloat(a)||0,image:o||""})}}return t}function $O({lang:n,cat:e,setName:t,canEdit:i,onImported:r}){const s=Yi(xi),a=Z.useRef(null),[o,l]=Z.useState(!1);async function c(u){if(!i)return;if(!n||!e||!t){alert("Select a set first.");return}const h=a.current&&a.current.files&&a.current.files[0];if(!h){alert("Choose a file first.");return}l(!0);try{const d=await h.text();let g=[];if(/\.json$/i.test(h.name))try{const m=JSON.parse(d);Array.isArray(m)&&(g=m.map(x=>({name:x.name||x.title||"",cost:Number.parseFloat(String(x.cost||x.price||0))||0,image:x.image||x.photo||x.img||""})).filter(x=>x.name))}catch{}else g=YO(d);if(g.length===0){alert("No items parsed.");return}let p=0;for(const m of g){const x=Dt(s,"Pokemon Packs",n,e,t,"Sealed",m.name),v={};(u==="all"||u==="prices")&&(v.Cost=m.cost||0),(u==="all"||u==="photos")&&(v.Image=m.image||""),await li(x,v,{merge:!0}),p++,p%200===0&&await new Promise(y=>setTimeout(y,5))}r&&r(),alert(`Imported ${p} sealed items (${u}).`)}catch(d){alert("Import failed: "+(d&&d.message?d.message:String(d)))}finally{l(!1)}}return!i||!n||!e||!t?null:I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:I.jsxs("div",{className:"small muted",children:["Import into ",e," / ",t," / Sealed"]})}),I.jsxs("div",{className:"small muted",children:["Destination: Pokemon Packs / ",n," / ",e," / ",t," / Sealed"]}),I.jsx("div",{className:"stack space-top",children:I.jsx("input",{type:"file",ref:a,accept:".txt,.json,.csv,application/json,text/plain"})}),I.jsxs("div",{className:"stack space-top",children:[I.jsx("button",{className:"btn",disabled:o,onClick:()=>c("all"),children:"Import All"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>c("photos"),children:"Update Photos Only"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>c("prices"),children:"Update Prices Only"})]})]})}function GO(n){try{const e=document.cookie.split("; ").find(t=>t.startsWith(n+"="));return e?decodeURIComponent(e.split("=")[1]||""):null}catch{return null}}function qO(n,e,t=365){try{const i=new Date(Date.now()+t*24*60*60*1e3).toUTCString();document.cookie=`${n}=${encodeURIComponent(e)}; expires=${i}; path=/; SameSite=Lax`}catch{}}function KO(){try{const n=GO("db_open");if(!n)return{};const e=JSON.parse(n);return e&&typeof e=="object"?e:{}}catch{return{}}}function QO(n){try{qO("db_open",JSON.stringify(n),365)}catch{}}function vf(n){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Number(n)||0)}catch{return"$"+(Number(n).toFixed?Number(n).toFixed(2):String(n))}}async function go(n,e,t,i){let r=0,s=0,a=0;try{const o=await th(Dt(n,"Pokemon Packs",e,t,i)),l=o.exists()?o.data()||{}:{};a=Number(l.TotalPacksOpened||l["Packs Opened"]||l.PacksOpened||l["Opened Packs"]||0)||0}catch{}try{(await At(ur(n,"Cards"))).forEach(l=>{const c=l.data()||{},u=l.ref.path.split("/");if(u.length>=6&&u[0]==="Pokemon Packs"){const h=u[1],d=u[2],g=u[3];if(h===e&&d===t&&g===i){const p=Number(c["Amount Owned"]||c.AmountOwned||c.Owned||0)||0,m=Number(c.Cost||0)||0;r+=Math.max(0,p*m),s+=Math.max(0,p)}}})}catch{}try{(await At(ur(n,"Sealed"))).forEach(l=>{const c=l.data()||{},u=l.ref.path.split("/");if(u.length>=6&&u[0]==="Pokemon Packs"){const h=u[1],d=u[2],g=u[3];if(h===e&&d===t&&g===i){const p=Number(c["Amount Owned"]||c.AmountOwned||c.Owned||0)||0,m=Number(c.Cost||0)||0;r+=Math.max(0,p*m)}}})}catch{}return{totalValue:r,totalCardAmount:s,totalPacksOpened:a}}function ZO(){const n=Z.useMemo(()=>Yi(xi),[]),{canEdit:e}=av(),[t,i]=Z.useState({}),[r,s]=Z.useState({lang:"",cat:"",setName:""}),[a,o]=Z.useState(null),[l,c]=Z.useState(null),[u,h]=Z.useState(!1),[d,g]=Z.useState(!1),[p,m]=Z.useState(!1),[x,v]=Z.useState(()=>KO()),[y,b]=Z.useState(!1),[C,S]=Z.useState(!1),[R,k]=Z.useState(""),[w,A]=Z.useState({name:"",cards:"",totalCards:"",image:"",canCards:!1,canSealed:!1}),[T,P]=Z.useState("Overview"),[L,N]=Z.useState(!1),[V,H]=Z.useState(!1),[Y,q]=Z.useState([]),[F,U]=Z.useState([]),[$,J]=Z.useState(null);function oe(G){v(ne=>{const Ee={...ne,[G]:!ne[G]};return QO(Ee),Ee})}Z.useEffect(()=>{async function G(){h(!0);try{const ne=(ue,Ae,Te,st)=>(ue[Ae]=ue[Ae]||{},ue[Ae][Te]=ue[Ae][Te]||{},ue[Ae][Te][st]=ue[Ae][Te][st]||{hasCards:!1,hasSealed:!1},ue[Ae][Te][st]),Ee={};try{(await At(sn(n,"Pokemon Packs"))).forEach(Ae=>{const Te=Ae.id;/^_/.test(Te)||(Ee[Te]=Ee[Te]||{})})}catch{}(await At(ur(n,"Cards"))).forEach(ue=>{const Ae=ue.ref.path.split("/");if(Ae.length>=6&&Ae[0]==="Pokemon Packs"){const Te=Ae[1],st=Ae[2],ri=Ae[3];ne(Ee,Te,st,ri).hasCards=!0}}),(await At(ur(n,"Sealed"))).forEach(ue=>{const Ae=ue.ref.path.split("/");if(Ae.length>=6&&Ae[0]==="Pokemon Packs"){const Te=Ae[1],st=Ae[2],ri=Ae[3];ne(Ee,Te,st,ri).hasSealed=!0}}),i(Ee)}finally{h(!1)}}G()},[n]),Z.useEffect(()=>{if(!r.lang||!r.cat||!r.setName){o(null),c(null),q([]),U([]);return}g(!0),go(n,r.lang,r.cat,r.setName).then(o).finally(()=>g(!1)),m(!0),th(Dt(n,"Pokemon Packs",r.lang,r.cat,r.setName)).then(G=>c(G.exists()?G.data()||{}:null)).finally(()=>m(!1)),(async()=>{H(!0);try{const G=await At(sn(n,"Pokemon Packs",r.lang,r.cat,r.setName,"Cards")),ne=[];G.forEach(fe=>{const ue=fe.data()||{},Ae=ue.Name||fe.id,Te=Number(ue["Amount Owned"]||ue.AmountOwned||ue.Owned||0)||0,st=Number(ue.Cost||0)||0,ri=Math.max(0,Te*st),It=ue["Picture Link"]||ue.Image||"";ne.push({name:Ae,amount:Te,cost:st,total:ri,image:It})});const Ee=ne.slice().sort((fe,ue)=>ue.total-fe.total).slice(0,5),_e=ne.slice().sort((fe,ue)=>ue.amount-fe.amount||fe.name.localeCompare(ue.name)).slice(0,5);q(Ee),U(_e)}finally{H(!1)}})()},[n,r]);const ge=Z.useMemo(()=>Object.keys(t).sort((G,ne)=>G.localeCompare(ne)),[t]);async function pe(G,ne){if(!(r.lang&&r.cat&&r.setName))return;J(G==="CanImportCards"?"cards":"sealed");const Ee=Dt(n,"Pokemon Packs",r.lang,r.cat,r.setName);c(_e=>({..._e||{},[G]:!!ne}));try{await li(Ee,{[G]:!!ne},{merge:!0})}catch(_e){c(fe=>({...fe||{},[G]:!ne})),alert("Failed to update setting: "+(_e&&_e.message?_e.message:String(_e)))}finally{J(null)}}async function Me(){h(!0);try{const G=(fe,ue,Ae,Te)=>(fe[ue]=fe[ue]||{},fe[ue][Ae]=fe[ue][Ae]||{},fe[ue][Ae][Te]=fe[ue][Ae][Te]||{hasCards:!1,hasSealed:!1},fe[ue][Ae][Te]),ne={};try{(await At(sn(n,"Pokemon Packs"))).forEach(ue=>{const Ae=ue.id;/^_/.test(Ae)||(ne[Ae]=ne[Ae]||{})})}catch{}(await At(ur(n,"Cards"))).forEach(fe=>{const ue=fe.ref.path.split("/");if(ue.length>=6&&ue[0]==="Pokemon Packs"){const Ae=ue[1],Te=ue[2],st=ue[3];G(ne,Ae,Te,st).hasCards=!0}}),(await At(ur(n,"Sealed"))).forEach(fe=>{const ue=fe.ref.path.split("/");if(ue.length>=6&&ue[0]==="Pokemon Packs"){const Ae=ue[1],Te=ue[2],st=ue[3];G(ne,Ae,Te,st).hasSealed=!0}}),i(ne)}finally{h(!1)}}const[me,ye]=Z.useState([]),[se,ce]=Z.useState(!1),[we,Ce]=Z.useState({}),[it,Ve]=Z.useState({}),[Ze,vn]=Z.useState(!1);return Z.useEffect(()=>{if(ye([]),!(r.lang&&r.cat)||r.setName)return;async function G(){ce(!0);try{const ne=await At(sn(n,"Pokemon Packs",r.lang,r.cat)),Ee=[];ne.forEach(_e=>{const fe=_e.id;/^_/.test(fe)||Ee.push({name:fe,data:_e.data()||{}})}),Ee.sort((_e,fe)=>_e.name.localeCompare(fe.name)),ye(Ee)}finally{ce(!1)}}G()},[n,r.lang,r.cat,r.setName]),Z.useEffect(()=>{if(!(r.lang&&r.cat)||r.setName)return;if(me.length===0){Ce({}),Ve({});return}async function G(){vn(!0);try{const ne=await Promise.all(me.map(async fe=>{const[ue,Ae]=await Promise.all([th(Dt(n,"Pokemon Packs",r.lang,r.cat,fe.name)),go(n,r.lang,r.cat,fe.name)]);return{name:fe.name,meta:ue.exists()?ue.data()||{}:{},aggs:Ae}})),Ee={},_e={};ne.forEach(fe=>{Ee[fe.name]=fe.aggs,_e[fe.name]=fe.meta}),Ce(Ee),Ve(_e)}finally{vn(!1)}}G()},[n,r.lang,r.cat,r.setName,me]),I.jsxs("div",{className:"db-layout",children:[I.jsxs("div",{className:"card",style:{padding:0},children:[I.jsxs("div",{className:"row",style:{padding:"10px 12px",justifyContent:"space-between"},children:[I.jsx("div",{className:"small muted",children:"Structure"}),I.jsx("div",{className:"stack",children:I.jsx("button",{className:"btn ghost small",onClick:Me,children:"Refresh"})})]}),I.jsx("div",{style:{padding:"4px 6px"},children:u?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("ul",{className:"tree",children:I.jsxs("li",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe("root"),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",children:"Pokemon Packs"})]}),I.jsx("div",{className:"tree-children",style:{display:x.root?"":"none"},children:ge.length===0?I.jsx("div",{className:"small muted",style:{padding:"6px 8px"},children:"No data found."}):ge.map(G=>{const ne=Object.keys(t[G]||{}).sort((_e,fe)=>_e.localeCompare(fe)),Ee=`lang:${G}`;return I.jsxs("div",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe(Ee),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",onClick:_e=>{_e.stopPropagation(),s({lang:G,cat:"",setName:""})},children:G})]}),I.jsx("div",{className:"tree-children",style:{display:x[Ee]?"":"none"},children:ne.length===0?I.jsx("div",{className:"small muted",style:{padding:"6px 8px"},children:"No categories."}):ne.map(_e=>{const fe=t[G][_e]||{},ue=Object.keys(fe).filter(Te=>!/^_/.test(Te)).sort((Te,st)=>Te.localeCompare(st)),Ae=`cat:${G}:${_e}`;return I.jsxs("div",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe(Ae),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",onClick:Te=>{Te.stopPropagation(),s({lang:G,cat:_e,setName:""})},children:_e})]}),I.jsx("div",{className:"tree-children",style:{display:x[Ae]?"":"none"},children:ue.length===0?I.jsx("div",{className:"small muted",style:{padding:"6px 8px"},children:"No sets."}):ue.map(Te=>{const st=`set:${G}:${_e}:${Te}`;return fe[Te],I.jsxs("div",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe(st),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",onClick:ri=>{ri.stopPropagation(),s({lang:G,cat:_e,setName:Te}),P("Overview")},children:Te})]}),I.jsxs("div",{className:"tree-children",style:{display:x[st]?"":"none"},children:[I.jsx("div",{className:"tree-node",children:I.jsx("div",{className:"tree-row",onClick:()=>{s({lang:G,cat:_e,setName:Te}),P("Cards")},children:I.jsx("div",{className:"tree-label",children:"Cards"})})}),I.jsx("div",{className:"tree-node",children:I.jsx("div",{className:"tree-row",onClick:()=>{s({lang:G,cat:_e,setName:Te}),P("Sealed")},children:I.jsx("div",{className:"tree-label",children:"Sealed"})})})]})]},Te)})})]},_e)})})]},G)})})]})})})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,minWidth:0},children:[e&&I.jsx("div",{className:"row",children:I.jsxs("div",{className:"stack",children:[r.lang&&!r.cat&&!r.setName?I.jsx("button",{className:"btn ghost small",onClick:()=>b(!0),children:"Add Category"}):null,r.lang&&r.cat&&!r.setName?I.jsx("button",{className:"btn small",onClick:()=>S(!0),children:"Add Set"}):null]})}),null,r.lang?r.cat?r.setName?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"stack",children:e&&T!=="Overview"?I.jsx("button",{className:"btn small",onClick:()=>N(!0),title:"Quickly add cards and update location",children:"Edit Card / Sealed Amount"}):null}),e&&T==="Cards"&&l&&l.CanImportCards?I.jsx("div",{className:"space-top",children:I.jsx(UO,{lang:r.lang,cat:r.cat,setName:r.setName,canEdit:e,onImported:()=>{T==="Overview"&&go(n,r.lang,r.cat,r.setName).then(o)}})}):null,e&&T==="Sealed"&&l&&l.CanImportSealed?I.jsx("div",{className:"space-top",children:I.jsx($O,{lang:r.lang,cat:r.cat,setName:r.setName,canEdit:e,onImported:()=>{T==="Overview"&&go(n,r.lang,r.cat,r.setName).then(o)}})}):null,I.jsx("div",{id:"dbSetDetails",children:T==="Overview"?d?I.jsx("div",{className:"small muted",children:"Loading set"}):a?I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"set-overview",children:[I.jsxs("ul",{className:"kv-list",children:[I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Language"}),I.jsx("span",{className:"mono",children:r.lang})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Category"}),I.jsx("span",{className:"mono",children:r.cat})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Set"}),I.jsx("span",{className:"mono",children:r.setName})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Cards"}),I.jsx("span",{className:"mono",children:l&&(Number.isFinite(l.Cards),l.Cards)||F.reduce((G,ne)=>G,0)||0})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Cards"}),I.jsx("span",{className:"mono",children:Number.isFinite(a.totalCardAmount)?a.totalCardAmount:0})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Value"}),I.jsx("span",{className:"mono",children:vf(a.totalValue)})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Amount of Cards"}),I.jsx("span",{className:"mono",children:a.totalCardAmount})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Packs Opened"}),I.jsx("span",{className:"mono",children:a.totalPacksOpened})]}),p?null:I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Can Import Cards"}),I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:!!(l&&l.CanImportCards),onChange:G=>pe("CanImportCards",G.target.checked),disabled:$==="cards"}),I.jsx("span",{className:"slider"})]})]}),p?null:I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Can Import Sealed"}),I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:!!(l&&l.CanImportSealed),onChange:G=>pe("CanImportSealed",G.target.checked),disabled:$==="sealed"}),I.jsx("span",{className:"slider"})]})]})]}),l&&l.image?I.jsx("img",{className:"set-image",src:l.image,alt:""}):null]}),I.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",marginTop:12},children:[I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"small muted",children:"Top 5 by Total Value"}),I.jsx("div",{className:"divider"}),V?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("div",{style:{display:"grid",gap:12},children:Y.map(G=>I.jsxs("div",{className:"row",style:{alignItems:"center"},children:[I.jsx("div",{className:"thumb-wrap",children:G.image?I.jsx("img",{className:"card-thumb",src:G.image,alt:""}):null}),I.jsx("div",{style:{flex:1},children:G.name}),I.jsxs("div",{className:"mono",children:["x",G.amount," ",vf(G.total)]})]},G.name))})]}),I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"small muted",children:"Top 5 by Quantity"}),I.jsx("div",{className:"divider"}),V?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("div",{style:{display:"grid",gap:12},children:F.map(G=>I.jsxs("div",{className:"row",style:{alignItems:"center"},children:[I.jsx("div",{className:"thumb-wrap",children:G.image?I.jsx("img",{className:"card-thumb",src:G.image,alt:""}):null}),I.jsx("div",{style:{flex:1},children:G.name}),I.jsxs("div",{className:"mono",children:["x",G.amount]})]},G.name))})]})]})]}):I.jsx("div",{className:"small muted",children:"No data."}):T==="Cards"?I.jsx("div",{className:"card",children:I.jsx(HO,{lang:r.lang,cat:r.cat,setName:r.setName})}):T==="Sealed"?I.jsx("div",{className:"card",children:I.jsx(BO,{lang:r.lang,cat:r.cat,setName:r.setName})}):null})]}):I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"small muted",children:["Sets in ",r.cat]}),se||Ze?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",gap:16,marginTop:8},children:me.map(G=>{const ne=it[G.name]||G.data||{},Ee=we[G.name]||{totalValue:0,totalCardAmount:0,totalPacksOpened:0};return I.jsxs("div",{className:"card",style:{cursor:"pointer"},onClick:()=>s(_e=>({..._e,setName:G.name})),children:[I.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[I.jsx("div",{className:"section-title",style:{marginBottom:0},children:G.name}),ne.image?I.jsx("img",{className:"set-image",src:ne.image,alt:""}):I.jsx("div",{className:"set-image"})]}),I.jsx("div",{className:"divider"}),I.jsxs("ul",{className:"kv-list",children:[I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Cards"}),I.jsx("span",{className:"mono",children:Ee.totalCardAmount})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Cards"}),I.jsx("span",{className:"mono",children:Number.isFinite(ne["Total Cards"])?ne["Total Cards"]:0})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Value"}),I.jsx("span",{className:"mono",children:vf(Ee.totalValue)})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Amount of Cards"}),I.jsx("span",{className:"mono",children:Ee.totalCardAmount})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Packs Opened"}),I.jsx("span",{className:"mono",children:Ee.totalPacksOpened})]})]})]},G.name)})})]}):I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{justifyContent:"flex-start",alignItems:"center"},children:[I.jsx("div",{className:"small muted",style:{flex:1},children:"Categories"}),e?I.jsx("button",{className:"btn",onClick:()=>b(!0),children:"Add Category"}):null]}),I.jsx("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",gap:16,marginTop:8},children:Object.keys(t[r.lang]||{}).length===0?I.jsx("div",{className:"small muted",children:"No categories."}):Object.keys(t[r.lang]||{}).sort((G,ne)=>G.localeCompare(ne)).map(G=>{var _e;const ne=((_e=t[r.lang])==null?void 0:_e[G])||{},Ee=Object.keys(ne).filter(fe=>!/^_/.test(fe)).sort((fe,ue)=>fe.localeCompare(ue));return I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:I.jsx("div",{className:"section-title",style:{marginBottom:0},children:G})}),I.jsx("ul",{style:{listStyle:"disc",paddingLeft:18,margin:0,marginTop:6},children:Ee.length===0?I.jsx("li",{className:"small muted",style:{listStyle:"none"},children:"No sets"}):Ee.map(fe=>I.jsx("li",{style:{cursor:"pointer"},onClick:()=>s(ue=>({...ue,cat:G,setName:fe})),children:fe},fe))})]},G)})})]}):I.jsx("div",{className:"card",children:I.jsx("div",{className:"small muted",children:"Select a language from the tree."})})]}),I.jsx(WO,{open:L,onClose:()=>N(!1),lang:r.lang,cat:r.cat,setName:r.setName,defaultView:T==="Sealed"?"Sealed":"Cards",onApplied:()=>{T==="Overview"&&go(n,r.lang,r.cat,r.setName).then(o)}}),y&&I.jsx("div",{className:"modal-backdrop",children:I.jsxs("div",{className:"modal-panel",children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("div",{className:"small",children:"Add Category"}),I.jsx("button",{className:"btn ghost small",onClick:()=>b(!1),children:"Close"})]}),I.jsxs("div",{className:"modal-body",children:[I.jsxs("div",{className:"small muted",children:["Language: ",r.lang||"English"]}),I.jsx("div",{className:"space-top",children:I.jsx("input",{placeholder:"Category name",value:R,onChange:G=>k(G.target.value),style:{padding:8,border:"1px solid #E2E8F0",borderRadius:8,width:"100%"}})})]}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn secondary",onClick:()=>b(!1),children:"Cancel"}),I.jsx("button",{className:"btn",onClick:async()=>{const G=String(R||"").trim();if(!G){alert("Enter category name.");return}try{const ne=r.lang||"English",Ee=Dt(n,"Pokemon Packs",ne,G,"_placeholder");await li(Ee,{hidden:!0},{merge:!0}),await li(Dt(n,"Pokemon Packs",ne,G,"_placeholder","Cards","_init"),{placeholder:!0},{merge:!0}),b(!1),k("");const _e={...t};_e[ne]=_e[ne]||{},_e[ne][G]=_e[ne][G]||{},i(_e)}catch(ne){alert("Create category failed: "+(ne&&ne.message?ne.message:String(ne)))}},children:"Create"})]})]})}),C&&I.jsx("div",{className:"modal-backdrop",children:I.jsxs("div",{className:"modal-panel",children:[I.jsxs("div",{className:"modal-header",children:[I.jsxs("div",{className:"chip",children:[r.lang||"English"," / ",r.cat||""]}),I.jsx("button",{className:"btn ghost small",onClick:()=>S(!1),children:"Close"})]}),I.jsx("div",{className:"modal-body",children:I.jsxs("div",{className:"form-grid",children:[I.jsx("div",{className:"form-label",children:"Set Name"}),I.jsx("input",{value:w.name,onChange:G=>A(ne=>({...ne,name:G.target.value})),placeholder:"e.g., Phantasmal Flames"}),I.jsx("div",{className:"form-label",children:"Cards"}),I.jsx("input",{type:"number",value:w.cards,onChange:G=>A(ne=>({...ne,cards:G.target.value})),placeholder:"0"}),I.jsx("div",{className:"form-label",children:"Total Cards"}),I.jsx("input",{type:"number",value:w.totalCards,onChange:G=>A(ne=>({...ne,totalCards:G.target.value})),placeholder:"0"}),I.jsx("div",{className:"form-label",children:"Image Link"}),I.jsx("input",{value:w.image,onChange:G=>A(ne=>({...ne,image:G.target.value})),placeholder:"https://"}),I.jsx("div",{className:"form-label",children:"Flags"}),I.jsxs("div",{className:"switch-row",children:[I.jsxs("div",{className:"toggle-row",children:[I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:w.canCards,onChange:G=>A(ne=>({...ne,canCards:G.target.checked}))}),I.jsx("span",{className:"slider"})]}),I.jsx("span",{className:"small",children:"Can Import Cards"})]}),I.jsxs("div",{className:"toggle-row",children:[I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:w.canSealed,onChange:G=>A(ne=>({...ne,canSealed:G.target.checked}))}),I.jsx("span",{className:"slider"})]}),I.jsx("span",{className:"small",children:"Can Import Sealed"})]})]})]})}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn secondary",onClick:()=>S(!1),children:"Cancel"}),I.jsx("button",{className:"btn",onClick:async()=>{const G=String(w.name||"").trim();if(!r.lang||!r.cat){alert("Select language and category first.");return}if(!G){alert("Enter set name.");return}try{const ne=Dt(n,"Pokemon Packs",r.lang,r.cat,G);await li(ne,{Cards:Number.parseInt(String(w.cards||"").trim(),10)||0,"Total Cards":Number.parseInt(String(w.totalCards||"").trim(),10)||0,image:String(w.image||""),CanImportCards:!!w.canCards,CanImportSealed:!!w.canSealed},{merge:!0}),await li(Dt(n,"Pokemon Packs",r.lang,r.cat,G,"Cards","_init"),{placeholder:!0},{merge:!0}),await li(Dt(n,"Pokemon Packs",r.lang,r.cat,G,"Sealed","_init"),{placeholder:!0},{merge:!0}),S(!1),A({name:"",cards:"",totalCards:"",image:"",canCards:!1,canSealed:!1});const Ee={...t};Ee[r.lang]=Ee[r.lang]||{},Ee[r.lang][r.cat]=Ee[r.lang][r.cat]||{},Ee[r.lang][r.cat][G]={hasCards:!0,hasSealed:!0},i(Ee),s(_e=>({..._e,setName:G}))}catch(ne){alert("Create failed: "+(ne&&ne.message?ne.message:String(ne)))}},children:"Create"})]})]})})]})}function JO(n){try{if(!n)return"";if(typeof n.toDate=="function")return n.toDate().toLocaleString();const e=new Date(n);return Number.isNaN(e.getTime())?"":e.toLocaleString()}catch{return""}}function eD(){const n=Z.useMemo(()=>Yi(xi),[]),[e,t]=Z.useState("card"),[i,r]=Z.useState([]),[s,a]=Z.useState(!1);async function o(){a(!0);try{const c=await At(So(sn(n,e==="sealed"?"SealedLogs":"CardLogs"),Co("time","desc"),vL(200))),u=[];c.forEach(h=>u.push({id:h.id,data:h.data()||{}})),r(u)}finally{a(!1)}}return Z.useEffect(()=>{o()},[e]),I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"logs-header",children:I.jsxs("div",{className:"logs-tabs",children:[I.jsx("button",{className:"tab-btn"+(e==="card"?" active":""),onClick:()=>t("card"),children:"Cards"}),I.jsx("button",{className:"tab-btn"+(e==="sealed"?" active":""),onClick:()=>t("sealed"),children:"Sealed"})]})}),I.jsx("div",{className:"divider"}),s?I.jsx("div",{className:"small muted mono",children:"Loading logs"}):i.length===0?I.jsx("div",{className:"small muted",children:"No logs yet."}):I.jsx("div",{style:{overflow:"auto"},children:I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:e==="card"?I.jsxs("tr",{children:[I.jsx("th",{children:"Time"}),I.jsx("th",{children:"Card Name"}),I.jsx("th",{children:"Number"}),I.jsx("th",{children:"Print"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Location"}),I.jsx("th",{children:"Set"})]}):I.jsxs("tr",{children:[I.jsx("th",{children:"Time"}),I.jsx("th",{children:"Sealed Product"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Location"})]})}),I.jsx("tbody",{children:i.map((l,c)=>{const u=l.data||{},h=I.jsx("td",{className:"small mono",children:JO(u.time)});return e==="card"?Array.isArray(u.items)?u.items.map((d,g)=>I.jsxs("tr",{children:[h,I.jsx("td",{children:d.cardName||""}),I.jsx("td",{children:Number.isFinite(d.number)?d.number:d.number||""}),I.jsx("td",{children:d.print||""}),I.jsx("td",{children:Number.isFinite(d.amount)?d.amount:d.amount||""}),I.jsx("td",{children:d.location||""}),I.jsx("td",{children:d.set||""})]},`${l.id}-${g}`)):I.jsxs("tr",{children:[h,I.jsx("td",{children:u.cardName||""}),I.jsx("td",{children:Number.isFinite(u.number)?u.number:u.number||""}),I.jsx("td",{children:u.print||""}),I.jsx("td",{children:Number.isFinite(u.amount)?u.amount:u.amount||""}),I.jsx("td",{children:u.location||""}),I.jsx("td",{children:u.set||""})]},l.id):Array.isArray(u.items)?u.items.map((d,g)=>I.jsxs("tr",{children:[h,I.jsx("td",{children:d.sealedName||""}),I.jsx("td",{children:Number.isFinite(d.amount)?d.amount:d.amount||""}),I.jsx("td",{children:d.location||""})]},`${l.id}-${g}`)):I.jsxs("tr",{children:[h,I.jsx("td",{children:u.sealedName||""}),I.jsx("td",{children:Number.isFinite(u.amount)?u.amount:u.amount||""}),I.jsx("td",{children:u.location||""})]},l.id)})})]})}),I.jsxs("div",{className:"small muted mono space-top",children:["Count: ",i.length]})]})}function tD(){const{signIn:n,signUp:e,user:t,signOut:i}=av(),[r,s]=Z.useState(""),[a,o]=Z.useState(""),[l,c]=Z.useState(!1),u=async()=>{if(!r||!a)return alert("Enter username and password");c(!0);try{await n(r,a),window.location.hash="#home"}catch(d){alert("Sign-in failed: "+(d&&d.message?d.message:String(d)))}finally{c(!1)}},h=async()=>{if(!r||!a)return alert("Enter username and password");c(!0);try{await e(r,a),window.location.hash="#home"}catch(d){alert("Sign-up failed: "+(d&&d.message?d.message:String(d)))}finally{c(!1)}};return I.jsx("div",{className:"card",children:t?I.jsxs("div",{className:"stack",children:[I.jsx("div",{className:"small mono",children:"Signed in"}),I.jsx("button",{className:"btn secondary",onClick:()=>i(),children:"Sign Out"})]}):I.jsxs(I.Fragment,{children:[I.jsxs("label",{className:"small",style:{display:"flex",flexDirection:"column",gap:6},children:[I.jsx("span",{children:"Username or Email"}),I.jsx("input",{value:r,onChange:d=>s(d.target.value),placeholder:"yourname or you@example.com",style:{padding:8,border:"1px solid #E2E8F0",borderRadius:8}})]}),I.jsxs("label",{className:"small space-top",style:{display:"flex",flexDirection:"column",gap:6},children:[I.jsx("span",{children:"Password"}),I.jsx("input",{type:"password",value:a,onChange:d=>o(d.target.value),placeholder:"",style:{padding:8,border:"1px solid #E2E8F0",borderRadius:8}})]}),I.jsxs("div",{className:"stack space-top",children:[I.jsx("button",{className:"btn",onClick:u,disabled:l,children:"Sign In"}),I.jsx("button",{className:"btn ghost",onClick:h,disabled:l,children:"Create Account"})]}),I.jsx("div",{className:"small space-top muted",children:"Use the same username/password for either action."})]})})}function nD(){const[n,e]=Z.useState(()=>window.location.hash||"#home"),{user:t}=av();Z.useEffect(()=>{const r=()=>e(window.location.hash||"#home");return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const i=Z.useMemo(()=>{switch((n||"").toLowerCase()){case"#statistics":return"statistics";case"#database":return"database";case"#logs":return"logs";case"#signin":return"signin";default:return"home"}},[n]);return I.jsxs("div",{className:"app",children:[I.jsxs("aside",{className:"sidebar",children:[I.jsx("div",{className:"brand",children:"Pokemon Collection"}),I.jsxs("nav",{className:"nav",children:[I.jsx("a",{href:"#home",className:i==="home"?"active":"",id:"nav-home",children:"Home"}),I.jsx("a",{href:"#statistics",className:i==="statistics"?"active":"",id:"nav-statistics",children:"Statistics"}),I.jsx("a",{href:"#database",className:i==="database"?"active":"",id:"nav-database",children:"Database"}),I.jsx("a",{href:"#logs",className:i==="logs"?"active":"",id:"nav-logs",children:"Logs"}),I.jsx("a",{href:"#signin",className:i==="signin"?"active":"",id:"nav-signin",children:"Sign In"})]}),I.jsx("div",{className:"divider"}),I.jsx("div",{className:"small mono",id:"sdkStatus",children:t?"Signed in":"Signed out"}),I.jsx("div",{className:"divider"}),I.jsx("div",{className:"stack",children:I.jsx("a",{className:"btn secondary",href:"#signin",id:"signOut",children:"Account"})}),I.jsx("div",{className:"small mono",id:"authStatus",children:t?"Authenticated":"Guest"})]}),I.jsxs("main",{className:"content",children:[i==="home"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Home"}),I.jsx(tT,{})]}),i==="statistics"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Statistics"}),I.jsx(AL,{})]}),i==="database"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Database"}),I.jsx(ZO,{})]}),i==="logs"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Logs"}),I.jsx(eD,{})]}),i==="signin"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Sign In"}),I.jsx(tD,{})]})]})]})}const iD=document.getElementById("root"),rD=T1(iD);rD.render(I.jsx(S0.StrictMode,{children:I.jsx(jO,{children:I.jsx(nD,{})})}));
