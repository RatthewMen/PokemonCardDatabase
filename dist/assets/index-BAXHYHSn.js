(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function x0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var b0={exports:{}},fh={},w0={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),OS=Symbol.for("react.portal"),DS=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),VS=Symbol.for("react.profiler"),zS=Symbol.for("react.provider"),jS=Symbol.for("react.context"),HS=Symbol.for("react.forward_ref"),BS=Symbol.for("react.suspense"),WS=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),oy=Symbol.iterator;function XS(n){return n===null||typeof n!="object"?null:(n=oy&&n[oy]||n["@@iterator"],typeof n=="function"?n:null)}var _0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k0=Object.assign,A0={};function Fa(n,e,t){this.props=n,this.context=e,this.refs=A0,this.updater=t||_0}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Fa.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function S0(){}S0.prototype=Fa.prototype;function cp(n,e,t){this.props=n,this.context=e,this.refs=A0,this.updater=t||_0}var up=cp.prototype=new S0;up.constructor=cp;k0(up,Fa.prototype);up.isPureReactComponent=!0;var ly=Array.isArray,C0=Object.prototype.hasOwnProperty,hp={current:null},E0={key:!0,ref:!0,__self:!0,__source:!0};function T0(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)C0.call(e,i)&&!E0.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Nl,type:n,key:s,ref:a,props:r,_owner:hp.current}}function YS(n,e){return{$$typeof:Nl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function dp(n){return typeof n=="object"&&n!==null&&n.$$typeof===Nl}function $S(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cy=/\/+/g;function gd(n,e){return typeof n=="object"&&n!==null&&n.key!=null?$S(""+n.key):e.toString(36)}function Yc(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Nl:case OS:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+gd(a,0):i,ly(r)?(t="",n!=null&&(t=n.replace(cy,"$&/")+"/"),Yc(r,e,t,"",function(c){return c})):r!=null&&(dp(r)&&(r=YS(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(cy,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",ly(n))for(var o=0;o<n.length;o++){s=n[o];var l=i+gd(s,o);a+=Yc(s,e,t,l,r)}else if(l=XS(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=i+gd(s,o++),a+=Yc(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function bc(n,e,t){if(n==null)return n;var i=[],r=0;return Yc(n,i,"","",function(s){return e.call(t,s,r++)}),i}function GS(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var on={current:null},$c={transition:null},qS={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:$c,ReactCurrentOwner:hp};function I0(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:bc,forEach:function(n,e,t){bc(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return bc(n,function(){e++}),e},toArray:function(n){return bc(n,function(e){return e})||[]},only:function(n){if(!dp(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ie.Component=Fa;Ie.Fragment=DS;Ie.Profiler=VS;Ie.PureComponent=cp;Ie.StrictMode=FS;Ie.Suspense=BS;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qS;Ie.act=I0;Ie.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=k0({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=hp.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)C0.call(e,l)&&!E0.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Nl,type:n.type,key:r,ref:s,props:i,_owner:a}};Ie.createContext=function(n){return n={$$typeof:jS,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:zS,_context:n},n.Consumer=n};Ie.createElement=T0;Ie.createFactory=function(n){var e=T0.bind(null,n);return e.type=n,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(n){return{$$typeof:HS,render:n}};Ie.isValidElement=dp;Ie.lazy=function(n){return{$$typeof:US,_payload:{_status:-1,_result:n},_init:GS}};Ie.memo=function(n,e){return{$$typeof:WS,type:n,compare:e===void 0?null:e}};Ie.startTransition=function(n){var e=$c.transition;$c.transition={};try{n()}finally{$c.transition=e}};Ie.unstable_act=I0;Ie.useCallback=function(n,e){return on.current.useCallback(n,e)};Ie.useContext=function(n){return on.current.useContext(n)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(n){return on.current.useDeferredValue(n)};Ie.useEffect=function(n,e){return on.current.useEffect(n,e)};Ie.useId=function(){return on.current.useId()};Ie.useImperativeHandle=function(n,e,t){return on.current.useImperativeHandle(n,e,t)};Ie.useInsertionEffect=function(n,e){return on.current.useInsertionEffect(n,e)};Ie.useLayoutEffect=function(n,e){return on.current.useLayoutEffect(n,e)};Ie.useMemo=function(n,e){return on.current.useMemo(n,e)};Ie.useReducer=function(n,e,t){return on.current.useReducer(n,e,t)};Ie.useRef=function(n){return on.current.useRef(n)};Ie.useState=function(n){return on.current.useState(n)};Ie.useSyncExternalStore=function(n,e,t){return on.current.useSyncExternalStore(n,e,t)};Ie.useTransition=function(){return on.current.useTransition()};Ie.version="18.3.1";w0.exports=Ie;var J=w0.exports;const P0=x0(J);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=J,QS=Symbol.for("react.element"),ZS=Symbol.for("react.fragment"),JS=Object.prototype.hasOwnProperty,eC=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tC={key:!0,ref:!0,__self:!0,__source:!0};function R0(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)JS.call(e,i)&&!tC.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:QS,type:n,key:s,ref:a,props:r,_owner:eC.current}}fh.Fragment=ZS;fh.jsx=R0;fh.jsxs=R0;b0.exports=fh;var I=b0.exports,N0={exports:{}},Cn={},L0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,Y){var G=F.length;F.push(Y);e:for(;0<G;){var ee=G-1>>>1,oe=F[ee];if(0<r(oe,Y))F[ee]=Y,F[G]=oe,G=ee;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Y=F[0],G=F.pop();if(G!==Y){F[0]=G;e:for(var ee=0,oe=F.length,ye=oe>>>1;ee<ye;){var he=2*(ee+1)-1,Ne=F[he],pe=he+1,me=F[pe];if(0>r(Ne,G))pe<oe&&0>r(me,Ne)?(F[ee]=me,F[pe]=G,ee=pe):(F[ee]=Ne,F[he]=G,ee=he);else if(pe<oe&&0>r(me,G))F[ee]=me,F[pe]=G,ee=pe;else break e}}return Y}function r(F,Y){var G=F.sortIndex-Y.sortIndex;return G!==0?G:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,g=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=F)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function C(F){if(m=!1,b(F),!p)if(t(l)!==null)p=!0,W(S);else{var Y=t(c);Y!==null&&q(C,Y.startTime-F)}}function S(F,Y){p=!1,m&&(m=!1,v(w),w=-1),g=!0;var G=d;try{for(b(Y),h=t(l);h!==null&&(!(h.expirationTime>Y)||F&&!P());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,d=h.priorityLevel;var oe=ee(h.expirationTime<=Y);Y=n.unstable_now(),typeof oe=="function"?h.callback=oe:h===t(l)&&i(l),b(Y)}else i(l);h=t(l)}if(h!==null)var ye=!0;else{var he=t(c);he!==null&&q(C,he.startTime-Y),ye=!1}return ye}finally{h=null,d=G,g=!1}}var R=!1,k=null,w=-1,A=5,T=-1;function P(){return!(n.unstable_now()-T<A)}function L(){if(k!==null){var F=n.unstable_now();T=F;var Y=!0;try{Y=k(!0,F)}finally{Y?N():(R=!1,k=null)}}else R=!1}var N;if(typeof y=="function")N=function(){y(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=L,N=function(){H.postMessage(null)}}else N=function(){x(L,0)};function W(F){k=F,R||(R=!0,N())}function q(F,Y){w=x(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){p||g||(p=!0,W(S))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var G=d;d=Y;try{return F()}finally{d=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=d;d=F;try{return Y()}finally{d=G}},n.unstable_scheduleCallback=function(F,Y,G){var ee=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,F){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,F={id:u++,callback:Y,priorityLevel:F,startTime:G,expirationTime:oe,sortIndex:-1},G>ee?(F.sortIndex=G,e(c,F),t(l)===null&&F===t(c)&&(m?(v(w),w=-1):m=!0,q(C,G-ee))):(F.sortIndex=oe,e(l,F),p||g||(p=!0,W(S))),F},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(F){var Y=d;return function(){var G=d;d=Y;try{return F.apply(this,arguments)}finally{d=G}}}})(M0);L0.exports=M0;var nC=L0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=J,Sn=nC;function K(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O0=new Set,Ko={};function Ts(n,e){ba(n,e),ba(n+"Capture",e)}function ba(n,e){for(Ko[n]=e,n=0;n<e.length;n++)O0.add(e[n])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,rC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uy={},hy={};function sC(n){return wf.call(hy,n)?!0:wf.call(uy,n)?!1:rC.test(n)?hy[n]=!0:(uy[n]=!0,!1)}function aC(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function oC(n,e,t,i){if(e===null||typeof e>"u"||aC(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wt[n]=new ln(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Wt[e]=new ln(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wt[n]=new ln(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wt[n]=new ln(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wt[n]=new ln(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wt[n]=new ln(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wt[n]=new ln(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wt[n]=new ln(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wt[n]=new ln(n,5,!1,n.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function gp(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(fp,gp);Wt[e]=new ln(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(fp,gp);Wt[e]=new ln(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(fp,gp);Wt[e]=new ln(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wt[n]=new ln(n,1,!1,n.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wt[n]=new ln(n,1,!1,n.toLowerCase(),null,!0,!0)});function pp(n,e,t,i){var r=Wt.hasOwnProperty(e)?Wt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oC(e,t,r,i)&&(t=null),i||r===null?sC(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Ui=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),F0=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),V0=Symbol.for("react.offscreen"),dy=Symbol.iterator;function ho(n){return n===null||typeof n!="object"?null:(n=dy&&n[dy]||n["@@iterator"],typeof n=="function"?n:null)}var ut=Object.assign,pd;function _o(n){if(pd===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);pd=e&&e[1]||""}return`
`+pd+n}var md=!1;function vd(n,e){if(!n||md)return"";md=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{md=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?_o(n):""}function lC(n){switch(n.tag){case 5:return _o(n.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return n=vd(n.type,!1),n;case 11:return n=vd(n.type.render,!1),n;case 1:return n=vd(n.type,!0),n;default:return""}}function Sf(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Gs:return"Fragment";case $s:return"Portal";case _f:return"Profiler";case mp:return"StrictMode";case kf:return"Suspense";case Af:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case F0:return(n.displayName||"Context")+".Consumer";case D0:return(n._context.displayName||"Context")+".Provider";case vp:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case yp:return e=n.displayName||null,e!==null?e:Sf(n.type)||"Memo";case er:e=n._payload,n=n._init;try{return Sf(n(e))}catch{}}return null}function cC(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sf(e);case 8:return e===mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function z0(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uC(n){var e=z0(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function _c(n){n._valueTracker||(n._valueTracker=uC(n))}function j0(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=z0(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function bu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Cf(n,e){var t=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function fy(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Er(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H0(n,e){e=e.checked,e!=null&&pp(n,"checked",e,!1)}function Ef(n,e){H0(n,e);var t=Er(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Tf(n,e.type,t):e.hasOwnProperty("defaultValue")&&Tf(n,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gy(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Tf(n,e,t){(e!=="number"||bu(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ko=Array.isArray;function la(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Er(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function If(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function py(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(K(92));if(ko(t)){if(1<t.length)throw Error(K(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Er(t)}}function B0(n,e){var t=Er(e.value),i=Er(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function my(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function W0(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pf(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?W0(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var kc,U0=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Qo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hC=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(n){hC.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Lo[e]=Lo[n]})});function X0(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Lo.hasOwnProperty(n)&&Lo[n]?(""+e).trim():e+"px"}function Y0(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=X0(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var dC=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(n,e){if(e){if(dC[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Nf(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function xp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mf=null,ca=null,ua=null;function vy(n){if(n=Ol(n)){if(typeof Mf!="function")throw Error(K(280));var e=n.stateNode;e&&(e=yh(e),Mf(n.stateNode,n.type,e))}}function $0(n){ca?ua?ua.push(n):ua=[n]:ca=n}function G0(){if(ca){var n=ca,e=ua;if(ua=ca=null,vy(n),e)for(n=0;n<e.length;n++)vy(e[n])}}function q0(n,e){return n(e)}function K0(){}var yd=!1;function Q0(n,e,t){if(yd)return n(e,t);yd=!0;try{return q0(n,e,t)}finally{yd=!1,(ca!==null||ua!==null)&&(K0(),G0())}}function Zo(n,e){var t=n.stateNode;if(t===null)return null;var i=yh(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(K(231,e,typeof t));return t}var Of=!1;if(Oi)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Of=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Of=!1}function fC(n,e,t,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Mo=!1,wu=null,_u=!1,Df=null,gC={onError:function(n){Mo=!0,wu=n}};function pC(n,e,t,i,r,s,a,o,l){Mo=!1,wu=null,fC.apply(gC,arguments)}function mC(n,e,t,i,r,s,a,o,l){if(pC.apply(this,arguments),Mo){if(Mo){var c=wu;Mo=!1,wu=null}else throw Error(K(198));_u||(_u=!0,Df=c)}}function Is(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Z0(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function yy(n){if(Is(n)!==n)throw Error(K(188))}function vC(n){var e=n.alternate;if(!e){if(e=Is(n),e===null)throw Error(K(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return yy(r),n;if(s===i)return yy(r),e;s=s.sibling}throw Error(K(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(K(189))}}if(t.alternate!==i)throw Error(K(190))}if(t.tag!==3)throw Error(K(188));return t.stateNode.current===t?n:e}function J0(n){return n=vC(n),n!==null?ew(n):null}function ew(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=ew(n);if(e!==null)return e;n=n.sibling}return null}var tw=Sn.unstable_scheduleCallback,xy=Sn.unstable_cancelCallback,yC=Sn.unstable_shouldYield,xC=Sn.unstable_requestPaint,yt=Sn.unstable_now,bC=Sn.unstable_getCurrentPriorityLevel,bp=Sn.unstable_ImmediatePriority,nw=Sn.unstable_UserBlockingPriority,ku=Sn.unstable_NormalPriority,wC=Sn.unstable_LowPriority,iw=Sn.unstable_IdlePriority,gh=null,hi=null;function _C(n){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(gh,n,void 0,(n.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:SC,kC=Math.log,AC=Math.LN2;function SC(n){return n>>>=0,n===0?32:31-(kC(n)/AC|0)|0}var Ac=64,Sc=4194304;function Ao(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Au(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=Ao(o):(s&=a,s!==0&&(i=Ao(s)))}else a=t&~r,a!==0?i=Ao(a):s!==0&&(i=Ao(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ti(e),r=1<<t,i|=n[t],e&=~r;return i}function CC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EC(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-ti(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=CC(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function Ff(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function rw(){var n=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),n}function xd(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ll(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ti(e),n[e]=t}function TC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ti(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function wp(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ti(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Xe=0;function sw(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var aw,_p,ow,lw,cw,Vf=!1,Cc=[],fr=null,gr=null,pr=null,Jo=new Map,el=new Map,nr=[],IC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(n,e){switch(n){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function go(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ol(e),e!==null&&_p(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function PC(n,e,t,i,r){switch(e){case"focusin":return fr=go(fr,n,e,t,i,r),!0;case"dragenter":return gr=go(gr,n,e,t,i,r),!0;case"mouseover":return pr=go(pr,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Jo.set(s,go(Jo.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,el.set(s,go(el.get(s)||null,n,e,t,i,r)),!0}return!1}function uw(n){var e=rs(n.target);if(e!==null){var t=Is(e);if(t!==null){if(e=t.tag,e===13){if(e=Z0(t),e!==null){n.blockedOn=e,cw(n.priority,function(){ow(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gc(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=zf(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Lf=i,t.target.dispatchEvent(i),Lf=null}else return e=Ol(t),e!==null&&_p(e),n.blockedOn=t,!1;e.shift()}return!0}function wy(n,e,t){Gc(n)&&t.delete(e)}function RC(){Vf=!1,fr!==null&&Gc(fr)&&(fr=null),gr!==null&&Gc(gr)&&(gr=null),pr!==null&&Gc(pr)&&(pr=null),Jo.forEach(wy),el.forEach(wy)}function po(n,e){n.blockedOn===e&&(n.blockedOn=null,Vf||(Vf=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,RC)))}function tl(n){function e(r){return po(r,n)}if(0<Cc.length){po(Cc[0],n);for(var t=1;t<Cc.length;t++){var i=Cc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(fr!==null&&po(fr,n),gr!==null&&po(gr,n),pr!==null&&po(pr,n),Jo.forEach(e),el.forEach(e),t=0;t<nr.length;t++)i=nr[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<nr.length&&(t=nr[0],t.blockedOn===null);)uw(t),t.blockedOn===null&&nr.shift()}var ha=Ui.ReactCurrentBatchConfig,Su=!0;function NC(n,e,t,i){var r=Xe,s=ha.transition;ha.transition=null;try{Xe=1,kp(n,e,t,i)}finally{Xe=r,ha.transition=s}}function LC(n,e,t,i){var r=Xe,s=ha.transition;ha.transition=null;try{Xe=4,kp(n,e,t,i)}finally{Xe=r,ha.transition=s}}function kp(n,e,t,i){if(Su){var r=zf(n,e,t,i);if(r===null)Id(n,e,i,Cu,t),by(n,i);else if(PC(r,n,e,t,i))i.stopPropagation();else if(by(n,i),e&4&&-1<IC.indexOf(n)){for(;r!==null;){var s=Ol(r);if(s!==null&&aw(s),s=zf(n,e,t,i),s===null&&Id(n,e,i,Cu,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Id(n,e,i,null,t)}}var Cu=null;function zf(n,e,t,i){if(Cu=null,n=xp(i),n=rs(n),n!==null)if(e=Is(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Z0(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Cu=n,null}function hw(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bC()){case bp:return 1;case nw:return 4;case ku:case wC:return 16;case iw:return 536870912;default:return 16}default:return 16}}var cr=null,Ap=null,qc=null;function dw(){if(qc)return qc;var n,e=Ap,t=e.length,i,r="value"in cr?cr.value:cr.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return qc=r.slice(n,1<i?1-i:void 0)}function Kc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ec(){return!0}function _y(){return!1}function En(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ec:_y,this.isPropagationStopped=_y,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=En(Va),Ml=ut({},Va,{view:0,detail:0}),MC=En(Ml),bd,wd,mo,ph=ut({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mo&&(mo&&n.type==="mousemove"?(bd=n.screenX-mo.screenX,wd=n.screenY-mo.screenY):wd=bd=0,mo=n),bd)},movementY:function(n){return"movementY"in n?n.movementY:wd}}),ky=En(ph),OC=ut({},ph,{dataTransfer:0}),DC=En(OC),FC=ut({},Ml,{relatedTarget:0}),_d=En(FC),VC=ut({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=En(VC),jC=ut({},Va,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),HC=En(jC),BC=ut({},Va,{data:0}),Ay=En(BC),WC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YC(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=XC[n])?!!e[n]:!1}function Cp(){return YC}var $C=ut({},Ml,{key:function(n){if(n.key){var e=WC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Kc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(n){return n.type==="keypress"?Kc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),GC=En($C),qC=ut({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sy=En(qC),KC=ut({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),QC=En(KC),ZC=ut({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),JC=En(ZC),eE=ut({},ph,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),tE=En(eE),nE=[9,13,27,32],Ep=Oi&&"CompositionEvent"in window,Oo=null;Oi&&"documentMode"in document&&(Oo=document.documentMode);var iE=Oi&&"TextEvent"in window&&!Oo,fw=Oi&&(!Ep||Oo&&8<Oo&&11>=Oo),Cy=" ",Ey=!1;function gw(n,e){switch(n){case"keyup":return nE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pw(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qs=!1;function rE(n,e){switch(n){case"compositionend":return pw(e);case"keypress":return e.which!==32?null:(Ey=!0,Cy);case"textInput":return n=e.data,n===Cy&&Ey?null:n;default:return null}}function sE(n,e){if(qs)return n==="compositionend"||!Ep&&gw(n,e)?(n=dw(),qc=Ap=cr=null,qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fw&&e.locale!=="ko"?null:e.data;default:return null}}var aE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!aE[n.type]:e==="textarea"}function mw(n,e,t,i){$0(i),e=Eu(e,"onChange"),0<e.length&&(t=new Sp("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Do=null,nl=null;function oE(n){Ew(n,0)}function mh(n){var e=Zs(n);if(j0(e))return n}function lE(n,e){if(n==="change")return e}var vw=!1;if(Oi){var kd;if(Oi){var Ad="oninput"in document;if(!Ad){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Ad=typeof Iy.oninput=="function"}kd=Ad}else kd=!1;vw=kd&&(!document.documentMode||9<document.documentMode)}function Py(){Do&&(Do.detachEvent("onpropertychange",yw),nl=Do=null)}function yw(n){if(n.propertyName==="value"&&mh(nl)){var e=[];mw(e,nl,n,xp(n)),Q0(oE,e)}}function cE(n,e,t){n==="focusin"?(Py(),Do=e,nl=t,Do.attachEvent("onpropertychange",yw)):n==="focusout"&&Py()}function uE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mh(nl)}function hE(n,e){if(n==="click")return mh(e)}function dE(n,e){if(n==="input"||n==="change")return mh(e)}function fE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ri=typeof Object.is=="function"?Object.is:fE;function il(n,e){if(ri(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!wf.call(e,r)||!ri(n[r],e[r]))return!1}return!0}function Ry(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ny(n,e){var t=Ry(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Ry(t)}}function xw(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?xw(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function bw(){for(var n=window,e=bu();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=bu(n.document)}return e}function Tp(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gE(n){var e=bw(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&xw(t.ownerDocument.documentElement,t)){if(i!==null&&Tp(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Ny(t,s);var a=Ny(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var pE=Oi&&"documentMode"in document&&11>=document.documentMode,Ks=null,jf=null,Fo=null,Hf=!1;function Ly(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Hf||Ks==null||Ks!==bu(i)||(i=Ks,"selectionStart"in i&&Tp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fo&&il(Fo,i)||(Fo=i,i=Eu(jf,"onSelect"),0<i.length&&(e=new Sp("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ks)))}function Tc(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Qs={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionend:Tc("Transition","TransitionEnd")},Sd={},ww={};Oi&&(ww=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function vh(n){if(Sd[n])return Sd[n];if(!Qs[n])return n;var e=Qs[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ww)return Sd[n]=e[t];return n}var _w=vh("animationend"),kw=vh("animationiteration"),Aw=vh("animationstart"),Sw=vh("transitionend"),Cw=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(n,e){Cw.set(n,e),Ts(e,[n])}for(var Cd=0;Cd<My.length;Cd++){var Ed=My[Cd],mE=Ed.toLowerCase(),vE=Ed[0].toUpperCase()+Ed.slice(1);zr(mE,"on"+vE)}zr(_w,"onAnimationEnd");zr(kw,"onAnimationIteration");zr(Aw,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Sw,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Oy(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,mC(i,e,void 0,n),n.currentTarget=null}function Ew(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Oy(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Oy(r,o,c),s=l}}}if(_u)throw n=Df,_u=!1,Df=null,n}function it(n,e){var t=e[Yf];t===void 0&&(t=e[Yf]=new Set);var i=n+"__bubble";t.has(i)||(Tw(e,n,2,!1),t.add(i))}function Td(n,e,t){var i=0;e&&(i|=4),Tw(t,n,i,e)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function rl(n){if(!n[Ic]){n[Ic]=!0,O0.forEach(function(t){t!=="selectionchange"&&(yE.has(t)||Td(t,!1,n),Td(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ic]||(e[Ic]=!0,Td("selectionchange",!1,e))}}function Tw(n,e,t,i){switch(hw(e)){case 1:var r=NC;break;case 4:r=LC;break;default:r=kp}t=r.bind(null,e,t,n),r=void 0,!Of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Id(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=rs(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}Q0(function(){var c=s,u=xp(t),h=[];e:{var d=Cw.get(n);if(d!==void 0){var g=Sp,p=n;switch(n){case"keypress":if(Kc(t)===0)break e;case"keydown":case"keyup":g=GC;break;case"focusin":p="focus",g=_d;break;case"focusout":p="blur",g=_d;break;case"beforeblur":case"afterblur":g=_d;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=QC;break;case _w:case kw:case Aw:g=zC;break;case Sw:g=JC;break;case"scroll":g=MC;break;case"wheel":g=tE;break;case"copy":case"cut":case"paste":g=HC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sy}var m=(e&4)!==0,x=!m&&n==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=c,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,v!==null&&(C=Zo(y,v),C!=null&&m.push(sl(y,C,b)))),x)break;y=y.return}0<m.length&&(d=new g(d,p,null,t,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",d&&t!==Lf&&(p=t.relatedTarget||t.fromElement)&&(rs(p)||p[Di]))break e;if((g||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=t.relatedTarget||t.toElement,g=c,p=p?rs(p):null,p!==null&&(x=Is(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(m=ky,C="onMouseLeave",v="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(m=Sy,C="onPointerLeave",v="onPointerEnter",y="pointer"),x=g==null?d:Zs(g),b=p==null?d:Zs(p),d=new m(C,y+"leave",g,t,u),d.target=x,d.relatedTarget=b,C=null,rs(u)===c&&(m=new m(v,y+"enter",p,t,u),m.target=b,m.relatedTarget=x,C=m),x=C,g&&p)t:{for(m=g,v=p,y=0,b=m;b;b=js(b))y++;for(b=0,C=v;C;C=js(C))b++;for(;0<y-b;)m=js(m),y--;for(;0<b-y;)v=js(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=js(m),v=js(v)}m=null}else m=null;g!==null&&Dy(h,d,g,m,!1),p!==null&&x!==null&&Dy(h,x,p,m,!0)}}e:{if(d=c?Zs(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=lE;else if(Ty(d))if(vw)S=dE;else{S=uE;var R=cE}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=hE);if(S&&(S=S(n,c))){mw(h,S,t,u);break e}R&&R(n,d,c),n==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Tf(d,"number",d.value)}switch(R=c?Zs(c):window,n){case"focusin":(Ty(R)||R.contentEditable==="true")&&(Ks=R,jf=c,Fo=null);break;case"focusout":Fo=jf=Ks=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Ly(h,t,u);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":Ly(h,t,u)}var k;if(Ep)e:{switch(n){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qs?gw(n,t)&&(w="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(w="onCompositionStart");w&&(fw&&t.locale!=="ko"&&(qs||w!=="onCompositionStart"?w==="onCompositionEnd"&&qs&&(k=dw()):(cr=u,Ap="value"in cr?cr.value:cr.textContent,qs=!0)),R=Eu(c,w),0<R.length&&(w=new Ay(w,n,null,t,u),h.push({event:w,listeners:R}),k?w.data=k:(k=pw(t),k!==null&&(w.data=k)))),(k=iE?rE(n,t):sE(n,t))&&(c=Eu(c,"onBeforeInput"),0<c.length&&(u=new Ay("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=k))}Ew(h,e)})}function sl(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Eu(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Zo(n,t),s!=null&&i.unshift(sl(n,s,r)),s=Zo(n,e),s!=null&&i.push(sl(n,s,r))),n=n.return}return i}function js(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Dy(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=Zo(t,s),l!=null&&a.unshift(sl(t,l,o))):r||(l=Zo(t,s),l!=null&&a.push(sl(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var xE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function Fy(n){return(typeof n=="string"?n:""+n).replace(xE,`
`).replace(bE,"")}function Pc(n,e,t){if(e=Fy(e),Fy(n)!==e&&t)throw Error(K(425))}function Tu(){}var Bf=null,Wf=null;function Uf(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,_E=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(n){return Vy.resolve(null).then(n).catch(kE)}:Xf;function kE(n){setTimeout(function(){throw n})}function Pd(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),tl(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);tl(e)}function mr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function zy(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var za=Math.random().toString(36).slice(2),ui="__reactFiber$"+za,al="__reactProps$"+za,Di="__reactContainer$"+za,Yf="__reactEvents$"+za,AE="__reactListeners$"+za,SE="__reactHandles$"+za;function rs(n){var e=n[ui];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Di]||t[ui]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=zy(n);n!==null;){if(t=n[ui])return t;n=zy(n)}return e}n=t,t=n.parentNode}return null}function Ol(n){return n=n[ui]||n[Di],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Zs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(K(33))}function yh(n){return n[al]||null}var $f=[],Js=-1;function jr(n){return{current:n}}function st(n){0>Js||(n.current=$f[Js],$f[Js]=null,Js--)}function et(n,e){Js++,$f[Js]=n.current,n.current=e}var Tr={},en=jr(Tr),pn=jr(!1),ps=Tr;function wa(n,e){var t=n.type.contextTypes;if(!t)return Tr;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function mn(n){return n=n.childContextTypes,n!=null}function Iu(){st(pn),st(en)}function jy(n,e,t){if(en.current!==Tr)throw Error(K(168));et(en,e),et(pn,t)}function Iw(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(K(108,cC(n)||"Unknown",r));return ut({},t,i)}function Pu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Tr,ps=en.current,et(en,n),et(pn,pn.current),!0}function Hy(n,e,t){var i=n.stateNode;if(!i)throw Error(K(169));t?(n=Iw(n,e,ps),i.__reactInternalMemoizedMergedChildContext=n,st(pn),st(en),et(en,n)):st(pn),et(pn,t)}var Si=null,xh=!1,Rd=!1;function Pw(n){Si===null?Si=[n]:Si.push(n)}function CE(n){xh=!0,Pw(n)}function Hr(){if(!Rd&&Si!==null){Rd=!0;var n=0,e=Xe;try{var t=Si;for(Xe=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Si=null,xh=!1}catch(r){throw Si!==null&&(Si=Si.slice(n+1)),tw(bp,Hr),r}finally{Xe=e,Rd=!1}}return null}var ea=[],ta=0,Ru=null,Nu=0,Nn=[],Ln=0,ms=null,Ei=1,Ti="";function Qr(n,e){ea[ta++]=Nu,ea[ta++]=Ru,Ru=n,Nu=e}function Rw(n,e,t){Nn[Ln++]=Ei,Nn[Ln++]=Ti,Nn[Ln++]=ms,ms=n;var i=Ei;n=Ti;var r=32-ti(i)-1;i&=~(1<<r),t+=1;var s=32-ti(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Ei=1<<32-ti(e)+r|t<<r|i,Ti=s+n}else Ei=1<<s|t<<r|i,Ti=n}function Ip(n){n.return!==null&&(Qr(n,1),Rw(n,1,0))}function Pp(n){for(;n===Ru;)Ru=ea[--ta],ea[ta]=null,Nu=ea[--ta],ea[ta]=null;for(;n===ms;)ms=Nn[--Ln],Nn[Ln]=null,Ti=Nn[--Ln],Nn[Ln]=null,Ei=Nn[--Ln],Nn[Ln]=null}var kn=null,wn=null,at=!1,Qn=null;function Nw(n,e){var t=Fn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function By(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,kn=n,wn=mr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,kn=n,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ms!==null?{id:Ei,overflow:Ti}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Fn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,kn=n,wn=null,!0):!1;default:return!1}}function Gf(n){return(n.mode&1)!==0&&(n.flags&128)===0}function qf(n){if(at){var e=wn;if(e){var t=e;if(!By(n,e)){if(Gf(n))throw Error(K(418));e=mr(t.nextSibling);var i=kn;e&&By(n,e)?Nw(i,t):(n.flags=n.flags&-4097|2,at=!1,kn=n)}}else{if(Gf(n))throw Error(K(418));n.flags=n.flags&-4097|2,at=!1,kn=n}}}function Wy(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kn=n}function Rc(n){if(n!==kn)return!1;if(!at)return Wy(n),at=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Uf(n.type,n.memoizedProps)),e&&(e=wn)){if(Gf(n))throw Lw(),Error(K(418));for(;e;)Nw(n,e),e=mr(e.nextSibling)}if(Wy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(K(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){wn=mr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}wn=null}}else wn=kn?mr(n.stateNode.nextSibling):null;return!0}function Lw(){for(var n=wn;n;)n=mr(n.nextSibling)}function _a(){wn=kn=null,at=!1}function Rp(n){Qn===null?Qn=[n]:Qn.push(n)}var EE=Ui.ReactCurrentBatchConfig;function vo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(K(309));var i=t.stateNode}if(!i)throw Error(K(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(K(284));if(!t._owner)throw Error(K(290,n))}return n}function Nc(n,e){throw n=Object.prototype.toString.call(e),Error(K(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Uy(n){var e=n._init;return e(n._payload)}function Mw(n){function e(v,y){if(n){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function t(v,y){if(!n)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=br(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,n?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,C){return y===null||y.tag!==6?(y=Vd(b,v.mode,C),y.return=v,y):(y=r(y,b),y.return=v,y)}function l(v,y,b,C){var S=b.type;return S===Gs?u(v,y,b.props.children,C,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&Uy(S)===y.type)?(C=r(y,b.props),C.ref=vo(v,y,b),C.return=v,C):(C=iu(b.type,b.key,b.props,null,v.mode,C),C.ref=vo(v,y,b),C.return=v,C)}function c(v,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=zd(b,v.mode,C),y.return=v,y):(y=r(y,b.children||[]),y.return=v,y)}function u(v,y,b,C,S){return y===null||y.tag!==7?(y=ds(b,v.mode,C,S),y.return=v,y):(y=r(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vd(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wc:return b=iu(y.type,y.key,y.props,null,v.mode,b),b.ref=vo(v,null,y),b.return=v,b;case $s:return y=zd(y,v.mode,b),y.return=v,y;case er:var C=y._init;return h(v,C(y._payload),b)}if(ko(y)||ho(y))return y=ds(y,v.mode,b,null),y.return=v,y;Nc(v,y)}return null}function d(v,y,b,C){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(v,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wc:return b.key===S?l(v,y,b,C):null;case $s:return b.key===S?c(v,y,b,C):null;case er:return S=b._init,d(v,y,S(b._payload),C)}if(ko(b)||ho(b))return S!==null?null:u(v,y,b,C,null);Nc(v,b)}return null}function g(v,y,b,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(b)||null,o(y,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wc:return v=v.get(C.key===null?b:C.key)||null,l(y,v,C,S);case $s:return v=v.get(C.key===null?b:C.key)||null,c(y,v,C,S);case er:var R=C._init;return g(v,y,b,R(C._payload),S)}if(ko(C)||ho(C))return v=v.get(b)||null,u(y,v,C,S,null);Nc(y,C)}return null}function p(v,y,b,C){for(var S=null,R=null,k=y,w=y=0,A=null;k!==null&&w<b.length;w++){k.index>w?(A=k,k=null):A=k.sibling;var T=d(v,k,b[w],C);if(T===null){k===null&&(k=A);break}n&&k&&T.alternate===null&&e(v,k),y=s(T,y,w),R===null?S=T:R.sibling=T,R=T,k=A}if(w===b.length)return t(v,k),at&&Qr(v,w),S;if(k===null){for(;w<b.length;w++)k=h(v,b[w],C),k!==null&&(y=s(k,y,w),R===null?S=k:R.sibling=k,R=k);return at&&Qr(v,w),S}for(k=i(v,k);w<b.length;w++)A=g(k,v,w,b[w],C),A!==null&&(n&&A.alternate!==null&&k.delete(A.key===null?w:A.key),y=s(A,y,w),R===null?S=A:R.sibling=A,R=A);return n&&k.forEach(function(P){return e(v,P)}),at&&Qr(v,w),S}function m(v,y,b,C){var S=ho(b);if(typeof S!="function")throw Error(K(150));if(b=S.call(b),b==null)throw Error(K(151));for(var R=S=null,k=y,w=y=0,A=null,T=b.next();k!==null&&!T.done;w++,T=b.next()){k.index>w?(A=k,k=null):A=k.sibling;var P=d(v,k,T.value,C);if(P===null){k===null&&(k=A);break}n&&k&&P.alternate===null&&e(v,k),y=s(P,y,w),R===null?S=P:R.sibling=P,R=P,k=A}if(T.done)return t(v,k),at&&Qr(v,w),S;if(k===null){for(;!T.done;w++,T=b.next())T=h(v,T.value,C),T!==null&&(y=s(T,y,w),R===null?S=T:R.sibling=T,R=T);return at&&Qr(v,w),S}for(k=i(v,k);!T.done;w++,T=b.next())T=g(k,v,w,T.value,C),T!==null&&(n&&T.alternate!==null&&k.delete(T.key===null?w:T.key),y=s(T,y,w),R===null?S=T:R.sibling=T,R=T);return n&&k.forEach(function(L){return e(v,L)}),at&&Qr(v,w),S}function x(v,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Gs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wc:e:{for(var S=b.key,R=y;R!==null;){if(R.key===S){if(S=b.type,S===Gs){if(R.tag===7){t(v,R.sibling),y=r(R,b.props.children),y.return=v,v=y;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&Uy(S)===R.type){t(v,R.sibling),y=r(R,b.props),y.ref=vo(v,R,b),y.return=v,v=y;break e}t(v,R);break}else e(v,R);R=R.sibling}b.type===Gs?(y=ds(b.props.children,v.mode,C,b.key),y.return=v,v=y):(C=iu(b.type,b.key,b.props,null,v.mode,C),C.ref=vo(v,y,b),C.return=v,v=C)}return a(v);case $s:e:{for(R=b.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){t(v,y.sibling),y=r(y,b.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=zd(b,v.mode,C),y.return=v,v=y}return a(v);case er:return R=b._init,x(v,y,R(b._payload),C)}if(ko(b))return p(v,y,b,C);if(ho(b))return m(v,y,b,C);Nc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(t(v,y.sibling),y=r(y,b),y.return=v,v=y):(t(v,y),y=Vd(b,v.mode,C),y.return=v,v=y),a(v)):t(v,y)}return x}var ka=Mw(!0),Ow=Mw(!1),Lu=jr(null),Mu=null,na=null,Np=null;function Lp(){Np=na=Mu=null}function Mp(n){var e=Lu.current;st(Lu),n._currentValue=e}function Kf(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function da(n,e){Mu=n,Np=na=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(gn=!0),n.firstContext=null)}function Bn(n){var e=n._currentValue;if(Np!==n)if(n={context:n,memoizedValue:e,next:null},na===null){if(Mu===null)throw Error(K(308));na=n,Mu.dependencies={lanes:0,firstContext:n}}else na=na.next=n;return e}var ss=null;function Op(n){ss===null?ss=[n]:ss.push(n)}function Dw(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Op(e)):(t.next=r.next,r.next=t),e.interleaved=t,Fi(n,i)}function Fi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var tr=!1;function Dp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fw(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ni(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,De&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Fi(n,t)}return r=i.interleaved,r===null?(e.next=e,Op(i)):(e.next=r.next,r.next=e),i.interleaved=e,Fi(n,t)}function Qc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,wp(n,t)}}function Xy(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ou(n,e,t,i){var r=n.updateQueue;tr=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,g=o.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=n,m=o;switch(d=e,g=t,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=ut({},h,d);break e;case 2:tr=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[o]:d.push(o))}else g={eventTime:g,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,a|=d;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ys|=a,n.lanes=a,n.memoizedState=h}}function Yy(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var Dl={},di=jr(Dl),ol=jr(Dl),ll=jr(Dl);function as(n){if(n===Dl)throw Error(K(174));return n}function Fp(n,e){switch(et(ll,e),et(ol,n),et(di,Dl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pf(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Pf(e,n)}st(di),et(di,e)}function Aa(){st(di),st(ol),st(ll)}function Vw(n){as(ll.current);var e=as(di.current),t=Pf(e,n.type);e!==t&&(et(ol,n),et(di,t))}function Vp(n){ol.current===n&&(st(di),st(ol))}var ot=jr(0);function Du(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nd=[];function zp(){for(var n=0;n<Nd.length;n++)Nd[n]._workInProgressVersionPrimary=null;Nd.length=0}var Zc=Ui.ReactCurrentDispatcher,Ld=Ui.ReactCurrentBatchConfig,vs=0,ct=null,St=null,Lt=null,Fu=!1,Vo=!1,cl=0,TE=0;function Gt(){throw Error(K(321))}function jp(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ri(n[t],e[t]))return!1;return!0}function Hp(n,e,t,i,r,s){if(vs=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zc.current=n===null||n.memoizedState===null?NE:LE,n=t(i,r),Vo){s=0;do{if(Vo=!1,cl=0,25<=s)throw Error(K(301));s+=1,Lt=St=null,e.updateQueue=null,Zc.current=ME,n=t(i,r)}while(Vo)}if(Zc.current=Vu,e=St!==null&&St.next!==null,vs=0,Lt=St=ct=null,Fu=!1,e)throw Error(K(300));return n}function Bp(){var n=cl!==0;return cl=0,n}function li(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function Wn(){if(St===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var e=Lt===null?ct.memoizedState:Lt.next;if(e!==null)Lt=e,St=n;else{if(n===null)throw Error(K(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Lt===null?ct.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function ul(n,e){return typeof e=="function"?e(n):e}function Md(n){var e=Wn(),t=e.queue;if(t===null)throw Error(K(311));t.lastRenderedReducer=n;var i=St,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((vs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=i):l=l.next=h,ct.lanes|=u,ys|=u}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,ri(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ct.lanes|=s,ys|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Od(n){var e=Wn(),t=e.queue;if(t===null)throw Error(K(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);ri(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function zw(){}function jw(n,e){var t=ct,i=Wn(),r=e(),s=!ri(i.memoizedState,r);if(s&&(i.memoizedState=r,gn=!0),i=i.queue,Wp(Ww.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Lt!==null&&Lt.memoizedState.tag&1){if(t.flags|=2048,hl(9,Bw.bind(null,t,i,r,e),void 0,null),Mt===null)throw Error(K(349));vs&30||Hw(t,e,r)}return r}function Hw(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Bw(n,e,t,i){e.value=t,e.getSnapshot=i,Uw(e)&&Xw(n)}function Ww(n,e,t){return t(function(){Uw(e)&&Xw(n)})}function Uw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ri(n,t)}catch{return!0}}function Xw(n){var e=Fi(n,1);e!==null&&ni(e,n,1,-1)}function $y(n){var e=li();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:n},e.queue=n,n=n.dispatch=RE.bind(null,ct,n),[e.memoizedState,n]}function hl(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Yw(){return Wn().memoizedState}function Jc(n,e,t,i){var r=li();ct.flags|=n,r.memoizedState=hl(1|e,t,void 0,i===void 0?null:i)}function bh(n,e,t,i){var r=Wn();i=i===void 0?null:i;var s=void 0;if(St!==null){var a=St.memoizedState;if(s=a.destroy,i!==null&&jp(i,a.deps)){r.memoizedState=hl(e,t,s,i);return}}ct.flags|=n,r.memoizedState=hl(1|e,t,s,i)}function Gy(n,e){return Jc(8390656,8,n,e)}function Wp(n,e){return bh(2048,8,n,e)}function $w(n,e){return bh(4,2,n,e)}function Gw(n,e){return bh(4,4,n,e)}function qw(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Kw(n,e,t){return t=t!=null?t.concat([n]):null,bh(4,4,qw.bind(null,e,n),t)}function Up(){}function Qw(n,e){var t=Wn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&jp(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Zw(n,e){var t=Wn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&jp(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Jw(n,e,t){return vs&21?(ri(t,e)||(t=rw(),ct.lanes|=t,ys|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,gn=!0),n.memoizedState=t)}function IE(n,e){var t=Xe;Xe=t!==0&&4>t?t:4,n(!0);var i=Ld.transition;Ld.transition={};try{n(!1),e()}finally{Xe=t,Ld.transition=i}}function e1(){return Wn().memoizedState}function PE(n,e,t){var i=xr(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},t1(n))n1(e,t);else if(t=Dw(n,e,t,i),t!==null){var r=an();ni(t,n,i,r),i1(t,e,i)}}function RE(n,e,t){var i=xr(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(t1(n))n1(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,ri(o,a)){var l=e.interleaved;l===null?(r.next=r,Op(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=Dw(n,e,r,i),t!==null&&(r=an(),ni(t,n,i,r),i1(t,e,i))}}function t1(n){var e=n.alternate;return n===ct||e!==null&&e===ct}function n1(n,e){Vo=Fu=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function i1(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,wp(n,t)}}var Vu={readContext:Bn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},NE={readContext:Bn,useCallback:function(n,e){return li().memoizedState=[n,e===void 0?null:e],n},useContext:Bn,useEffect:Gy,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Jc(4194308,4,qw.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Jc(4194308,4,n,e)},useInsertionEffect:function(n,e){return Jc(4,2,n,e)},useMemo:function(n,e){var t=li();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=li();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=PE.bind(null,ct,n),[i.memoizedState,n]},useRef:function(n){var e=li();return n={current:n},e.memoizedState=n},useState:$y,useDebugValue:Up,useDeferredValue:function(n){return li().memoizedState=n},useTransition:function(){var n=$y(!1),e=n[0];return n=IE.bind(null,n[1]),li().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ct,r=li();if(at){if(t===void 0)throw Error(K(407));t=t()}else{if(t=e(),Mt===null)throw Error(K(349));vs&30||Hw(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Gy(Ww.bind(null,i,s,n),[n]),i.flags|=2048,hl(9,Bw.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=li(),e=Mt.identifierPrefix;if(at){var t=Ti,i=Ei;t=(i&~(1<<32-ti(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=cl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=TE++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},LE={readContext:Bn,useCallback:Qw,useContext:Bn,useEffect:Wp,useImperativeHandle:Kw,useInsertionEffect:$w,useLayoutEffect:Gw,useMemo:Zw,useReducer:Md,useRef:Yw,useState:function(){return Md(ul)},useDebugValue:Up,useDeferredValue:function(n){var e=Wn();return Jw(e,St.memoizedState,n)},useTransition:function(){var n=Md(ul)[0],e=Wn().memoizedState;return[n,e]},useMutableSource:zw,useSyncExternalStore:jw,useId:e1,unstable_isNewReconciler:!1},ME={readContext:Bn,useCallback:Qw,useContext:Bn,useEffect:Wp,useImperativeHandle:Kw,useInsertionEffect:$w,useLayoutEffect:Gw,useMemo:Zw,useReducer:Od,useRef:Yw,useState:function(){return Od(ul)},useDebugValue:Up,useDeferredValue:function(n){var e=Wn();return St===null?e.memoizedState=n:Jw(e,St.memoizedState,n)},useTransition:function(){var n=Od(ul)[0],e=Wn().memoizedState;return[n,e]},useMutableSource:zw,useSyncExternalStore:jw,useId:e1,unstable_isNewReconciler:!1};function qn(n,e){if(n&&n.defaultProps){e=ut({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Qf(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ut({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var wh={isMounted:function(n){return(n=n._reactInternals)?Is(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=an(),r=xr(n),s=Ni(i,r);s.payload=e,t!=null&&(s.callback=t),e=vr(n,s,r),e!==null&&(ni(e,n,r,i),Qc(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=an(),r=xr(n),s=Ni(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=vr(n,s,r),e!==null&&(ni(e,n,r,i),Qc(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=an(),i=xr(n),r=Ni(t,i);r.tag=2,e!=null&&(r.callback=e),e=vr(n,r,i),e!==null&&(ni(e,n,i,t),Qc(e,n,i))}};function qy(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!il(t,i)||!il(r,s):!0}function r1(n,e,t){var i=!1,r=Tr,s=e.contextType;return typeof s=="object"&&s!==null?s=Bn(s):(r=mn(e)?ps:en.current,i=e.contextTypes,s=(i=i!=null)?wa(n,r):Tr),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Ky(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&wh.enqueueReplaceState(e,e.state,null)}function Zf(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Dp(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Bn(s):(s=mn(e)?ps:en.current,r.context=wa(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qf(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&wh.enqueueReplaceState(r,r.state,null),Ou(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Sa(n,e){try{var t="",i=e;do t+=lC(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Dd(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Jf(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var OE=typeof WeakMap=="function"?WeakMap:Map;function s1(n,e,t){t=Ni(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){ju||(ju=!0,cg=i),Jf(n,e)},t}function a1(n,e,t){t=Ni(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Jf(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Jf(n,e),typeof i!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Qy(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new OE;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=qE.bind(null,n,e,t),e.then(n,n))}function Zy(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Jy(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ni(-1,1),e.tag=2,vr(t,e,1))),t.lanes|=1),n)}var DE=Ui.ReactCurrentOwner,gn=!1;function rn(n,e,t,i){e.child=n===null?Ow(e,null,t,i):ka(e,n.child,t,i)}function ex(n,e,t,i,r){t=t.render;var s=e.ref;return da(e,r),i=Hp(n,e,t,i,s,r),t=Bp(),n!==null&&!gn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Vi(n,e,r)):(at&&t&&Ip(e),e.flags|=1,rn(n,e,i,r),e.child)}function tx(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,o1(n,e,s,i,r)):(n=iu(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:il,t(a,i)&&n.ref===e.ref)return Vi(n,e,r)}return e.flags|=1,n=br(s,i),n.ref=e.ref,n.return=e,e.child=n}function o1(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(il(s,i)&&n.ref===e.ref)if(gn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(gn=!0);else return e.lanes=n.lanes,Vi(n,e,r)}return eg(n,e,t,i,r)}function l1(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ra,bn),bn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,et(ra,bn),bn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,et(ra,bn),bn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,et(ra,bn),bn|=i;return rn(n,e,r,t),e.child}function c1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function eg(n,e,t,i,r){var s=mn(t)?ps:en.current;return s=wa(e,s),da(e,r),t=Hp(n,e,t,i,s,r),i=Bp(),n!==null&&!gn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Vi(n,e,r)):(at&&i&&Ip(e),e.flags|=1,rn(n,e,t,r),e.child)}function nx(n,e,t,i,r){if(mn(t)){var s=!0;Pu(e)}else s=!1;if(da(e,r),e.stateNode===null)eu(n,e),r1(e,t,i),Zf(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=mn(t)?ps:en.current,c=wa(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&Ky(e,a,i,c),tr=!1;var d=e.memoizedState;a.state=d,Ou(e,i,a,r),l=e.memoizedState,o!==i||d!==l||pn.current||tr?(typeof u=="function"&&(Qf(e,t,u,i),l=e.memoizedState),(o=tr||qy(e,t,o,i,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Fw(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:qn(e.type,o),a.props=c,h=e.pendingProps,d=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=mn(t)?ps:en.current,l=wa(e,l));var g=t.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&Ky(e,a,i,l),tr=!1,d=e.memoizedState,a.state=d,Ou(e,i,a,r);var p=e.memoizedState;o!==h||d!==p||pn.current||tr?(typeof g=="function"&&(Qf(e,t,g,i),p=e.memoizedState),(c=tr||qy(e,t,c,i,d,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return tg(n,e,t,i,s,r)}function tg(n,e,t,i,r,s){c1(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Hy(e,t,!1),Vi(n,e,s);i=e.stateNode,DE.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=ka(e,n.child,null,s),e.child=ka(e,null,o,s)):rn(n,e,o,s),e.memoizedState=i.state,r&&Hy(e,t,!0),e.child}function u1(n){var e=n.stateNode;e.pendingContext?jy(n,e.pendingContext,e.pendingContext!==e.context):e.context&&jy(n,e.context,!1),Fp(n,e.containerInfo)}function ix(n,e,t,i,r){return _a(),Rp(r),e.flags|=256,rn(n,e,t,i),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function ig(n){return{baseLanes:n,cachePool:null,transitions:null}}function h1(n,e,t){var i=e.pendingProps,r=ot.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),et(ot,r&1),n===null)return qf(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ah(a,i,0,null),n=ds(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=ig(t),e.memoizedState=ng,n):Xp(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return FE(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=br(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=br(o,s):(s=ds(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?ig(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=ng,i}return s=n.child,n=s.sibling,i=br(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Xp(n,e){return e=Ah({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Lc(n,e,t,i){return i!==null&&Rp(i),ka(e,n.child,null,t),n=Xp(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function FE(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=Dd(Error(K(422))),Lc(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ah({mode:"visible",children:i.children},r,0,null),s=ds(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ka(e,n.child,null,a),e.child.memoizedState=ig(a),e.memoizedState=ng,s);if(!(e.mode&1))return Lc(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(K(419)),i=Dd(s,i,void 0),Lc(n,e,a,i)}if(o=(a&n.childLanes)!==0,gn||o){if(i=Mt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Fi(n,r),ni(i,n,r,-1))}return Qp(),i=Dd(Error(K(421))),Lc(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=KE.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,wn=mr(r.nextSibling),kn=e,at=!0,Qn=null,n!==null&&(Nn[Ln++]=Ei,Nn[Ln++]=Ti,Nn[Ln++]=ms,Ei=n.id,Ti=n.overflow,ms=e),e=Xp(e,i.children),e.flags|=4096,e)}function rx(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Kf(n.return,e,t)}function Fd(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function d1(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(rn(n,e,i.children,t),i=ot.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rx(n,t,e);else if(n.tag===19)rx(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(et(ot,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Du(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Fd(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Du(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Fd(e,!0,t,null,s);break;case"together":Fd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Vi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ys|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(K(153));if(e.child!==null){for(n=e.child,t=br(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=br(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function VE(n,e,t){switch(e.tag){case 3:u1(e),_a();break;case 5:Vw(e);break;case 1:mn(e.type)&&Pu(e);break;case 4:Fp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;et(Lu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(et(ot,ot.current&1),e.flags|=128,null):t&e.child.childLanes?h1(n,e,t):(et(ot,ot.current&1),n=Vi(n,e,t),n!==null?n.sibling:null);et(ot,ot.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return d1(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),et(ot,ot.current),i)break;return null;case 22:case 23:return e.lanes=0,l1(n,e,t)}return Vi(n,e,t)}var f1,rg,g1,p1;f1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};rg=function(){};g1=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,as(di.current);var s=null;switch(t){case"input":r=Cf(n,r),i=Cf(n,i),s=[];break;case"select":r=ut({},r,{value:void 0}),i=ut({},i,{value:void 0}),s=[];break;case"textarea":r=If(n,r),i=If(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Tu)}Rf(t,i);var a;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ko.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&it("scroll",n),s||o===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};p1=function(n,e,t,i){t!==i&&(e.flags|=4)};function yo(n,e){if(!at)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function qt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function zE(n,e,t){var i=e.pendingProps;switch(Pp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return mn(e.type)&&Iu(),qt(e),null;case 3:return i=e.stateNode,Aa(),st(pn),st(en),zp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Rc(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(dg(Qn),Qn=null))),rg(n,e),qt(e),null;case 5:Vp(e);var r=as(ll.current);if(t=e.type,n!==null&&e.stateNode!=null)g1(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return qt(e),null}if(n=as(di.current),Rc(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ui]=e,i[al]=s,n=(e.mode&1)!==0,t){case"dialog":it("cancel",i),it("close",i);break;case"iframe":case"object":case"embed":it("load",i);break;case"video":case"audio":for(r=0;r<So.length;r++)it(So[r],i);break;case"source":it("error",i);break;case"img":case"image":case"link":it("error",i),it("load",i);break;case"details":it("toggle",i);break;case"input":fy(i,s),it("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},it("invalid",i);break;case"textarea":py(i,s),it("invalid",i)}Rf(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&Pc(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Pc(i.textContent,o,n),r=["children",""+o]):Ko.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&it("scroll",i)}switch(t){case"input":_c(i),gy(i,s,!0);break;case"textarea":_c(i),my(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Tu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=W0(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[ui]=e,n[al]=i,f1(n,e,!1,!1),e.stateNode=n;e:{switch(a=Nf(t,i),t){case"dialog":it("cancel",n),it("close",n),r=i;break;case"iframe":case"object":case"embed":it("load",n),r=i;break;case"video":case"audio":for(r=0;r<So.length;r++)it(So[r],n);r=i;break;case"source":it("error",n),r=i;break;case"img":case"image":case"link":it("error",n),it("load",n),r=i;break;case"details":it("toggle",n),r=i;break;case"input":fy(n,i),r=Cf(n,i),it("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ut({},i,{value:void 0}),it("invalid",n);break;case"textarea":py(n,i),r=If(n,i),it("invalid",n);break;default:r=i}Rf(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Y0(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U0(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Qo(n,l):typeof l=="number"&&Qo(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ko.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",n):l!=null&&pp(n,s,l,a))}switch(t){case"input":_c(n),gy(n,i,!1);break;case"textarea":_c(n),my(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Er(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?la(n,!!i.multiple,s,!1):i.defaultValue!=null&&la(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Tu)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(n&&e.stateNode!=null)p1(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(t=as(ll.current),as(di.current),Rc(e)){if(i=e.stateNode,t=e.memoizedProps,i[ui]=e,(s=i.nodeValue!==t)&&(n=kn,n!==null))switch(n.tag){case 3:Pc(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pc(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ui]=e,e.stateNode=i}return qt(e),null;case 13:if(st(ot),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(at&&wn!==null&&e.mode&1&&!(e.flags&128))Lw(),_a(),e.flags|=98560,s=!1;else if(s=Rc(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[ui]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else Qn!==null&&(dg(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ot.current&1?Et===0&&(Et=3):Qp())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Aa(),rg(n,e),n===null&&rl(e.stateNode.containerInfo),qt(e),null;case 10:return Mp(e.type._context),qt(e),null;case 17:return mn(e.type)&&Iu(),qt(e),null;case 19:if(st(ot),s=e.memoizedState,s===null)return qt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)yo(s,!1);else{if(Et!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Du(n),a!==null){for(e.flags|=128,yo(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return et(ot,ot.current&1|2),e.child}n=n.sibling}s.tail!==null&&yt()>Ca&&(e.flags|=128,i=!0,yo(s,!1),e.lanes=4194304)}else{if(!i)if(n=Du(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!at)return qt(e),null}else 2*yt()-s.renderingStartTime>Ca&&t!==1073741824&&(e.flags|=128,i=!0,yo(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,t=ot.current,et(ot,i?t&1|2:t&1),e):(qt(e),null);case 22:case 23:return Kp(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?bn&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function jE(n,e){switch(Pp(e),e.tag){case 1:return mn(e.type)&&Iu(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Aa(),st(pn),st(en),zp(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Vp(e),null;case 13:if(st(ot),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(K(340));_a()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return st(ot),null;case 4:return Aa(),null;case 10:return Mp(e.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var Mc=!1,Zt=!1,HE=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ia(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){ft(n,e,i)}else t.current=null}function sg(n,e,t){try{t()}catch(i){ft(n,e,i)}}var sx=!1;function BE(n,e){if(Bf=Su,n=bw(),Tp(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var g;h!==t||r!==0&&h.nodeType!==3||(o=a+r),h!==s||i!==0&&h.nodeType!==3||(l=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===n)break t;if(d===t&&++c===r&&(o=a),d===s&&++u===i&&(l=a),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Wf={focusedElem:n,selectionRange:t},Su=!1,ce=e;ce!==null;)if(e=ce,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ce=n;else for(;ce!==null;){e=ce;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:qn(e.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(C){ft(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}return p=sx,sx=!1,p}function zo(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&sg(e,t,s)}r=r.next}while(r!==i)}}function _h(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function ag(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function m1(n){var e=n.alternate;e!==null&&(n.alternate=null,m1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ui],delete e[al],delete e[Yf],delete e[AE],delete e[SE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function v1(n){return n.tag===5||n.tag===3||n.tag===4}function ax(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||v1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function og(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Tu));else if(i!==4&&(n=n.child,n!==null))for(og(n,e,t),n=n.sibling;n!==null;)og(n,e,t),n=n.sibling}function lg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(lg(n,e,t),n=n.sibling;n!==null;)lg(n,e,t),n=n.sibling}var Dt=null,Kn=!1;function Zi(n,e,t){for(t=t.child;t!==null;)y1(n,e,t),t=t.sibling}function y1(n,e,t){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(gh,t)}catch{}switch(t.tag){case 5:Zt||ia(t,e);case 6:var i=Dt,r=Kn;Dt=null,Zi(n,e,t),Dt=i,Kn=r,Dt!==null&&(Kn?(n=Dt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Dt.removeChild(t.stateNode));break;case 18:Dt!==null&&(Kn?(n=Dt,t=t.stateNode,n.nodeType===8?Pd(n.parentNode,t):n.nodeType===1&&Pd(n,t),tl(n)):Pd(Dt,t.stateNode));break;case 4:i=Dt,r=Kn,Dt=t.stateNode.containerInfo,Kn=!0,Zi(n,e,t),Dt=i,Kn=r;break;case 0:case 11:case 14:case 15:if(!Zt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&sg(t,e,a),r=r.next}while(r!==i)}Zi(n,e,t);break;case 1:if(!Zt&&(ia(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){ft(t,e,o)}Zi(n,e,t);break;case 21:Zi(n,e,t);break;case 22:t.mode&1?(Zt=(i=Zt)||t.memoizedState!==null,Zi(n,e,t),Zt=i):Zi(n,e,t);break;default:Zi(n,e,t)}}function ox(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new HE),e.forEach(function(i){var r=QE.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Yn(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Dt=o.stateNode,Kn=!1;break e;case 3:Dt=o.stateNode.containerInfo,Kn=!0;break e;case 4:Dt=o.stateNode.containerInfo,Kn=!0;break e}o=o.return}if(Dt===null)throw Error(K(160));y1(s,a,r),Dt=null,Kn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ft(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x1(e,n),e=e.sibling}function x1(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yn(e,n),oi(n),i&4){try{zo(3,n,n.return),_h(3,n)}catch(m){ft(n,n.return,m)}try{zo(5,n,n.return)}catch(m){ft(n,n.return,m)}}break;case 1:Yn(e,n),oi(n),i&512&&t!==null&&ia(t,t.return);break;case 5:if(Yn(e,n),oi(n),i&512&&t!==null&&ia(t,t.return),n.flags&32){var r=n.stateNode;try{Qo(r,"")}catch(m){ft(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&H0(r,s),Nf(o,a);var c=Nf(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?Y0(r,h):u==="dangerouslySetInnerHTML"?U0(r,h):u==="children"?Qo(r,h):pp(r,u,h,c)}switch(o){case"input":Ef(r,s);break;case"textarea":B0(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?la(r,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?la(r,!!s.multiple,s.defaultValue,!0):la(r,!!s.multiple,s.multiple?[]:"",!1))}r[al]=s}catch(m){ft(n,n.return,m)}}break;case 6:if(Yn(e,n),oi(n),i&4){if(n.stateNode===null)throw Error(K(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){ft(n,n.return,m)}}break;case 3:if(Yn(e,n),oi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(m){ft(n,n.return,m)}break;case 4:Yn(e,n),oi(n);break;case 13:Yn(e,n),oi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gp=yt())),i&4&&ox(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Zt=(c=Zt)||u,Yn(e,n),Zt=c):Yn(e,n),oi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ce=n,u=n.child;u!==null;){for(h=ce=u;ce!==null;){switch(d=ce,g=d.child,d.tag){case 0:case 11:case 14:case 15:zo(4,d,d.return);break;case 1:ia(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ft(i,t,m)}}break;case 5:ia(d,d.return);break;case 22:if(d.memoizedState!==null){cx(h);continue}}g!==null?(g.return=d,ce=g):cx(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=X0("display",a))}catch(m){ft(n,n.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){ft(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,n),oi(n),i&4&&ox(n);break;case 21:break;default:Yn(e,n),oi(n)}}function oi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(v1(t)){var i=t;break e}t=t.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Qo(r,""),i.flags&=-33);var s=ax(n);lg(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=ax(n);og(n,o,a);break;default:throw Error(K(161))}}catch(l){ft(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function WE(n,e,t){ce=n,b1(n)}function b1(n,e,t){for(var i=(n.mode&1)!==0;ce!==null;){var r=ce,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Mc;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||Zt;o=Mc;var c=Zt;if(Mc=a,(Zt=l)&&!c)for(ce=r;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?ux(r):l!==null?(l.return=a,ce=l):ux(r);for(;s!==null;)ce=s,b1(s),s=s.sibling;ce=r,Mc=o,Zt=c}lx(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ce=s):lx(n)}}function lx(n){for(;ce!==null;){var e=ce;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||_h(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Zt)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:qn(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Yy(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Yy(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&tl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Zt||e.flags&512&&ag(e)}catch(d){ft(e,e.return,d)}}if(e===n){ce=null;break}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}}function cx(n){for(;ce!==null;){var e=ce;if(e===n){ce=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ce=t;break}ce=e.return}}function ux(n){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{_h(4,e)}catch(l){ft(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ft(e,r,l)}}var s=e.return;try{ag(e)}catch(l){ft(e,s,l)}break;case 5:var a=e.return;try{ag(e)}catch(l){ft(e,a,l)}}}catch(l){ft(e,e.return,l)}if(e===n){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var UE=Math.ceil,zu=Ui.ReactCurrentDispatcher,Yp=Ui.ReactCurrentOwner,zn=Ui.ReactCurrentBatchConfig,De=0,Mt=null,bt=null,Bt=0,bn=0,ra=jr(0),Et=0,dl=null,ys=0,kh=0,$p=0,jo=null,dn=null,Gp=0,Ca=1/0,Ai=null,ju=!1,cg=null,yr=null,Oc=!1,ur=null,Hu=0,Ho=0,ug=null,tu=-1,nu=0;function an(){return De&6?yt():tu!==-1?tu:tu=yt()}function xr(n){return n.mode&1?De&2&&Bt!==0?Bt&-Bt:EE.transition!==null?(nu===0&&(nu=rw()),nu):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:hw(n.type)),n):1}function ni(n,e,t,i){if(50<Ho)throw Ho=0,ug=null,Error(K(185));Ll(n,t,i),(!(De&2)||n!==Mt)&&(n===Mt&&(!(De&2)&&(kh|=t),Et===4&&ir(n,Bt)),vn(n,i),t===1&&De===0&&!(e.mode&1)&&(Ca=yt()+500,xh&&Hr()))}function vn(n,e){var t=n.callbackNode;EC(n,e);var i=Au(n,n===Mt?Bt:0);if(i===0)t!==null&&xy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&xy(t),e===1)n.tag===0?CE(hx.bind(null,n)):Pw(hx.bind(null,n)),_E(function(){!(De&6)&&Hr()}),t=null;else{switch(sw(i)){case 1:t=bp;break;case 4:t=nw;break;case 16:t=ku;break;case 536870912:t=iw;break;default:t=ku}t=T1(t,w1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function w1(n,e){if(tu=-1,nu=0,De&6)throw Error(K(327));var t=n.callbackNode;if(fa()&&n.callbackNode!==t)return null;var i=Au(n,n===Mt?Bt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Bu(n,i);else{e=i;var r=De;De|=2;var s=k1();(Mt!==n||Bt!==e)&&(Ai=null,Ca=yt()+500,hs(n,e));do try{$E();break}catch(o){_1(n,o)}while(!0);Lp(),zu.current=s,De=r,bt!==null?e=0:(Mt=null,Bt=0,e=Et)}if(e!==0){if(e===2&&(r=Ff(n),r!==0&&(i=r,e=hg(n,r))),e===1)throw t=dl,hs(n,0),ir(n,i),vn(n,yt()),t;if(e===6)ir(n,i);else{if(r=n.current.alternate,!(i&30)&&!XE(r)&&(e=Bu(n,i),e===2&&(s=Ff(n),s!==0&&(i=s,e=hg(n,s))),e===1))throw t=dl,hs(n,0),ir(n,i),vn(n,yt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:Zr(n,dn,Ai);break;case 3:if(ir(n,i),(i&130023424)===i&&(e=Gp+500-yt(),10<e)){if(Au(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){an(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Xf(Zr.bind(null,n,dn,Ai),e);break}Zr(n,dn,Ai);break;case 4:if(ir(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-ti(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=yt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*UE(i/1960))-i,10<i){n.timeoutHandle=Xf(Zr.bind(null,n,dn,Ai),i);break}Zr(n,dn,Ai);break;case 5:Zr(n,dn,Ai);break;default:throw Error(K(329))}}}return vn(n,yt()),n.callbackNode===t?w1.bind(null,n):null}function hg(n,e){var t=jo;return n.current.memoizedState.isDehydrated&&(hs(n,e).flags|=256),n=Bu(n,e),n!==2&&(e=dn,dn=t,e!==null&&dg(e)),n}function dg(n){dn===null?dn=n:dn.push.apply(dn,n)}function XE(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!ri(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(n,e){for(e&=~$p,e&=~kh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ti(e),i=1<<t;n[t]=-1,e&=~i}}function hx(n){if(De&6)throw Error(K(327));fa();var e=Au(n,0);if(!(e&1))return vn(n,yt()),null;var t=Bu(n,e);if(n.tag!==0&&t===2){var i=Ff(n);i!==0&&(e=i,t=hg(n,i))}if(t===1)throw t=dl,hs(n,0),ir(n,e),vn(n,yt()),t;if(t===6)throw Error(K(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Zr(n,dn,Ai),vn(n,yt()),null}function qp(n,e){var t=De;De|=1;try{return n(e)}finally{De=t,De===0&&(Ca=yt()+500,xh&&Hr())}}function xs(n){ur!==null&&ur.tag===0&&!(De&6)&&fa();var e=De;De|=1;var t=zn.transition,i=Xe;try{if(zn.transition=null,Xe=1,n)return n()}finally{Xe=i,zn.transition=t,De=e,!(De&6)&&Hr()}}function Kp(){bn=ra.current,st(ra)}function hs(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,wE(t)),bt!==null)for(t=bt.return;t!==null;){var i=t;switch(Pp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Iu();break;case 3:Aa(),st(pn),st(en),zp();break;case 5:Vp(i);break;case 4:Aa();break;case 13:st(ot);break;case 19:st(ot);break;case 10:Mp(i.type._context);break;case 22:case 23:Kp()}t=t.return}if(Mt=n,bt=n=br(n.current,null),Bt=bn=e,Et=0,dl=null,$p=kh=ys=0,dn=jo=null,ss!==null){for(e=0;e<ss.length;e++)if(t=ss[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}ss=null}return n}function _1(n,e){do{var t=bt;try{if(Lp(),Zc.current=Vu,Fu){for(var i=ct.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fu=!1}if(vs=0,Lt=St=ct=null,Vo=!1,cl=0,Yp.current=null,t===null||t.return===null){Et=1,dl=e,bt=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=Bt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Zy(a);if(g!==null){g.flags&=-257,Jy(g,a,o,s,e),g.mode&1&&Qy(s,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Qy(s,c,e),Qp();break e}l=Error(K(426))}}else if(at&&o.mode&1){var x=Zy(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Jy(x,a,o,s,e),Rp(Sa(l,o));break e}}s=l=Sa(l,o),Et!==4&&(Et=2),jo===null?jo=[s]:jo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=s1(s,l,e);Xy(s,v);break e;case 1:o=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yr===null||!yr.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=a1(s,o,e);Xy(s,C);break e}}s=s.return}while(s!==null)}S1(t)}catch(S){e=S,bt===t&&t!==null&&(bt=t=t.return);continue}break}while(!0)}function k1(){var n=zu.current;return zu.current=Vu,n===null?Vu:n}function Qp(){(Et===0||Et===3||Et===2)&&(Et=4),Mt===null||!(ys&268435455)&&!(kh&268435455)||ir(Mt,Bt)}function Bu(n,e){var t=De;De|=2;var i=k1();(Mt!==n||Bt!==e)&&(Ai=null,hs(n,e));do try{YE();break}catch(r){_1(n,r)}while(!0);if(Lp(),De=t,zu.current=i,bt!==null)throw Error(K(261));return Mt=null,Bt=0,Et}function YE(){for(;bt!==null;)A1(bt)}function $E(){for(;bt!==null&&!yC();)A1(bt)}function A1(n){var e=E1(n.alternate,n,bn);n.memoizedProps=n.pendingProps,e===null?S1(n):bt=e,Yp.current=null}function S1(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=jE(t,e),t!==null){t.flags&=32767,bt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,bt=null;return}}else if(t=zE(t,e,bn),t!==null){bt=t;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=n}while(e!==null);Et===0&&(Et=5)}function Zr(n,e,t){var i=Xe,r=zn.transition;try{zn.transition=null,Xe=1,GE(n,e,t,i)}finally{zn.transition=r,Xe=i}return null}function GE(n,e,t,i){do fa();while(ur!==null);if(De&6)throw Error(K(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(K(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(TC(n,s),n===Mt&&(bt=Mt=null,Bt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Oc||(Oc=!0,T1(ku,function(){return fa(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var a=Xe;Xe=1;var o=De;De|=4,Yp.current=null,BE(n,t),x1(t,n),gE(Wf),Su=!!Bf,Wf=Bf=null,n.current=t,WE(t),xC(),De=o,Xe=a,zn.transition=s}else n.current=t;if(Oc&&(Oc=!1,ur=n,Hu=r),s=n.pendingLanes,s===0&&(yr=null),_C(t.stateNode),vn(n,yt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(ju)throw ju=!1,n=cg,cg=null,n;return Hu&1&&n.tag!==0&&fa(),s=n.pendingLanes,s&1?n===ug?Ho++:(Ho=0,ug=n):Ho=0,Hr(),null}function fa(){if(ur!==null){var n=sw(Hu),e=zn.transition,t=Xe;try{if(zn.transition=null,Xe=16>n?16:n,ur===null)var i=!1;else{if(n=ur,ur=null,Hu=0,De&6)throw Error(K(331));var r=De;for(De|=4,ce=n.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ce=c;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:zo(8,u,s)}var h=u.child;if(h!==null)h.return=u,ce=h;else for(;ce!==null;){u=ce;var d=u.sibling,g=u.return;if(m1(u),u===c){ce=null;break}if(d!==null){d.return=g,ce=d;break}ce=g}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ce=v;break e}ce=s.return}}var y=n.current;for(ce=y;ce!==null;){a=ce;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ce=b;else e:for(a=y;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_h(9,o)}}catch(S){ft(o,o.return,S)}if(o===a){ce=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,ce=C;break e}ce=o.return}}if(De=r,Hr(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(gh,n)}catch{}i=!0}return i}finally{Xe=t,zn.transition=e}}return!1}function dx(n,e,t){e=Sa(t,e),e=s1(n,e,1),n=vr(n,e,1),e=an(),n!==null&&(Ll(n,1,e),vn(n,e))}function ft(n,e,t){if(n.tag===3)dx(n,n,t);else for(;e!==null;){if(e.tag===3){dx(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yr===null||!yr.has(i))){n=Sa(t,n),n=a1(e,n,1),e=vr(e,n,1),n=an(),e!==null&&(Ll(e,1,n),vn(e,n));break}}e=e.return}}function qE(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=an(),n.pingedLanes|=n.suspendedLanes&t,Mt===n&&(Bt&t)===t&&(Et===4||Et===3&&(Bt&130023424)===Bt&&500>yt()-Gp?hs(n,0):$p|=t),vn(n,e)}function C1(n,e){e===0&&(n.mode&1?(e=Sc,Sc<<=1,!(Sc&130023424)&&(Sc=4194304)):e=1);var t=an();n=Fi(n,e),n!==null&&(Ll(n,e,t),vn(n,t))}function KE(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),C1(n,t)}function QE(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),C1(n,t)}var E1;E1=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||pn.current)gn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return gn=!1,VE(n,e,t);gn=!!(n.flags&131072)}else gn=!1,at&&e.flags&1048576&&Rw(e,Nu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;eu(n,e),n=e.pendingProps;var r=wa(e,en.current);da(e,t),r=Hp(null,e,i,n,r,t);var s=Bp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(i)?(s=!0,Pu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dp(e),r.updater=wh,e.stateNode=r,r._reactInternals=e,Zf(e,i,n,t),e=tg(null,e,i,!0,s,t)):(e.tag=0,at&&s&&Ip(e),rn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(eu(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=JE(i),n=qn(i,n),r){case 0:e=eg(null,e,i,n,t);break e;case 1:e=nx(null,e,i,n,t);break e;case 11:e=ex(null,e,i,n,t);break e;case 14:e=tx(null,e,i,qn(i.type,n),t);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qn(i,r),eg(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qn(i,r),nx(n,e,i,r,t);case 3:e:{if(u1(e),n===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Fw(n,e),Ou(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Sa(Error(K(423)),e),e=ix(n,e,i,t,r);break e}else if(i!==r){r=Sa(Error(K(424)),e),e=ix(n,e,i,t,r);break e}else for(wn=mr(e.stateNode.containerInfo.firstChild),kn=e,at=!0,Qn=null,t=Ow(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(_a(),i===r){e=Vi(n,e,t);break e}rn(n,e,i,t)}e=e.child}return e;case 5:return Vw(e),n===null&&qf(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,Uf(i,r)?a=null:s!==null&&Uf(i,s)&&(e.flags|=32),c1(n,e),rn(n,e,a,t),e.child;case 6:return n===null&&qf(e),null;case 13:return h1(n,e,t);case 4:return Fp(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ka(e,null,i,t):rn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qn(i,r),ex(n,e,i,r,t);case 7:return rn(n,e,e.pendingProps,t),e.child;case 8:return rn(n,e,e.pendingProps.children,t),e.child;case 12:return rn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,et(Lu,i._currentValue),i._currentValue=a,s!==null)if(ri(s.value,a)){if(s.children===r.children&&!pn.current){e=Vi(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ni(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Kf(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Kf(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}rn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,da(e,t),r=Bn(r),i=i(r),e.flags|=1,rn(n,e,i,t),e.child;case 14:return i=e.type,r=qn(i,e.pendingProps),r=qn(i.type,r),tx(n,e,i,r,t);case 15:return o1(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qn(i,r),eu(n,e),e.tag=1,mn(i)?(n=!0,Pu(e)):n=!1,da(e,t),r1(e,i,r),Zf(e,i,r,t),tg(null,e,i,!0,n,t);case 19:return d1(n,e,t);case 22:return l1(n,e,t)}throw Error(K(156,e.tag))};function T1(n,e){return tw(n,e)}function ZE(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,e,t,i){return new ZE(n,e,t,i)}function Zp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function JE(n){if(typeof n=="function")return Zp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===vp)return 11;if(n===yp)return 14}return 2}function br(n,e){var t=n.alternate;return t===null?(t=Fn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function iu(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")Zp(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Gs:return ds(t.children,r,s,e);case mp:a=8,r|=8;break;case _f:return n=Fn(12,t,e,r|2),n.elementType=_f,n.lanes=s,n;case kf:return n=Fn(13,t,e,r),n.elementType=kf,n.lanes=s,n;case Af:return n=Fn(19,t,e,r),n.elementType=Af,n.lanes=s,n;case V0:return Ah(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D0:a=10;break e;case F0:a=9;break e;case vp:a=11;break e;case yp:a=14;break e;case er:a=16,i=null;break e}throw Error(K(130,n==null?n:typeof n,""))}return e=Fn(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ds(n,e,t,i){return n=Fn(7,n,i,e),n.lanes=t,n}function Ah(n,e,t,i){return n=Fn(22,n,i,e),n.elementType=V0,n.lanes=t,n.stateNode={isHidden:!1},n}function Vd(n,e,t){return n=Fn(6,n,null,e),n.lanes=t,n}function zd(n,e,t){return e=Fn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function eT(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xd(0),this.expirationTimes=xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Jp(n,e,t,i,r,s,a,o,l){return n=new eT(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(s),n}function tT(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function I1(n){if(!n)return Tr;n=n._reactInternals;e:{if(Is(n)!==n||n.tag!==1)throw Error(K(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(n.tag===1){var t=n.type;if(mn(t))return Iw(n,t,e)}return e}function P1(n,e,t,i,r,s,a,o,l){return n=Jp(t,i,!0,n,r,s,a,o,l),n.context=I1(null),t=n.current,i=an(),r=xr(t),s=Ni(i,r),s.callback=e??null,vr(t,s,r),n.current.lanes=r,Ll(n,r,i),vn(n,i),n}function Sh(n,e,t,i){var r=e.current,s=an(),a=xr(r);return t=I1(t),e.context===null?e.context=t:e.pendingContext=t,e=Ni(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=vr(r,e,a),n!==null&&(ni(n,r,a,s),Qc(n,r,a)),a}function Wu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function fx(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function em(n,e){fx(n,e),(n=n.alternate)&&fx(n,e)}function nT(){return null}var R1=typeof reportError=="function"?reportError:function(n){console.error(n)};function tm(n){this._internalRoot=n}Ch.prototype.render=tm.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(K(409));Sh(n,e,null,null)};Ch.prototype.unmount=tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;xs(function(){Sh(null,n,null,null)}),e[Di]=null}};function Ch(n){this._internalRoot=n}Ch.prototype.unstable_scheduleHydration=function(n){if(n){var e=lw();n={blockedOn:null,target:n,priority:e};for(var t=0;t<nr.length&&e!==0&&e<nr[t].priority;t++);nr.splice(t,0,n),t===0&&uw(n)}};function nm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Eh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gx(){}function iT(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Wu(a);s.call(c)}}var a=P1(e,i,n,0,null,!1,!1,"",gx);return n._reactRootContainer=a,n[Di]=a.current,rl(n.nodeType===8?n.parentNode:n),xs(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=Wu(l);o.call(c)}}var l=Jp(n,0,!1,null,null,!1,!1,"",gx);return n._reactRootContainer=l,n[Di]=l.current,rl(n.nodeType===8?n.parentNode:n),xs(function(){Sh(e,l,t,i)}),l}function Th(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=Wu(a);o.call(l)}}Sh(e,a,n,r)}else a=iT(t,e,n,r,i);return Wu(a)}aw=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ao(e.pendingLanes);t!==0&&(wp(e,t|1),vn(e,yt()),!(De&6)&&(Ca=yt()+500,Hr()))}break;case 13:xs(function(){var i=Fi(n,1);if(i!==null){var r=an();ni(i,n,1,r)}}),em(n,1)}};_p=function(n){if(n.tag===13){var e=Fi(n,134217728);if(e!==null){var t=an();ni(e,n,134217728,t)}em(n,134217728)}};ow=function(n){if(n.tag===13){var e=xr(n),t=Fi(n,e);if(t!==null){var i=an();ni(t,n,e,i)}em(n,e)}};lw=function(){return Xe};cw=function(n,e){var t=Xe;try{return Xe=n,e()}finally{Xe=t}};Mf=function(n,e,t){switch(e){case"input":if(Ef(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=yh(i);if(!r)throw Error(K(90));j0(i),Ef(i,r)}}}break;case"textarea":B0(n,t);break;case"select":e=t.value,e!=null&&la(n,!!t.multiple,e,!1)}};q0=qp;K0=xs;var rT={usingClientEntryPoint:!1,Events:[Ol,Zs,yh,$0,G0,qp]},xo={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sT={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=J0(n),n===null?null:n.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{gh=Dc.inject(sT),hi=Dc}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;Cn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nm(e))throw Error(K(200));return tT(n,e,null,t)};Cn.createRoot=function(n,e){if(!nm(n))throw Error(K(299));var t=!1,i="",r=R1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Jp(n,1,!1,null,null,t,!1,i,r),n[Di]=e.current,rl(n.nodeType===8?n.parentNode:n),new tm(e)};Cn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(K(188)):(n=Object.keys(n).join(","),Error(K(268,n)));return n=J0(e),n=n===null?null:n.stateNode,n};Cn.flushSync=function(n){return xs(n)};Cn.hydrate=function(n,e,t){if(!Eh(e))throw Error(K(200));return Th(null,n,e,!0,t)};Cn.hydrateRoot=function(n,e,t){if(!nm(n))throw Error(K(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=R1;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=P1(e,null,n,1,t??null,r,!1,s,a),n[Di]=e.current,rl(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Ch(e)};Cn.render=function(n,e,t){if(!Eh(e))throw Error(K(200));return Th(null,n,e,!1,t)};Cn.unmountComponentAtNode=function(n){if(!Eh(n))throw Error(K(40));return n._reactRootContainer?(xs(function(){Th(null,null,n,!1,function(){n._reactRootContainer=null,n[Di]=null})}),!0):!1};Cn.unstable_batchedUpdates=qp;Cn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Eh(t))throw Error(K(200));if(n==null||n._reactInternals===void 0)throw Error(K(38));return Th(n,e,t,!1,i)};Cn.version="18.3.1-next-f1338f8080-20240426";function N1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N1)}catch(n){console.error(n)}}N1(),N0.exports=Cn;var aT=N0.exports,L1,px=aT;L1=px.createRoot,px.hydrateRoot;function oT(){return I.jsx("div",{className:"card",children:I.jsx("p",{className:"muted",children:"This is the React port. Use the sidebar to navigate."})})}/*!
 * ApexCharts v4.7.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function fg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function M1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function se(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mx(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,F1(i.key),i)}}function ae(n,e,t){return e&&mx(n.prototype,e),t&&mx(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Co(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=im(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw s}}}}function Fl(n){var e=O1();return function(){var t,i=Xu(n);if(e){var r=Xu(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(s,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M1(s)}(this,t)}}function Uu(n,e,t){return(e=F1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xu(n){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xu(n)}function Vl(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gg(n,e)}function O1(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O1=function(){return!!n})()}function vx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Q(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(t),!0).forEach(function(i){Uu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gg(n,e){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},gg(n,e)}function D1(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,o,l,c=[],u=!0,h=!1;try{if(o=(r=r.call(t)).next,i===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(s=o.call(r)).done)&&(c.push(s.value),c.length!==i);u=!0);}catch(d){h=!0,a=d}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(n,e)||im(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tt(n){return function(e){if(Array.isArray(e))return fg(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||im(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F1(n){var e=function(t,i){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:e+""}function Ea(n){return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(n)}function im(n,e){if(n){if(typeof n=="string")return fg(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fg(n,e):void 0}}var O=function(){function n(){se(this,n)}return ae(n,[{key:"shadeRGBColor",value:function(e,t){var i=t.split(","),r=e<0?0:255,s=e<0?-1*e:e,a=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),l=parseInt(i[2],10);return"rgb("+(Math.round((r-a)*s)+a)+","+(Math.round((r-o)*s)+o)+","+(Math.round((r-l)*s)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var i=parseInt(t.slice(1),16),r=e<0?0:255,s=e<0?-1*e:e,a=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((r-a)*s)+a)+256*(Math.round((r-o)*s)+o)+(Math.round((r-l)*s)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return n.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Ea(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(s),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}return a});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){i.isObject(t[s])&&s in e?r[s]=i.extend(e[s],t[s]):Object.assign(r,Uu({},s,t[s]))}),r}},{key:"extendArray",value:function(e,t){var i=[];return e.map(function(r){i.push(n.extend(t,r))}),e=i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Ea(e)!=="object")return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){t=[],i.set(e,t);for(var r=0;r<e.length;r++)t[r]=this.clone(e[r],i)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},i.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],i));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),i=e.clientHeight,r=e.clientWidth;return i-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,i){return Array.isArray(i)&&(i=i.reduce(function(r,s){return r.length>s.length?r:s})),t.length>i.length?t:i},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var i=e.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var r=0;r<i.length;r++)i[r]=parseInt(i[r].length===1?i[r]+i[r]:i[r],16);return t!==void 0&&i.push(t),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var i=[],r=2*Math.PI/t,s=0;s<t;s++){var a={};a.x=e*Math.sin(s*r),a.y=-e*Math.cos(s*r),i.push(a)}return i}},{key:"polarToCartesian",value:function(e,t,i,r){var s=(r-90)*Math.PI/180;return{x:e+i*Math.cos(s),y:t+i*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=e.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,i){if(i>=e.length)for(var r=i-e.length+1;r--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style.key=t[i])}},{key:"preciseAddition",value:function(e,t){var i=(String(e).split(".")[1]||"").length,r=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(i,r));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*r),t=Math.round(Math.abs(t)*r);t;){var s=t;t=e%t,e=s}return e/r}},{key:"getPrimeFactors",value:function(e){for(var t=[],i=2;e>=2;)e%i==0?(t.push(i),e/=i):i++;return t}},{key:"mod",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*r))%(t=Math.round(Math.abs(t)*r))/r}}]),n}(),ja=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"animateLine",value:function(e,t,i,r){e.attr(t).animate(r).attr(i)}},{key:"animateMarker",value:function(e,t,i,r){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){r()})}},{key:"animateRect",value:function(e,t,i,r,s){e.attr(t).animate(r).attr(i).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,i=e.realIndex,r=e.j,s=e.fill,a=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,i,r,u.config.chart.type!=="line"||u.globals.comboCharts?s:"stroke",a,o,l,c*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,i,r,s,a,o,l){var c=this,u=this.w;s||(s=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var h=function(d){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=h()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=h()),u.globals.shouldAnimate||(o=1),e.plot(s).animate(1,l).plot(s).animate(o,l).plot(a).after(function(){O.isNumber(i)?i===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):r!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),n}();const pg={},V1=[];function Ce(n,e){if(Array.isArray(n))for(const t of n)Ce(t,e);else if(typeof n!="object")z1(Object.getOwnPropertyNames(e)),pg[n]=Object.assign(pg[n]||{},e);else for(const t in n)Ce(t,n[t])}function un(n){return pg[n]||{}}function z1(n){V1.push(...n)}function rm(n,e){let t;const i=n.length,r=[];for(t=0;t<i;t++)r.push(e(n[t]));return r}function jd(n){return n%360*Math.PI/180}function Ha(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Ba(n,e,t,i){return e!=null&&t!=null||(i=i||n.bbox(),e==null?e=i.width/i.height*t:t==null&&(t=i.height/i.width*e)),{width:e,height:t}}function mg(n,e){const t=n.origin;let i=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",r=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";t!=null&&([i,r]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const s=typeof i=="string",a=typeof r=="string";if(s||a){const{height:o,width:l,x:c,y:u}=e.bbox();s&&(i=i.includes("left")?c:i.includes("right")?c+l:c+l/2),a&&(r=r.includes("top")?u:r.includes("bottom")?u+o:u+o/2)}return[i,r]}const lT=new Set(["desc","metadata","title"]),vg=n=>lT.has(n.nodeName),j1=(n,e,t={})=>{const i={...e};for(const r in i)i[r].valueOf()===t[r]&&delete i[r];Object.keys(i).length?n.node.setAttribute("data-svgjs",JSON.stringify(i)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},sm="http://www.w3.org/2000/svg",Hd="http://www.w3.org/2000/xmlns/",Wa="http://www.w3.org/1999/xlink",Me={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function zl(){return Me.window}let am=class{};const fs={},om="___SYMBOL___ROOT___";function fl(n,e=sm){return Me.document.createElementNS(e,n)}function sn(n,e=!1){if(n instanceof am)return n;if(typeof n=="object")return Bd(n);if(n==null)return new fs[om];if(typeof n=="string"&&n.charAt(0)!=="<")return Bd(Me.document.querySelector(n));const t=e?Me.document.createElement("div"):fl("svg");return t.innerHTML=n,n=Bd(t.firstChild),t.removeChild(t.firstChild),n}function Ge(n,e){return e&&(e instanceof Me.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:fl(n)}function Rn(n){if(!n)return null;if(n.instance instanceof am)return n.instance;if(n.nodeName==="#document-fragment")return new fs.Fragment(n);let e=Ha(n.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":fs[e]||(e="Dom"),new fs[e](n)}let Bd=Rn;function Oe(n,e=n.name,t=!1){return fs[e]=n,t&&(fs[om]=n),z1(Object.getOwnPropertyNames(n.prototype)),n}let cT=1e3;function H1(n){return"Svgjs"+Ha(n)+cT++}function B1(n){for(let e=n.children.length-1;e>=0;e--)B1(n.children[e]);return n.id&&(n.id=H1(n.nodeName)),n}function ve(n,e){let t,i;for(i=(n=Array.isArray(n)?n:[n]).length-1;i>=0;i--)for(t in e)n[i].prototype[t]=e[t]}function $e(n){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?n.apply(this,e):n.apply(this,e.slice(0,-1)).attr(t)}}Ce("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const n=this.position();return this.parent().add(this.remove(),n+1),this},backward:function(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(n){(n=sn(n)).remove();const e=this.position();return this.parent().add(n,e),this},after:function(n){(n=sn(n)).remove();const e=this.position();return this.parent().add(n,e+1),this},insertBefore:function(n){return(n=sn(n)).before(this),this},insertAfter:function(n){return(n=sn(n)).after(this),this}});const W1=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,uT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hT=/rgb\((\d+),(\d+),(\d+)\)/,dT=/(#[a-z_][a-z0-9\-_]*)/i,fT=/\)\s*,?\s*/,gT=/\s/g,yx=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,xx=/^rgb\(/,bx=/^(\s+)?$/,wx=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pT=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Xi=/[\s,]+/,lm=/[MLHVCSQTAZ]/i;function mT(n){const e=Math.round(n),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Hs(n,e){for(let t=e.length;t--;)if(n[e[t]]==null)return!1;return!0}function Wd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}Ce("Dom",{classes:function(){const n=this.attr("class");return n==null?[]:n.trim().split(Xi)},hasClass:function(n){return this.classes().indexOf(n)!==-1},addClass:function(n){if(!this.hasClass(n)){const e=this.classes();e.push(n),this.attr("class",e.join(" "))}return this},removeClass:function(n){return this.hasClass(n)&&this.attr("class",this.classes().filter(function(e){return e!==n}).join(" ")),this},toggleClass:function(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}}),Ce("Dom",{css:function(n,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const r=i.split(/\s*:\s*/);t[r[0]]=r[1]}),t;if(arguments.length<2){if(Array.isArray(n)){for(const i of n){const r=i;t[i]=this.node.style.getPropertyValue(r)}return t}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const i in n)this.node.style.setProperty(i,n[i]==null||bx.test(n[i])?"":n[i])}return arguments.length===2&&this.node.style.setProperty(n,e==null||bx.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Ce("Dom",{data:function(n,e,t){if(n==null)return this.data(rm(function(i,r){let s;const a=i.length,o=[];for(s=0;s<a;s++)r(i[s])&&o.push(i[s]);return o}(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(n instanceof Array){const i={};for(const r of n)i[r]=this.data(r);return i}if(typeof n=="object")for(e in n)this.data(e,n[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch{return this.attr("data-"+n)}else this.attr("data-"+n,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Ce("Dom",{remember:function(n,e){if(typeof arguments[0]=="object")for(const t in n)this.remember(t,n[t]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this},memory:function(){return this._memory=this._memory||{}}});let xi=class At{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof At||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:i,round:r,sin:s,PI:a}=Math;if(e==="vibrant"){const o=24*i()+57,l=38*i()+45,c=360*i();return new At(o,l,c,"lch")}if(e==="sine"){const o=r(80*s(2*a*(t=t??i())/.5+.01)+150),l=r(50*s(2*a*t/.5+4.6)+200),c=r(100*s(2*a*t/.5+2.3)+150);return new At(o,l,c)}if(e==="pastel"){const o=8*i()+86,l=17*i()+9,c=360*i();return new At(o,l,c,"lch")}if(e==="dark"){const o=10+10*i(),l=50*i()+86,c=360*i();return new At(o,l,c,"lch")}if(e==="rgb"){const o=255*i(),l=255*i(),c=255*i();return new At(o,l,c)}if(e==="lab"){const o=100*i(),l=256*i()-128,c=256*i()-128;return new At(o,l,c,"lab")}if(e==="grey"){const o=255*i();return new At(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(yx.test(e)||xx.test(e))}cmyk(){const{_a:e,_b:t,_c:i}=this.rgb(),[r,s,a]=[e,t,i].map(l=>l/255),o=Math.min(1-r,1-s,1-a);return o===1?new At(0,0,0,1,"cmyk"):new At((1-r-o)/(1-o),(1-s-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:t,_c:i}=this.rgb(),[r,s,a]=[e,t,i].map(d=>d/255),o=Math.max(r,s,a),l=Math.min(r,s,a),c=(o+l)/2,u=o===l,h=o-l;return new At(360*(u?0:o===r?((s-a)/h+(s<a?6:0))/6:o===s?((a-r)/h+2)/6:o===a?((r-s)/h+4)/6:0),100*(u?0:c>.5?h/(2-o-l):h/(o+l)),100*c,"hsl")}init(e=0,t=0,i=0,r=0,s="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")s=typeof r=="string"?r:s,r=typeof r=="string"?0:r,Object.assign(this,{_a:e,_b:t,_c:i,_d:r,space:s});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(d,g){const p=Hs(d,"rgb")?{_a:d.r,_b:d.g,_c:d.b,_d:0,space:"rgb"}:Hs(d,"xyz")?{_a:d.x,_b:d.y,_c:d.z,_d:0,space:"xyz"}:Hs(d,"hsl")?{_a:d.h,_b:d.s,_c:d.l,_d:0,space:"hsl"}:Hs(d,"lab")?{_a:d.l,_b:d.a,_c:d.b,_d:0,space:"lab"}:Hs(d,"lch")?{_a:d.l,_b:d.c,_c:d.h,_d:0,space:"lch"}:Hs(d,"cmyk")?{_a:d.c,_b:d.m,_c:d.y,_d:d.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return p.space=g||p.space,p}(e,t);Object.assign(this,h)}else if(typeof e=="string")if(xx.test(e)){const h=e.replace(gT,""),[d,g,p]=hT.exec(h).slice(1,4).map(m=>parseInt(m));Object.assign(this,{_a:d,_b:g,_c:p,_d:0,space:"rgb"})}else{if(!yx.test(e))throw Error("Unsupported string format, can't construct Color");{const h=m=>parseInt(m,16),[,d,g,p]=uT.exec(function(m){return m.length===4?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m}(e)).map(h);Object.assign(this,{_a:d,_b:g,_c:p,_d:0,space:"rgb"})}}const{_a:a,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:a,g:o,b:l}:this.space==="xyz"?{x:a,y:o,z:l}:this.space==="hsl"?{h:a,s:o,l}:this.space==="lab"?{l:a,a:o,b:l}:this.space==="lch"?{l:a,c:o,h:l}:this.space==="cmyk"?{c:a,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:i}=this.xyz();return new At(116*t-16,500*(e-t),200*(t-i),"lab")}lch(){const{l:e,a:t,b:i}=this.lab(),r=Math.sqrt(t**2+i**2);let s=180*Math.atan2(i,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new At(e,r,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:i,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:g,a:p,b:m}=this;if(this.space==="lch"){const{c:R,h:k}=this,w=Math.PI/180;p=R*Math.cos(w*k),m=R*Math.sin(w*k)}const x=(g+16)/116,v=p/500+x,y=x-m/200,b=16/116,C=.008856,S=7.787;t=.95047*(v**3>C?v**3:(v-b)/S),i=1*(x**3>C?x**3:(x-b)/S),r=1.08883*(y**3>C?y**3:(y-b)/S)}const s=3.2406*t+-1.5372*i+-.4986*r,a=-.9689*t+1.8758*i+.0415*r,o=.0557*t+-.204*i+1.057*r,l=Math.pow,c=.0031308,u=s>c?1.055*l(s,1/2.4)-.055:12.92*s,h=a>c?1.055*l(a,1/2.4)-.055:12.92*a,d=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new At(255*u,255*h,255*d)}if(this.space==="hsl"){let{h:t,s:i,l:r}=this;if(t/=360,i/=100,r/=100,i===0)return r*=255,new At(r,r,r);const s=r<.5?r*(1+i):r+i-r*i,a=2*r-s,o=255*Wd(a,s,t+1/3),l=255*Wd(a,s,t),c=255*Wd(a,s,t-1/3);return new At(o,l,c)}if(this.space==="cmyk"){const{c:t,m:i,y:r,k:s}=this,a=255*(1-Math.min(1,t*(1-s)+s)),o=255*(1-Math.min(1,i*(1-s)+s)),l=255*(1-Math.min(1,r*(1-s)+s));return new At(a,o,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:i,_d:r,space:s}=this;return[e,t,i,r,s]}toHex(){const[e,t,i]=this._clamped().map(mT);return`#${e}${t}${i}`}toRgb(){const[e,t,i]=this._clamped();return`rgb(${e},${t},${i})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:i}=this.rgb(),[r,s,a]=[e,t,i].map(x=>x/255),o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=(.4124*o+.3576*l+.1805*c)/.95047,h=(.2126*o+.7152*l+.0722*c)/1,d=(.0193*o+.1192*l+.9505*c)/1.08883,g=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116,m=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new At(g,p,m,"xyz")}_clamped(){const{_a:e,_b:t,_c:i}=this.rgb(),{max:r,min:s,round:a}=Math;return[e,t,i].map(o=>r(0,s(a(o),255)))}},Ue=class U1{constructor(...e){this.init(...e)}clone(){return new U1(this)}init(e,t){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){de.isMatrixLike(e)||(e=new de(e));const{x:t,y:i}=this;return this.x=e.a*t+e.c*i+e.e,this.y=e.b*t+e.d*i+e.f,this}};function Bs(n,e,t){return Math.abs(e-n)<1e-6}class de{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,i=e.flip&&(t||e.flip==="x")?-1:1,r=e.flip&&(t||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleX)?e.scaleX*i:i,l=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,c=e.shear||0,u=e.rotate||e.theta||0,h=new Ue(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=h.x,g=h.y,p=new Ue(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),m=p.x,x=p.y,v=new Ue(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=v.x,b=v.y,C=new Ue(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:s,skewY:a,shear:c,theta:u,rx:C.x,ry:C.y,tx:y,ty:b,ox:d,oy:g,px:m,py:x}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,i){const r=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return i.a=r,i.b=s,i.c=a,i.d=o,i.e=l,i.f=c,i}around(e,t,i){return this.clone().aroundO(e,t,i)}aroundO(e,t,i){const r=e||0,s=t||0;return this.translateO(-r,-s).lmultiplyO(i).translateO(r,s)}clone(){return new de(this)}decompose(e=0,t=0){const i=this.a,r=this.b,s=this.c,a=this.d,o=this.e,l=this.f,c=i*a-r*s,u=c>0?1:-1,h=u*Math.sqrt(i*i+r*r),d=Math.atan2(u*r,u*i),g=180/Math.PI*d,p=Math.cos(d),m=Math.sin(d),x=(i*s+r*a)/c,v=s*h/(x*i-r)||a*h/(x*r+i);return{scaleX:h,scaleY:v,shear:x,rotate:g,translateX:o-e+e*p*h+t*(x*p*h-m*v),translateY:l-t+e*m*h+t*(x*m*h+p*v),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new de(e);return Bs(this.a,t.a)&&Bs(this.b,t.b)&&Bs(this.c,t.c)&&Bs(this.d,t.d)&&Bs(this.e,t.e)&&Bs(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=de.fromArray([1,0,0,1,0,0]);return e=e instanceof Ut?e.matrixify():typeof e=="string"?de.fromArray(e.split(Xi).map(parseFloat)):Array.isArray(e)?de.fromArray(e):typeof e=="object"&&de.isMatrixLike(e)?e:typeof e=="object"?new de().transform(e):arguments.length===6?de.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,i=this.c,r=this.d,s=this.e,a=this.f,o=e*r-t*i;if(!o)throw new Error("Cannot invert "+this);const l=r/o,c=-t/o,u=-i/o,h=e/o,d=-(l*s+u*a),g=-(c*s+h*a);return this.a=l,this.b=c,this.c=u,this.d=h,this.e=d,this.f=g,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof de?e:new de(e);return de.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof de?e:new de(e);return de.matrixMultiply(this,t,this)}rotate(e,t,i){return this.clone().rotateO(e,t,i)}rotateO(e,t=0,i=0){e=jd(e);const r=Math.cos(e),s=Math.sin(e),{a,b:o,c:l,d:c,e:u,f:h}=this;return this.a=a*r-o*s,this.b=o*r+a*s,this.c=l*r-c*s,this.d=c*r+l*s,this.e=u*r-h*s+i*s-t*r+t,this.f=h*r+u*s-t*s-i*r+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,i=0,r=0){arguments.length===3&&(r=i,i=t,t=e);const{a:s,b:a,c:o,d:l,e:c,f:u}=this;return this.a=s*e,this.b=a*t,this.c=o*e,this.d=l*t,this.e=c*e-i*e+i,this.f=u*t-r*t+r,this}shear(e,t,i){return this.clone().shearO(e,t,i)}shearO(e,t=0,i=0){const{a:r,b:s,c:a,d:o,e:l,f:c}=this;return this.a=r+s*e,this.c=a+o*e,this.e=l+c*e-i*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,i=0,r=0){arguments.length===3&&(r=i,i=t,t=e),e=jd(e),t=jd(t);const s=Math.tan(e),a=Math.tan(t),{a:o,b:l,c,d:u,e:h,f:d}=this;return this.a=o+l*s,this.b=l+o*a,this.c=c+u*s,this.d=u+c*a,this.e=h+d*s-r*s,this.f=d+h*a-i*a,this}skewX(e,t,i){return this.skew(e,0,t,i)}skewY(e,t,i){return this.skew(0,e,t,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(de.isMatrixLike(e))return new de(e).multiplyO(this);const t=de.formatTransforms(e),{x:i,y:r}=new Ue(t.ox,t.oy).transform(this),s=new de().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-i,-r).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(i,r);if(isFinite(t.px)||isFinite(t.py)){const a=new Ue(i,r).transform(s),o=isFinite(t.px)?t.px-a.x:0,l=isFinite(t.py)?t.py-a.y:0;s.translateO(o,l)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function rr(){if(!rr.nodes){const n=sn().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const e=n.path().node;rr.nodes={svg:n,path:e}}if(!rr.nodes.svg.node.parentNode){const n=Me.document.body||Me.document.documentElement;rr.nodes.svg.addTo(n)}return rr.nodes}function X1(n){return!(n.width||n.height||n.x||n.y)}Oe(de,"Matrix");class gt{constructor(...e){this.init(...e)}addOffset(){return this.x+=Me.window.pageXOffset,this.y+=Me.window.pageYOffset,new gt(this)}init(e){return e=typeof e=="string"?e.split(Xi).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return X1(this)}merge(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-i;return new gt(t,i,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof de||(e=new de(e));let t=1/0,i=-1/0,r=1/0,s=-1/0;return[new Ue(this.x,this.y),new Ue(this.x2,this.y),new Ue(this.x,this.y2),new Ue(this.x2,this.y2)].forEach(function(a){a=a.transform(e),t=Math.min(t,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),new gt(t,r,i-t,s-r)}}function _x(n,e,t){let i;try{if(i=e(n.node),X1(i)&&(r=n.node)!==Me.document&&!(Me.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===Me.document}).call(Me.document.documentElement,r))throw new Error("Element not in the dom")}catch{i=t(n)}var r;return i}Ce({viewbox:{viewbox(n,e,t,i){return n==null?new gt(this.attr("viewBox")):this.attr("viewBox",new gt(n,e,t,i))},zoom(n,e){let{width:t,height:i}=this.attr(["width","height"]);if((t||i)&&typeof t!="string"&&typeof i!="string"||(t=this.node.clientWidth,i=this.node.clientHeight),!t||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),s=t/r.width,a=i/r.height,o=Math.min(s,a);if(n==null)return o;let l=o/n;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new Ue(t/2/s+r.x,i/2/a+r.y);const c=new gt(r).transform(new de({scale:l,origin:e}));return this.viewbox(c)}}}),Oe(gt,"Box");class bs extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}ve([bs],{each(n,...e){return typeof n=="function"?this.map((t,i,r)=>n.call(t,t,i,r)):this.map(t=>t[n](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const vT=["toArray","constructor","each"];function Ps(n,e){return new bs(rm((e||Me.document).querySelectorAll(n),function(t){return Rn(t)}))}bs.extend=function(n){n=n.reduce((e,t)=>(vT.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...i){return this.each(t,...i)}),e),{}),ve([bs],n)};let yT=0;const Y1={};function $1(n){let e=n.getEventHolder();return e===Me.window&&(e=Y1),e.events||(e.events={}),e.events}function cm(n){return n.getEventTarget()}function Ii(n,e,t,i,r){const s=t.bind(i||n),a=sn(n),o=$1(a),l=cm(a);e=Array.isArray(e)?e:e.split(Xi),t._svgjsListenerId||(t._svgjsListenerId=++yT),e.forEach(function(c){const u=c.split(".")[0],h=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][h]=o[u][h]||{},o[u][h][t._svgjsListenerId]=s,l.addEventListener(u,s,r||!1)})}function Vn(n,e,t,i){const r=sn(n),s=$1(r),a=cm(r);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Xi)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,h;if(t)s[l]&&s[l][c||"*"]&&(a.removeEventListener(l,s[l][c||"*"][t],i||!1),delete s[l][c||"*"][t]);else if(l&&c){if(s[l]&&s[l][c]){for(h in s[l][c])Vn(a,[l,c].join("."),h);delete s[l][c]}}else if(c)for(o in s)for(u in s[o])c===u&&Vn(a,[o,c].join("."));else if(l){if(s[l]){for(u in s[l])Vn(a,[l,u].join("."));delete s[l]}}else{for(o in s)Vn(a,o);(function(d){let g=d.getEventHolder();g===Me.window&&(g=Y1),g.events&&(g.events={})})(r)}})}let jl=class extends am{addEventListener(){}dispatch(e,t,i){return function(r,s,a,o){const l=cm(r);return s instanceof Me.window.Event||(s=new Me.window.CustomEvent(s,{detail:a,cancelable:!0,...o})),l.dispatchEvent(s),s}(this,e,t,i)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const i=t[e.type];for(const r in i)for(const s in i[r])i[r][s](e);return!e.defaultPrevented}fire(e,t,i){return this.dispatch(e,t,i),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,i){return Vn(this,e,t,i),this}on(e,t,i,r){return Ii(this,e,t,i,r),this}removeEventListener(){}};function kx(){}Oe(jl,"EventTarget");const Ud=400,xT=">",bT=0,wT={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class ws extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Xi).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}let Fe=class Gn{constructor(...e){this.init(...e)}convert(e){return new Gn(this.value,e)}divide(e){return e=new Gn(e),new Gn(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(W1))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Gn&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Gn(e),new Gn(this-e,this.unit||e.unit)}plus(e){return e=new Gn(e),new Gn(this+e,this.unit||e.unit)}times(e){return e=new Gn(e),new Gn(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const _T=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),G1=[];class Ir extends jl{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=sn(e)).removeNamespace&&this.node instanceof Me.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return sn(e).put(this,t)}children(){return new bs(rm(this.node.children,function(e){return Rn(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let i=this.node.cloneNode(e);return t&&(i=B1(i)),new this.constructor(i)}each(e,t){const i=this.children();let r,s;for(r=0,s=i.length;r<s;r++)e.apply(i[r],[r,i]),t&&i[r].each(e,t);return this}element(e,t){return this.put(new Ir(fl(e),t))}first(){return Rn(this.node.firstChild)}get(e){return Rn(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=H1(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Rn(this.node.lastChild)}matches(e){const t=this.node,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return i&&i.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Rn(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Rn(t.node.parentNode));return t}put(e,t){return e=sn(e),this.add(e,t),e}putIn(e,t){return sn(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=sn(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const i=10**e,r=this.attr(t);for(const s in r)typeof r[s]=="number"&&(r[s]=Math.round(r[s]*i)/i);return this.attr(r),this}svg(e,t){return this.xml(e,t,sm)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const i=t.index(this);return t.put(e,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let o=this;if(e!=null){if(o=Rn(o.node.cloneNode(!0)),t){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?o.node.outerHTML:o.node.innerHTML}t=t!=null&&t;const r=fl("wrapper",i),s=Me.document.createDocumentFragment();r.innerHTML=e;for(let o=r.children.length;o--;)s.appendChild(r.firstElementChild);const a=this.parent();return t?this.replace(s)&&a:this.add(s)}}ve(Ir,{attr:function(n,e,t){if(n==null){n={},e=this.node.attributes;for(const i of e)n[i.nodeName]=wx.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return n}if(n instanceof Array)return n.reduce((i,r)=>(i[r]=this.attr(r),i),{});if(typeof n=="object"&&n.constructor===Object)for(e in n)this.attr(e,n[e]);else if(e===null)this.node.removeAttribute(n);else{if(e==null)return(e=this.node.getAttribute(n))==null?wT[n]:wx.test(e)?parseFloat(e):e;typeof(e=G1.reduce((i,r)=>r(n,i,this),e))=="number"?e=new Fe(e):_T.has(n)&&xi.isColor(e)?e=new xi(e):e.constructor===Array&&(e=new ws(e)),n==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,n,e.toString()):this.node.setAttribute(n,e.toString()),!this.rebuild||n!=="font-size"&&n!=="x"||this.rebuild()}return this},find:function(n){return Ps(n,this.node)},findOne:function(n){return Rn(this.node.querySelector(n))}}),Oe(Ir,"Dom");let Ut=class extends Ir{constructor(n,e){super(n,e),this.dom={},this.node.instance=this,(n.hasAttribute("data-svgjs")||n.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(n.getAttribute("data-svgjs"))??JSON.parse(n.getAttribute("svgjs:data"))??{})}center(n,e){return this.cx(n).cy(e)}cx(n){return n==null?this.x()+this.width()/2:this.x(n-this.width()/2)}cy(n){return n==null?this.y()+this.height()/2:this.y(n-this.height()/2)}defs(){const n=this.root();return n&&n.defs()}dmove(n,e){return this.dx(n).dy(e)}dx(n=0){return this.x(new Fe(n).plus(this.x()))}dy(n=0){return this.y(new Fe(n).plus(this.y()))}getEventHolder(){return this}height(n){return this.attr("height",n)}move(n,e){return this.x(n).y(e)}parents(n=this.root()){const e=typeof n=="string";e||(n=sn(n));const t=new bs;let i=this;for(;(i=i.parent())&&i.node!==Me.document&&i.nodeName!=="#document-fragment"&&(t.push(i),e||i.node!==n.node)&&(!e||!i.matches(n));)if(i.node===this.root().node)return null;return t}reference(n){if(!(n=this.attr(n)))return null;const e=(n+"").match(dT);return e?sn(e[1]):null}root(){const n=this.parent(function(e){return fs[e]}(om));return n&&n.root()}setData(n){return this.dom=n,this}size(n,e){const t=Ba(this,n,e);return this.width(new Fe(t.width)).height(new Fe(t.height))}width(n){return this.attr("width",n)}writeDataToDom(){return j1(this,this.dom),super.writeDataToDom()}x(n){return this.attr("x",n)}y(n){return this.attr("y",n)}};ve(Ut,{bbox:function(){const n=_x(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(rr().svg).show(),i=t.node.getBBox();return t.remove(),i}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new gt(n)},rbox:function(n){const e=_x(this,i=>i.getBoundingClientRect(),i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)}),t=new gt(e);return n?t.transform(n.screenCTM().inverseO()):t.addOffset()},inside:function(n,e){const t=this.bbox();return n>t.x&&e>t.y&&n<t.x+t.width&&e<t.y+t.height},point:function(n,e){return new Ue(n,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new de(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),e=n.node.getScreenCTM();return n.remove(),new de(e)}return new de(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new de}}}),Oe(Ut,"Element");const bo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,e){return e==="color"?n:n+"-"+e}};["fill","stroke"].forEach(function(n){const e={};let t;e[n]=function(i){if(i===void 0)return this.attr(n);if(typeof i=="string"||i instanceof xi||xi.isRgb(i)||i instanceof Ut)this.attr(n,i);else for(t=bo[n].length-1;t>=0;t--)i[bo[n][t]]!=null&&this.attr(bo.prefix(n,bo[n][t]),i[bo[n][t]]);return this},Ce(["Element","Runner"],e)}),Ce(["Element","Runner"],{matrix:function(n,e,t,i,r,s){return n==null?new de(this):this.attr("transform",new de(n,e,t,i,r,s))},rotate:function(n,e,t){return this.transform({rotate:n,ox:e,oy:t},!0)},skew:function(n,e,t,i){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:e,oy:t},!0):this.transform({skew:[n,e],ox:t,oy:i},!0)},shear:function(n,e,t){return this.transform({shear:n,ox:e,oy:t},!0)},scale:function(n,e,t,i){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:e,oy:t},!0):this.transform({scale:[n,e],ox:t,oy:i},!0)},translate:function(n,e){return this.transform({translate:[n,e]},!0)},relative:function(n,e){return this.transform({relative:[n,e]},!0)},flip:function(n="both",e="center"){return"xybothtrue".indexOf(n)===-1&&(e=n,n="both"),this.transform({flip:n,origin:e},!0)},opacity:function(n){return this.attr("opacity",n)}}),Ce("radius",{radius:function(n,e=n){return(this._element||this).type==="radialGradient"?this.attr("r",new Fe(n)):this.rx(n).ry(e)}}),Ce("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new Ue(this.node.getPointAtLength(n))}}),Ce(["Element","Runner"],{font:function(n,e){if(typeof n=="object"){for(e in n)this.font(e,n[e]);return this}return n==="leading"?this.leading(e):n==="anchor"?this.attr("text-anchor",e):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,e):this.attr(n,e)}});Ce("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(n,e){return n[e]=function(t){return t===null?this.off(e):this.on(e,t),this},n},{})),Ce("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(fT).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(Xi).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(de.fromArray(t[1])):e[t[0]].apply(e,t[1])},new de)},toParent:function(n,e){if(this===n)return this;if(vg(this.node))return this.addTo(n,e);const t=this.screenCTM(),i=n.screenCTM().inverse();return this.addTo(n,e).untransform().transform(i.multiply(t)),this},toRoot:function(n){return this.toParent(this.root(),n)},transform:function(n,e){if(n==null||typeof n=="string"){const i=new de(this).decompose();return n==null?i:i[n]}de.isMatrixLike(n)||(n={...n,origin:mg(n,this)});const t=new de(e===!0?this:e||!1).transform(n);return this.attr("transform",t)}});let Tn=class q1 extends Ut{flatten(){return this.each(function(){if(this instanceof q1)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(i,r){return r[r.length-i-1].toParent(e,t)}),this.remove()}};Oe(Tn,"Container");class Ih extends Tn{constructor(e,t=e){super(Ge("defs",e),t)}flatten(){return this}ungroup(){return this}}Oe(Ih,"Defs");class In extends Ut{}function um(n){return this.attr("rx",n)}function hm(n){return this.attr("ry",n)}function K1(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function Q1(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function Z1(n){return this.attr("cx",n)}function J1(n){return this.attr("cy",n)}function e_(n){return n==null?2*this.rx():this.rx(new Fe(n).divide(2))}function t_(n){return n==null?2*this.ry():this.ry(new Fe(n).divide(2))}Oe(In,"Shape");var kT=Object.freeze({__proto__:null,cx:Z1,cy:J1,height:t_,rx:um,ry:hm,width:e_,x:K1,y:Q1});class ru extends In{constructor(e,t=e){super(Ge("ellipse",e),t)}size(e,t){const i=Ba(this,e,t);return this.rx(new Fe(i.width).divide(2)).ry(new Fe(i.height).divide(2))}}ve(ru,kT),Ce("Container",{ellipse:$e(function(n=0,e=n){return this.put(new ru).size(n,e).move(0,0)})}),Oe(ru,"Ellipse");class n_ extends Ir{constructor(e=Me.document.createDocumentFragment()){super(e)}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){const r=new Ir(fl("wrapper",i));return r.add(this.node.cloneNode(!0)),r.xml(!1,i)}return super.xml(e,!1,i)}}function i_(n,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Fe(n),fy:new Fe(e)}):this.attr({x1:new Fe(n),y1:new Fe(e)})}function r_(n,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Fe(n),cy:new Fe(e)}):this.attr({x2:new Fe(n),y2:new Fe(e)})}Oe(n_,"Fragment");var AT=Object.freeze({__proto__:null,from:i_,to:r_});class Bo extends Tn{constructor(e,t){super(Ge(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,i){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,i)}bbox(){return new gt}targets(){return Ps("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ve(Bo,AT),Ce({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:$e(function(n,e){return this.put(new Bo(n)).update(e)})}}),Oe(Bo,"Gradient");class gl extends Tn{constructor(e,t=e){super(Ge("pattern",e),t)}attr(e,t,i){return e==="transform"&&(e="patternTransform"),super.attr(e,t,i)}bbox(){return new gt}targets(){return Ps("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ce({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:$e(function(n,e,t){return this.put(new gl).update(t).attr({x:0,y:0,width:n,height:e,patternUnits:"userSpaceOnUse"})})}}),Oe(gl,"Pattern");let su=class extends In{constructor(n,e=n){super(Ge("image",n),e)}load(n,e){if(!n)return this;const t=new Me.window.Image;return Ii(t,"load",function(i){const r=this.parent(gl);this.width()===0&&this.height()===0&&this.size(t.width,t.height),r instanceof gl&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)},this),Ii(t,"load error",function(){Vn(t)}),this.attr("href",t.src=n,Wa)}};var Ax;Ax=function(n,e,t){return n!=="fill"&&n!=="stroke"||pT.test(e)&&(e=t.root().defs().image(e)),e instanceof su&&(e=t.root().defs().pattern(0,0,i=>{i.add(e)})),e},G1.push(Ax),Ce({Container:{image:$e(function(n,e){return this.put(new su).size(0,0).load(n,e)})}}),Oe(su,"Image");class Pr extends ws{bbox(){let e=-1/0,t=-1/0,i=1/0,r=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),i=Math.min(s[0],i),r=Math.min(s[1],r)}),new gt(i,r,e-i,t-r)}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Xi).map(parseFloat)).length%2!=0&&e.pop();for(let i=0,r=e.length;i<r;i+=2)t.push([e[i],e[i+1]]);return t}size(e,t){let i;const r=this.bbox();for(i=this.length-1;i>=0;i--)r.width&&(this[i][0]=(this[i][0]-r.x)*e/r.width+r.x),r.height&&(this[i][1]=(this[i][1]-r.y)*t/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,i=this.length;t<i;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){de.isMatrixLike(e)||(e=new de(e));for(let t=this.length;t--;){const[i,r]=this[t];this[t][0]=e.a*i+e.c*r+e.e,this[t][1]=e.b*i+e.d*r+e.f}return this}}const ST=Pr;var dm=Object.freeze({__proto__:null,MorphArray:ST,height:function(n){const e=this.bbox();return n==null?e.height:this.size(e.width,n)},width:function(n){const e=this.bbox();return n==null?e.width:this.size(n,e.height)},x:function(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)},y:function(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}});let os=class extends In{constructor(n,e=n){super(Ge("line",n),e)}array(){return new Pr([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(n,e){return this.attr(this.array().move(n,e).toLine())}plot(n,e,t,i){return n==null?this.array():(n=e!==void 0?{x1:n,y1:e,x2:t,y2:i}:new Pr(n).toLine(),this.attr(n))}size(n,e){const t=Ba(this,n,e);return this.attr(this.array().size(t.width,t.height).toLine())}};ve(os,dm),Ce({Container:{line:$e(function(...n){return os.prototype.plot.apply(this.put(new os),n[0]!=null?n:[0,0,0,0])})}}),Oe(os,"Line");let au=class extends Tn{constructor(n,e=n){super(Ge("marker",n),e)}height(n){return this.attr("markerHeight",n)}orient(n){return this.attr("orient",n)}ref(n,e){return this.attr("refX",n).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(n){return this.clear(),typeof n=="function"&&n.call(this,this),this}width(n){return this.attr("markerWidth",n)}};function sa(n,e){return function(t){return t==null?this[n]:(this[n]=t,e&&e.call(this),this)}}Ce({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:$e(function(n,e,t){return this.put(new au).size(n,e).ref(n/2,e/2).viewbox(0,0,n,e).attr("orient","auto").update(t)})},marker:{marker(n,e,t,i){let r=["marker"];return n!=="all"&&r.push(n),r=r.join("-"),n=arguments[1]instanceof au?arguments[1]:this.defs().marker(e,t,i),this.attr(r,n)}}}),Oe(au,"Marker");const CT={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return 1-Math.cos(n*Math.PI/2)},bezier:function(n,e,t,i){return function(r){return r<0?n>0?e/n*r:t>0?i/t*r:0:r>1?t<1?(1-i)/(1-t)*r+(i-t)/(1-t):n<1?(1-e)/(1-n)*r+(e-n)/(1-n):1:3*r*(1-r)**2*e+3*r**2*(1-r)*i+r**3}},steps:function(n,e="end"){e=e.split("-").reverse()[0];let t=n;return e==="none"?--t:e==="both"&&++t,(i,r=!1)=>{let s=Math.floor(i*n);const a=i*s%1==0;return e!=="start"&&e!=="both"||++s,r&&a&&--s,i>=0&&s<0&&(s=0),i<=1&&s>t&&(s=t),s/t}}};class fm{done(){return!1}}class yg extends fm{constructor(e=xT){super(),this.ease=CT[e]||e}step(e,t,i){return typeof e!="number"?i<1?e:t:e+(t-e)*this.ease(i)}}class Yu extends fm{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,i,r){return this.stepper(e,t,i,r)}}function Sx(){const n=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,i=Math.log(e/100+1e-10),r=-i/Math.sqrt(t*t+i*i),s=3.9/(r*n);this.d=2*r*s,this.k=s*s}ve(class extends Yu{constructor(n=500,e=0){super(),this.duration(n).overshoot(e)}step(n,e,t,i){if(typeof n=="string")return n;if(i.done=t===1/0,t===1/0)return e;if(t===0)return n;t>100&&(t=16),t/=1e3;const r=i.velocity||0,s=-this.d*r-this.k*(n-e),a=n+r*t+s*t*t/2;return i.velocity=r+s*t,i.done=Math.abs(e-a)+Math.abs(r)<.002,i.done?e:a}},{duration:sa("_duration",Sx),overshoot:sa("_overshoot",Sx)});ve(class extends Yu{constructor(n=.1,e=.01,t=0,i=1e3){super(),this.p(n).i(e).d(t).windup(i)}step(n,e,t,i){if(typeof n=="string")return n;if(i.done=t===1/0,t===1/0)return e;if(t===0)return n;const r=e-n;let s=(i.integral||0)+r*t;const a=(r-(i.error||0))/t,o=this._windup;return o!==!1&&(s=Math.max(-o,Math.min(s,o))),i.error=r,i.integral=s,i.done=Math.abs(r)<.001,i.done?e:n+(this.P*r+this.I*s+this.D*a)}},{windup:sa("_windup"),p:sa("P"),i:sa("I"),d:sa("D")});const ET={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},xg={M:function(n,e,t){return e.x=t.x=n[0],e.y=t.y=n[1],["M",e.x,e.y]},L:function(n,e){return e.x=n[0],e.y=n[1],["L",n[0],n[1]]},H:function(n,e){return e.x=n[0],["H",n[0]]},V:function(n,e){return e.y=n[0],["V",n[0]]},C:function(n,e){return e.x=n[4],e.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,e){return e.x=n[2],e.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,e){return e.x=n[2],e.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,e){return e.x=n[0],e.y=n[1],["T",n[0],n[1]]},Z:function(n,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(n,e){return e.x=n[5],e.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},Xd="mlhvqtcsaz".split("");for(let n=0,e=Xd.length;n<e;++n)xg[Xd[n]]=function(t){return function(i,r,s){if(t==="H")i[0]=i[0]+r.x;else if(t==="V")i[0]=i[0]+r.y;else if(t==="A")i[5]=i[5]+r.x,i[6]=i[6]+r.y;else for(let a=0,o=i.length;a<o;++a)i[a]=i[a]+(a%2?r.y:r.x);return xg[t](i,r,s)}}(Xd[n].toUpperCase());function bg(n){return n.segment.length&&n.segment.length-1===ET[n.segment[0].toUpperCase()]}function TT(n,e){n.inNumber&&Jr(n,!1);const t=lm.test(e);if(t)n.segment=[e];else{const i=n.lastCommand,r=i.toLowerCase(),s=i===r;n.segment=[r==="m"?s?"l":"L":i]}return n.inSegment=!0,n.lastCommand=n.segment[0],t}function Jr(n,e){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=e,n.number="",n.pointSeen=!1,n.hasExponent=!1,bg(n)&&wg(n)}function wg(n){n.inSegment=!1,n.absolute&&(n.segment=function(e){const t=e.segment[0];return xg[t](e.segment.slice(1),e.p,e.p0)}(n)),n.segments.push(n.segment)}function IT(n){if(!n.segment.length)return!1;const e=n.segment[0].toUpperCase()==="A",t=n.segment.length;return e&&(t===4||t===5)}function PT(n){return n.lastToken.toUpperCase()==="E"}const RT=new Set([" ",",","	",`
`,"\r","\f"]);class Zn extends ws{bbox(){return rr().path.setAttribute("d",this.toString()),new gt(rr.nodes.path.getBBox())}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]+=e,this[s][2]+=t):r==="H"?this[s][1]+=e:r==="V"?this[s][1]+=t:r==="C"||r==="S"||r==="Q"?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,r==="C"&&(this[s][5]+=e,this[s][6]+=t)):r==="A"&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,i=!0){let r=0,s="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new Ue,p:new Ue};for(;a.lastToken=s,s=t.charAt(r++);)if(a.inSegment||!TT(a,s))if(s!==".")if(isNaN(parseInt(s)))if(RT.has(s))a.inNumber&&Jr(a,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(lm.test(s)){if(a.inNumber)Jr(a,!1);else{if(!bg(a))throw new Error("parser Error");wg(a)}--r}}else a.number+=s,a.hasExponent=!0;else{if(a.inNumber&&!PT(a)){Jr(a,!1),--r;continue}a.number+=s,a.inNumber=!0}else{if(a.number==="0"||IT(a)){a.inNumber=!0,a.number=s,Jr(a,!0);continue}a.inNumber=!0,a.number+=s}else{if(a.pointSeen||a.hasExponent){Jr(a,!1),--r;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=s}return a.inNumber&&Jr(a,!1),a.inSegment&&bg(a)&&wg(a),a.segments}(e)}size(e,t){const i=this.bbox();let r,s;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]=(this[r][1]-i.x)*e/i.width+i.x,this[r][2]=(this[r][2]-i.y)*t/i.height+i.y):s==="H"?this[r][1]=(this[r][1]-i.x)*e/i.width+i.x:s==="V"?this[r][1]=(this[r][1]-i.y)*t/i.height+i.y:s==="C"||s==="S"||s==="Q"?(this[r][1]=(this[r][1]-i.x)*e/i.width+i.x,this[r][2]=(this[r][2]-i.y)*t/i.height+i.y,this[r][3]=(this[r][3]-i.x)*e/i.width+i.x,this[r][4]=(this[r][4]-i.y)*t/i.height+i.y,s==="C"&&(this[r][5]=(this[r][5]-i.x)*e/i.width+i.x,this[r][6]=(this[r][6]-i.y)*t/i.height+i.y)):s==="A"&&(this[r][1]=this[r][1]*e/i.width,this[r][2]=this[r][2]*t/i.height,this[r][6]=(this[r][6]-i.x)*e/i.width+i.x,this[r][7]=(this[r][7]-i.y)*t/i.height+i.y);return this}toString(){return function(e){let t="";for(let i=0,r=e.length;i<r;i++)t+=e[i][0],e[i][1]!=null&&(t+=e[i][1],e[i][2]!=null&&(t+=" ",t+=e[i][2],e[i][3]!=null&&(t+=" ",t+=e[i][3],t+=" ",t+=e[i][4],e[i][5]!=null&&(t+=" ",t+=e[i][5],t+=" ",t+=e[i][6],e[i][7]!=null&&(t+=" ",t+=e[i][7])))));return t+" "}(this)}}const s_=n=>{const e=typeof n;return e==="number"?Fe:e==="string"?xi.isColor(n)?xi:Xi.test(n)?lm.test(n)?Zn:ws:W1.test(n)?Fe:_g:kg.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?ws:e==="object"?pl:_g};class es{constructor(e){this._stepper=e||new yg("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(s_(e));let t=new this._type(e);return this._type===xi&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===pl&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(i){return i.done=!0,i}),t}}class _g{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Hl{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Hl.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Hl.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const NT=(n,e)=>n[0]<e[0]?-1:n[0]>e[0]?1:0;class pl{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let i=0,r=t.length;i<r;++i){if(t[i+1]===e[i+1]){if(t[i+1]===xi&&e[i+7]!==t[i+7]){const o=e[i+7],l=new xi(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...l)}i+=t[i+2]+2;continue}if(!e[i+1])return this;const s=new e[i+1]().toArray(),a=t[i+2]+3;t.splice(i,a,e[i],e[i+1],e[i+2],...s),i+=t[i+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const i in e){const r=s_(e[i]),s=new r(e[i]).toArray();t.push([i,r,s.length,...s])}return t.sort(NT),this.values=t.reduce((i,r)=>i.concat(r),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const i=t.shift(),r=t.shift(),s=t.shift(),a=t.splice(0,s);e[i]=new r(a)}return e}}const kg=[_g,Hl,pl];class ga extends In{constructor(e,t=e){super(Ge("path",e),t)}array(){return this._array||(this._array=new Zn(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Zn(e))}size(e,t){const i=Ba(this,e,t);return this.attr("d",this.array().size(i.width,i.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}ga.prototype.MorphArray=Zn,Ce({Container:{path:$e(function(n){return this.put(new ga).plot(n||new Zn)})}}),Oe(ga,"Path");var a_=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Pr(this.attr("points")))},clear:function(){return delete this._array,this},move:function(n,e){return this.attr("points",this.array().move(n,e))},plot:function(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new Pr(n))},size:function(n,e){const t=Ba(this,n,e);return this.attr("points",this.array().size(t.width,t.height))}});class ls extends In{constructor(e,t=e){super(Ge("polygon",e),t)}}Ce({Container:{polygon:$e(function(n){return this.put(new ls).plot(n||new Pr)})}}),ve(ls,dm),ve(ls,a_),Oe(ls,"Polygon");class cs extends In{constructor(e,t=e){super(Ge("polyline",e),t)}}Ce({Container:{polyline:$e(function(n){return this.put(new cs).plot(n||new Pr)})}}),ve(cs,dm),ve(cs,a_),Oe(cs,"Polyline");class ou extends In{constructor(e,t=e){super(Ge("rect",e),t)}}ve(ou,{rx:um,ry:hm}),Ce({Container:{rect:$e(function(n,e){return this.put(new ou).size(n,e)})}}),Oe(ou,"Rect");class Yd{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Be={nextDraw:null,frames:new Yd,timeouts:new Yd,immediates:new Yd,timer:()=>Me.window.performance||Me.window.Date,transforms:[],frame(n){const e=Be.frames.push({run:n});return Be.nextDraw===null&&(Be.nextDraw=Me.window.requestAnimationFrame(Be._draw)),e},timeout(n,e){e=e||0;const t=Be.timer().now()+e,i=Be.timeouts.push({run:n,time:t});return Be.nextDraw===null&&(Be.nextDraw=Me.window.requestAnimationFrame(Be._draw)),i},immediate(n){const e=Be.immediates.push(n);return Be.nextDraw===null&&(Be.nextDraw=Me.window.requestAnimationFrame(Be._draw)),e},cancelFrame(n){n!=null&&Be.frames.remove(n)},clearTimeout(n){n!=null&&Be.timeouts.remove(n)},cancelImmediate(n){n!=null&&Be.immediates.remove(n)},_draw(n){let e=null;const t=Be.timeouts.last();for(;(e=Be.timeouts.shift())&&(n>=e.time?e.run():Be.timeouts.push(e),e!==t););let i=null;const r=Be.frames.last();for(;i!==r&&(i=Be.frames.shift());)i.run(n);let s=null;for(;s=Be.immediates.shift();)s();Be.nextDraw=Be.timeouts.first()||Be.frames.first()?Me.window.requestAnimationFrame(Be._draw):null}},LT=function(n){const e=n.start,t=n.runner.duration();return{start:e,duration:t,end:e+t,runner:n.runner}},MT=function(){const n=Me.window;return(n.performance||n.Date).now()};class o_ extends jl{constructor(e=MT){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const i=Math.abs(t);return this.speed(e?-i:i)}schedule(e,t,i){if(e==null)return this._runners.map(LT);let r=0;const s=this.getEndTime();if(t=t||0,i==null||i==="last"||i==="after")r=s;else if(i==="absolute"||i==="start")r=t,t=0;else if(i==="now")r=this._time;else if(i==="relative"){const l=this.getRunnerInfoById(e.id);l&&(r=l.start+t,t=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();r=l?l.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),o={persist:a===null?this._persist:a,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Be.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Be.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let i=t-this._lastSourceTime;e&&(i=0);const r=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const o=this._runners[a],l=o.runner;this._time-o.start<=0&&l.reset()}let s=!1;for(let a=0,o=this._runners.length;a<o;a++){const l=this._runners[a],c=l.runner;let u=r;const h=this._time-l.start;if(h<=0){s=!0;continue}h<u&&(u=h),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--a,--o):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Ce({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new o_,this._timeline):(this._timeline=n,this)}}});class An extends jl{constructor(e){super(),this.id=An.id++,e=typeof(e=e??Ud)=="function"?new Yu(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Yu,this._stepper=this._isDeclarative?e:new yg,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new de,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,i){let r=1,s=!1,a=0;return t=t??bT,i=i||"last",typeof(e=e??Ud)!="object"||e instanceof fm||(t=e.delay??t,i=e.when??i,s=e.swing||s,r=e.times??r,a=e.wait??a,e=e.duration??Ud),{duration:e,delay:t,swing:s,times:r,wait:a,when:i}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,i){const r=An.sanitise(e,t,i),s=new An(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new de,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new yg(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,i){return typeof e=="object"&&(t=e.swing,i=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/t),a=(this._time-s*t)/this._duration;return Math.min(s+a,this._times)}const i=e%1,r=t*Math.floor(e)+this._duration*i;return this.time(r)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,i=this._duration,r=this._wait,s=this._times,a=this._swing,o=this._reverse;let l;if(e==null){const h=function(g){const p=a*Math.floor(g%(2*(r+i))/(r+i)),m=p&&!o||!p&&o,x=Math.pow(-1,m)*(g%(r+i))/i+m;return Math.max(Math.min(x,1),0)},d=s*(r+i)-r;return l=t<=0?Math.round(h(1e-5)):t<d?h(t):Math.round(h(d-1e-5)),l}const c=Math.floor(this.loops()),u=a&&c%2==0;return l=c+(u&&!o||o&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,i,r){return this._queue.push({initialiser:e||kx,runner:t||kx,retarget:i,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,i){if(e instanceof o_||(i=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,i),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),i=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const r=this.duration(),s=this._lastTime<=0&&this._time>0,a=this._lastTime<r&&this._time>=r;this._lastTime=this._time,s&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!a&&this._time>=r,this._reseted=!1;let l=!1;return(i||o)&&(this._initialise(i),this.transforms=new de,l=this._run(o?e:t),this.fire("step",this)),this.done=this.done||l&&o,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,i=this._queue.length;t<i;++t){const r=this._queue[t],s=this._isDeclarative||!r.initialised&&e;e=!r.finished,s&&e&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(e){let t=!0;for(let i=0,r=this._queue.length;i<r;++i){const s=this._queue[i],a=s.runner.call(this,e);s.finished=s.finished||a===!0,t=t&&s.finished}return t}_tryRetarget(e,t,i){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,i):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}An.id=0;class $u{constructor(e=new de,t=-1,i=!0){this.transforms=e,this.id=t,this.done=i}clearTransformsFromQueue(){}}ve([An,$u],{mergeWith(n){return new $u(n.transforms.lmultiply(this.transforms),n.id)}});const l_=(n,e)=>n.lmultiplyO(e),c_=n=>n.transforms;function OT(){const n=this._transformationRunners.runners.map(c_).reduce(l_,new de);this.transform(n),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class DT{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new $u).forEach(i=>i.clearTransformsFromQueue()),this}edit(e,t){const i=this.ids.indexOf(e+1);return this.ids.splice(i,1,e+1),this.runners.splice(i,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const i=this.runners[t];if(e&&i.done&&e.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(i.id);const r=i.mergeWith(e);this.edit(e.id,r),e=r,--t}else e=i}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Ce({Element:{animate(n,e,t){const i=An.sanitise(n,e,t),r=this.timeline();return new An(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(n,e){return this.animate(0,n,e)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter(e=>e.id<=n.id).map(c_).reduce(l_,new de)},_addRunner(n){this._transformationRunners.add(n),Be.cancelImmediate(this._frameId),this._frameId=Be.immediate(OT.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new DT().add(new $u(new de(this))))}}});ve(An,{attr(n,e){return this.styleAttr("attr",n,e)},css(n,e){return this.styleAttr("css",n,e)},styleAttr(n,e,t){if(typeof e=="string")return this.styleAttr(n,{[e]:t});let i=e;if(this._tryRetarget(n,i))return this;let r=new es(this._stepper).to(i),s=Object.keys(i);return this.queue(function(){r=r.from(this.element()[n](s))},function(a){return this.element()[n](r.at(a).valueOf()),r.done()},function(a){const o=Object.keys(a),l=(c=s,o.filter(h=>!c.includes(h)));var c;if(l.length){const h=this.element()[n](l),d=new pl(r.from()).valueOf();Object.assign(d,h),r.from(d)}const u=new pl(r.to()).valueOf();Object.assign(u,a),r.to(u),s=o,i=a}),this._rememberMorpher(n,r),this},zoom(n,e){if(this._tryRetarget("zoom",n,e))return this;let t=new es(this._stepper).to(new Fe(n));return this.queue(function(){t=t.from(this.element().zoom())},function(i){return this.element().zoom(t.at(i),e),t.done()},function(i,r){e=r,t.to(i)}),this._rememberMorpher("zoom",t),this},transform(n,e,t){if(e=n.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",n))return this;const i=de.isMatrixLike(n);t=n.affine!=null?n.affine:t??!i;const r=new es(this._stepper).type(t?Hl:de);let s,a,o,l,c;return this.queue(function(){a=a||this.element(),s=s||mg(n,a),c=new de(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:d}=new Ue(s).transform(a._currentTransform(this));let g=new de({...n,origin:[h,d]}),p=this._isDeclarative&&o?o:c;if(t){g=g.decompose(h,d),p=p.decompose(h,d);const x=g.rotate,v=p.rotate,y=[x-360,x,x+360],b=y.map(R=>Math.abs(R-v)),C=Math.min(...b),S=b.indexOf(C);g.rotate=y[S]}e&&(i||(g.rotate=n.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),r.from(p),r.to(g);const m=r.at(u);return l=m.rotate,o=new de(m),this.addTransform(o),a._addRunner(this),r.done()},function(u){(u.origin||"center").toString()!==(n.origin||"center").toString()&&(s=mg(u,a)),n={...u,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,e){return this.dx(n).dy(e)},_queueNumberDelta(n,e){if(e=new Fe(e),this._tryRetarget(n,e))return this;const t=new es(this._stepper).to(e);let i=null;return this.queue(function(){i=this.element()[n](),t.from(i),t.to(i+e)},function(r){return this.element()[n](t.at(r)),t.done()},function(r){t.to(i+new Fe(r))}),this._rememberMorpher(n,t),this},_queueObject(n,e){if(this._tryRetarget(n,e))return this;const t=new es(this._stepper).to(e);return this.queue(function(){t.from(this.element()[n]())},function(i){return this.element()[n](t.at(i)),t.done()}),this._rememberMorpher(n,t),this},_queueNumber(n,e){return this._queueObject(n,new Fe(e))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,e){return this.x(n).y(e)},amove(n,e){return this.ax(n).ay(e)},center(n,e){return this.cx(n).cy(e)},size(n,e){let t;return n&&e||(t=this._element.bbox()),n||(n=t.width/t.height*e),e||(e=t.height/t.width*n),this.width(n).height(e)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,e,t,i){if(arguments.length===4)return this.plot([n,e,t,i]);if(this._tryRetarget("plot",n))return this;const r=new es(this._stepper).type(this._element.MorphArray).to(n);return this.queue(function(){r.from(this._element.array())},function(s){return this._element.plot(r.at(s)),r.done()}),this._rememberMorpher("plot",r),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,e,t,i){return this._queueObject("viewbox",new gt(n,e,t,i))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}}),ve(An,{rx:um,ry:hm,from:i_,to:r_}),Oe(An,"Runner");class Ag extends Tn{constructor(e,t=e){super(Ge("svg",e),t),this.namespace()}defs(){return this.isRoot()?Rn(this.node.querySelector("defs"))||this.put(new Ih):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Me.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:sm,version:"1.1"}).attr("xmlns:xlink",Wa,Hd):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Hd).attr("xmlns:svgjs",null,Hd)}root(){return this.isRoot()?this:super.root()}}Ce({Container:{nested:$e(function(){return this.put(new Ag)})}}),Oe(Ag,"Svg",!0);let Sg=class extends Tn{constructor(n,e=n){super(Ge("symbol",n),e)}};Ce({Container:{symbol:$e(function(){return this.put(new Sg)})}}),Oe(Sg,"Symbol");var u_=Object.freeze({__proto__:null,amove:function(n,e){return this.ax(n).ay(e)},ax:function(n){return this.attr("x",n)},ay:function(n){return this.attr("y",n)},build:function(n){return this._build=!!n,this},center:function(n,e,t=this.bbox()){return this.cx(n,t).cy(e,t)},cx:function(n,e=this.bbox()){return n==null?e.cx:this.attr("x",this.attr("x")+n-e.cx)},cy:function(n,e=this.bbox()){return n==null?e.cy:this.attr("y",this.attr("y")+n-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(n,e,t=this.bbox()){return this.x(n,t).y(e,t)},plain:function(n){return this._build===!1&&this.clear(),this.node.appendChild(Me.document.createTextNode(n)),this},x:function(n,e=this.bbox()){return n==null?e.x:this.attr("x",this.attr("x")+n-e.x)},y:function(n,e=this.bbox()){return n==null?e.y:this.attr("y",this.attr("y")+n-e.y)}});class Jn extends In{constructor(e,t=e){super(Ge("text",e),t),this.dom.leading=this.dom.leading??new Fe(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Fe(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let i=0;const r=this.dom.leading;this.each(function(s){if(vg(this.node))return;const a=Me.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=r*new Fe(a);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",s?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Fe(e.leading||1.3),this}writeDataToDom(){return j1(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let i=0;e="";for(let r=0,s=t.length;r<s;++r)t[r].nodeName==="textPath"||vg(t[r])?r===0&&(i=r+1):(r!==i&&t[r].nodeType!==3&&Rn(t[r]).dom.newLined===!0&&(e+=`
`),e+=t[r].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,i=(e=(e+"").split(`
`)).length;t<i;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}ve(Jn,u_),Ce({Container:{text:$e(function(n=""){return this.put(new Jn).text(n)}),plain:$e(function(n=""){return this.put(new Jn).plain(n)})}}),Oe(Jn,"Text");class lu extends In{constructor(e,t=e){super(Ge("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Jn))return this;const t=e.index(this),i=Me.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new Fe(i);return this.dy(t?r:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}ve(lu,u_),Ce({Tspan:{tspan:$e(function(n=""){const e=new lu;return this._build||this.clear(),this.put(e).text(n)})},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}}),Oe(lu,"Tspan");class $d extends In{constructor(e,t=e){super(Ge("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Fe(e).divide(2))}}ve($d,{x:K1,y:Q1,cx:Z1,cy:J1,width:e_,height:t_}),Ce({Container:{circle:$e(function(n=0){return this.put(new $d).size(n).move(0,0)})}}),Oe($d,"Circle");class Gd extends Tn{constructor(e,t=e){super(Ge("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Ps("svg [clip-path*="+this.id()+"]")}}Ce({Container:{clip:$e(function(){return this.defs().put(new Gd)})},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const e=n instanceof Gd?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Oe(Gd,"ClipPath");class Cx extends Ut{constructor(e,t=e){super(Ge("foreignObject",e),t)}}Ce({Container:{foreignObject:$e(function(n,e){return this.put(new Cx).size(n,e)})}}),Oe(Cx,"ForeignObject");var h_=Object.freeze({__proto__:null,dmove:function(n,e){return this.children().forEach(t=>{let i;try{i=t.node instanceof zl().SVGSVGElement?new gt(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const r=new de(t),s=r.translate(n,e).transform(r.inverse()),a=new Ue(i.x,i.y).transform(s);t.move(a.x,a.y)}),this},dx:function(n){return this.dmove(n,0)},dy:function(n){return this.dmove(0,n)},height:function(n,e=this.bbox()){return n==null?e.height:this.size(e.width,n,e)},move:function(n=0,e=0,t=this.bbox()){const i=n-t.x,r=e-t.y;return this.dmove(i,r)},size:function(n,e,t=this.bbox()){const i=Ba(this,n,e,t),r=i.width/t.width,s=i.height/t.height;return this.children().forEach(a=>{const o=new Ue(t).transform(new de(a).inverse());a.scale(r,s,o.x,o.y)}),this},width:function(n,e=this.bbox()){return n==null?e.width:this.size(n,e.height,e)},x:function(n,e=this.bbox()){return n==null?e.x:this.move(n,e.y,e)},y:function(n,e=this.bbox()){return n==null?e.y:this.move(e.x,n,e)}});class wr extends Tn{constructor(e,t=e){super(Ge("g",e),t)}}ve(wr,h_),Ce({Container:{group:$e(function(){return this.put(new wr)})}}),Oe(wr,"G");class Fc extends Tn{constructor(e,t=e){super(Ge("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Wa)}}ve(Fc,h_),Ce({Container:{link:$e(function(n){return this.put(new Fc).to(n)})},Element:{unlink(){const n=this.linker();if(!n)return this;const e=n.parent();if(!e)return this.remove();const t=e.index(n);return e.add(this,t),n.remove(),this},linkTo(n){let e=this.linker();return e||(e=new Fc,this.wrap(e)),typeof n=="function"?n.call(e,e):e.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}}),Oe(Fc,"A");class qd extends Tn{constructor(e,t=e){super(Ge("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Ps("svg [mask*="+this.id()+"]")}}Ce({Container:{mask:$e(function(){return this.defs().put(new qd)})},Element:{masker(){return this.reference("mask")},maskWith(n){const e=n instanceof qd?n:this.parent().mask().add(n);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Oe(qd,"Mask");class Ex extends Ut{constructor(e,t=e){super(Ge("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Fe)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Fe(e.offset)),this}}Ce({Gradient:{stop:function(n,e,t){return this.put(new Ex).update(n,e,t)}}}),Oe(Ex,"Stop");class Kd extends Ut{constructor(e,t=e){super(Ge("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,i={}){return this.rule("@font-face",{fontFamily:e,src:t,...i})}rule(e,t){return this.addText(function(i,r){if(!i)return"";if(!r)return i;let s=i+"{";for(const a in r)s+=a.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+r[a]+";";return s+="}",s}(e,t))}}Ce("Dom",{style(n,e){return this.put(new Kd).rule(n,e)},fontface(n,e,t){return this.put(new Kd).font(n,e,t)}}),Oe(Kd,"Style");class Qd extends Jn{constructor(e,t=e){super(Ge("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let i=null;return t&&(i=t.plot(e)),e==null?i:this}track(){return this.reference("href")}}Ce({Container:{textPath:$e(function(n,e){return n instanceof Jn||(n=this.text(n)),n.path(e)})},Text:{path:$e(function(n,e=!0){const t=new Qd;let i;if(n instanceof ga||(n=this.defs().path(n)),t.attr("href","#"+n,Wa),e)for(;i=this.node.firstChild;)t.node.appendChild(i);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:$e(function(n){return n instanceof Jn||(n=new Jn().addTo(this.parent()).text(n)),n.path(this)}),targets(){return Ps("svg textPath").filter(n=>(n.attr("href")||"").includes(this.id()))}}}),Qd.prototype.MorphArray=Zn,Oe(Qd,"TextPath");class Tx extends In{constructor(e,t=e){super(Ge("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Wa)}}Ce({Container:{use:$e(function(n,e){return this.put(new Tx).use(n,e)})}}),Oe(Tx,"Use");const FT=sn;ve([Ag,Sg,su,gl,au],un("viewbox")),ve([os,cs,ls,ga],un("marker")),ve(Jn,un("Text")),ve(ga,un("Path")),ve(Ih,un("Defs")),ve([Jn,lu],un("Tspan")),ve([ou,ru,Bo,An],un("radius")),ve(jl,un("EventTarget")),ve(Ir,un("Dom")),ve(Ut,un("Element")),ve(In,un("Shape")),ve([Tn,n_],un("Container")),ve(Bo,un("Gradient")),ve(An,un("Runner")),bs.extend([...new Set(V1)]),function(n=[]){kg.push(...[].concat(n))}([Fe,xi,gt,de,ws,Pr,Zn,Ue]),ve(kg,{to(n){return new es().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,e,t,i,r){return this.fromArray(n.map(function(s,a){return i.step(s,e[a],t,r[a],r)}))}});class Je extends Ut{constructor(e){super(Ge("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Ps('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class gm extends Ut{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Pn=n=>function(...e){for(let t=n.length;t--;)e[t]!=null&&this.attr(n[t],e[t])},VT={blend:Pn(["in","in2","mode"]),colorMatrix:Pn(["type","values"]),composite:Pn(["in","in2","operator"]),convolveMatrix:function(n){n=new ws(n).toString(),this.attr({order:Math.sqrt(n.split(" ").length),kernelMatrix:n})},diffuseLighting:Pn(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Pn(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Pn(["in","dx","dy","stdDeviation"]),flood:Pn(["flood-color","flood-opacity"]),gaussianBlur:function(n=0,e=n){this.attr("stdDeviation",n+" "+e)},image:function(n){this.attr("href",n,Wa)},morphology:Pn(["operator","radius"]),offset:Pn(["dx","dy"]),specularLighting:Pn(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Pn([]),turbulence:Pn(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(n=>{const e=Ha(n),t=VT[n];Je[e+"Effect"]=class extends gm{constructor(i){super(Ge("fe"+e,i),i)}update(i){return t.apply(this,i),this}},Je.prototype[n]=$e(function(i,...r){const s=new Je[e+"Effect"];return i==null?this.put(s):(typeof i=="function"?i.call(s,s):r.unshift(i),this.put(s).update(r))})}),ve(Je,{merge(n){const e=this.put(new Je.MergeEffect);return typeof n=="function"?(n.call(e,e),e):((n instanceof Array?n:[...arguments]).forEach(t=>{t instanceof Je.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(n={}){const e=this.put(new Je.ComponentTransferEffect);if(typeof n=="function")return n.call(e,e),e;n.r||n.g||n.b||n.a||(n={r:n,g:n,b:n,a:n});for(const t in n)e.add(new Je["Func"+t.toUpperCase()](n[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(n=>{const e=Ha(n);Je[e]=class extends gm{constructor(t){super(Ge("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(n){const e=Je[Ha(n)],t=$e(function(){return this.put(new e)});Je.ComponentTransferEffect.prototype[n]=t});["distantLight","pointLight","spotLight"].forEach(n=>{const e=Je[Ha(n)],t=$e(function(){return this.put(new e)});Je.DiffuseLightingEffect.prototype[n]=t,Je.SpecularLightingEffect.prototype[n]=t}),ve(Je.MergeEffect,{mergeNode(n){return this.put(new Je.MergeNode).attr("in",n)}}),ve(Ih,{filter:function(n){const e=this.put(new Je);return typeof n=="function"&&n.call(e,e),e}}),ve(Tn,{filter:function(n){return this.defs().filter(n)}}),ve(Ut,{filterWith:function(n){const e=n instanceof Je?n:this.defs().filter(n);return this.attr("filter",e)},unfilter:function(n){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const zT={blend:function(n,e){return this.parent()&&this.parent().blend(this,n,e)},colorMatrix:function(n,e){return this.parent()&&this.parent().colorMatrix(n,e).in(this)},componentTransfer:function(n){return this.parent()&&this.parent().componentTransfer(n).in(this)},composite:function(n,e){return this.parent()&&this.parent().composite(this,n,e)},convolveMatrix:function(n){return this.parent()&&this.parent().convolveMatrix(n).in(this)},diffuseLighting:function(n,e,t,i){return this.parent()&&this.parent().diffuseLighting(n,t,i).in(this)},displacementMap:function(n,e,t,i){return this.parent()&&this.parent().displacementMap(this,n,e,t,i)},dropShadow:function(n,e,t){return this.parent()&&this.parent().dropShadow(this,n,e,t).in(this)},flood:function(n,e){return this.parent()&&this.parent().flood(n,e)},gaussianBlur:function(n,e){return this.parent()&&this.parent().gaussianBlur(n,e).in(this)},image:function(n){return this.parent()&&this.parent().image(n)},merge:function(n){return n=n instanceof Array?n:[...n],this.parent()&&this.parent().merge(this,...n)},morphology:function(n,e){return this.parent()&&this.parent().morphology(n,e).in(this)},offset:function(n,e){return this.parent()&&this.parent().offset(n,e).in(this)},specularLighting:function(n,e,t,i,r){return this.parent()&&this.parent().specularLighting(n,t,i,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(n,e,t,i,r){return this.parent()&&this.parent().turbulence(n,e,t,i,r).in(this)}};ve(gm,zT),ve(Je.MergeEffect,{in:function(n){return n instanceof Je.MergeNode?this.add(n,0):this.add(new Je.MergeNode().in(n),0),this}}),ve([Je.CompositeEffect,Je.BlendEffect,Je.DisplacementMapEffect],{in2:function(n){if(n==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",n)}}),Je.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Ht=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"getDefaultFilter",value:function(e,t){var i=this.w;e.unfilter(!0),new Je().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,i){var r,s=this,a=this.w;if(e.unfilter(!0),i!=="none"){var o,l,c=a.config.chart.dropShadow,u=i==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&s.addShadow(h,t,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,i,r){var s,a=this.w,o=i.blur,l=i.top,c=i.left,u=i.color,h=i.opacity;if(u=Array.isArray(u)?u[t]:u,((s=a.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:r,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",r])}},{key:"dropShadow",value:function(e,t){var i,r,s,a,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),O.isMsEdge()&&u.config.chart.type==="radialBar"||((i=u.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(c))===-1?e:(e.filterWith(function(h){l.addShadow(h,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(o=a.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node),e)}},{key:"setSelectionFilter",value:function(e,t,i){var r=this.w;if(r.globals.selectedDataPoints[t]!==void 0&&r.globals.selectedDataPoints[t].indexOf(i)>-1){e.node.setAttribute("selected",!0);var s=r.config.states.active.filter;s!=="none"&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),n}(),U=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"roundPathCorners",value:function(e,t){function i(w,A,T){var P=A.x-w.x,L=A.y-w.y,N=Math.sqrt(P*P+L*L);return r(w,A,Math.min(1,T/N))}function r(w,A,T){return{x:w.x+(A.x-w.x)*T,y:w.y+(A.y-w.y)*T}}function s(w,A){w.length>2&&(w[w.length-2]=A.x,w[w.length-1]=A.y)}function a(w){return{x:parseFloat(w[w.length-2]),y:parseFloat(w[w.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(w,A){var T=A.match(/^([a-zA-Z])(.+)/);return T?(w.push(T[1]),w.push(T[2])):w.push(A),w},[]).reduce(function(w,A){return parseFloat(A)==A&&w.length?w[w.length-1].push(A):w.push([A]),w},[]),l=[];if(o.length>1){var c=a(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",c.x,c.y],o[o.length-1]=u),l.push(o[0]);for(var h=1;h<o.length;h++){var d=l[l.length-1],g=o[h],p=g==u?o[1]:o[h+1];if(p&&d&&d.length>2&&g[0]=="L"&&p.length>2&&p[0]=="L"){var m,x,v=a(d),y=a(g),b=a(p);m=i(y,v,t),x=i(y,b,t),s(g,m),g.origPoint=y,l.push(g);var C=r(m,y,.5),S=r(y,x,.5),R=["C",C.x,C.y,S.x,S.y,x.x,x.y];R.origPoint=y,l.push(R)}else l.push(g)}if(u){var k=a(l[l.length-1]);l.push(["Z"]),s(l[0],k)}}else l=o;return l.reduce(function(w,A){return w+A.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:i,y2:r,stroke:s,"stroke-dasharray":a,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:i>0?i:0,height:r>0?r:0,rx:s,ry:s,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),h.node.setAttribute("fill",a),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":i})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var i=this.w.globals.dom.Paper.circle(2*e);return t!==null&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,i=t===void 0?"":t,r=e.stroke,s=r===void 0?"#a8a8a8":r,a=e.strokeWidth,o=a===void 0?1:a,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,h=e.strokeOpacity,d=h===void 0?1:h,g=e.classes,p=e.strokeLinecap,m=p===void 0?null:p,x=e.strokeDashArray,v=x===void 0?0:x,y=this.w;return m===null&&(m=y.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(i).attr({fill:l,"fill-opacity":u,stroke:s,"stroke-opacity":d,"stroke-linecap":m,"stroke-width":o,"stroke-dasharray":v,class:g})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var i=["M",e,t].join(" ");return i}},{key:"line",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=null;return i===null?r=[" L",e,t].join(" "):i==="H"?r=[" H",e].join(" "):i==="V"&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,i,r,s,a){var o=["C",e,t,i,r,s,a].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,i,r){return["Q",e,t,i,r].join(" ")}},{key:"arc",value:function(e,t,i,r,s,a,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,i,r,s,a,o].join(" ");return c}},{key:"renderPaths",value:function(e){var t,i=e.j,r=e.realIndex,s=e.pathFrom,a=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,h=e.animationDelay,d=e.initialSpeed,g=e.dataChangeSpeed,p=e.className,m=e.chartType,x=e.shouldClipToGrid,v=x===void 0||x,y=e.bindEventsOnPaths,b=y===void 0||y,C=e.drawShadow,S=C===void 0||C,R=this.w,k=new Ht(this.ctx),w=new ja(this.ctx),A=this.w.config.chart.animations.enabled,T=A&&this.w.config.chart.animations.dynamicAnimation.enabled;if(s&&s.startsWith("M 0 0")&&a){var P=a.match(/^M\s+[\d.-]+\s+[\d.-]+/);P&&(s=s.replace(/^M\s+0\s+0/,P[0]))}var L=!!(A&&!R.globals.resized||T&&R.globals.dataChanged&&R.globals.shouldAnimate);L?t=s:(t=a,R.globals.animationEnded=!0);var N=R.config.stroke.dashArray,V=0;V=Array.isArray(N)?N[r]:R.config.stroke.dashArray;var H=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:u,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:V});H.attr("index",r),v&&(m==="bar"&&!R.globals.isHorizontal||R.globals.comboCharts?H.attr({"clip-path":"url(#gridRectBarMask".concat(R.globals.cuid,")")}):H.attr({"clip-path":"url(#gridRectMask".concat(R.globals.cuid,")")})),R.config.chart.dropShadow.enabled&&S&&k.dropShadow(H,R.config.chart.dropShadow,r),b&&(H.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,H)),H.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,H)),H.node.addEventListener("mousedown",this.pathMouseDown.bind(this,H))),H.attr({pathTo:a,pathFrom:s});var W={el:H,j:i,realIndex:r,pathFrom:s,pathTo:a,fill:u,strokeWidth:l,delay:h};return!A||R.globals.resized||R.globals.dataChanged?!R.globals.resized&&R.globals.dataChanged||w.showDelayedElements():w.animatePathsGradually(Q(Q({},W),{},{speed:d})),R.globals.dataChanged&&T&&L&&w.animatePathsGradually(Q(Q({},W),{},{speed:g})),H}},{key:"drawPattern",value:function(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,i,function(a){e==="horizontalLines"?a.line(0,0,i,0).stroke({color:r,width:s+1}):e==="verticalLines"?a.line(0,0,0,t).stroke({color:r,width:s+1}):e==="slantedLines"?a.line(0,0,t,i).stroke({color:r,width:s}):e==="squares"?a.rect(t,i).fill("none").stroke({color:r,width:s}):e==="circles"&&a.circle(t).fill("none").stroke({color:r,width:s})})}},{key:"drawGradient",value:function(e,t,i,r,s){var a,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=O.hexToRgba(t,r)),i.length<9&&i.indexOf("#")===0&&(i=O.hexToRgba(i,s));var d=0,g=1,p=1,m=null;l!==null&&(d=l[0]!==void 0?l[0]/100:0,g=l[1]!==void 0?l[1]/100:1,p=l[2]!==void 0?l[2]/100:1,m=l[3]!==void 0?l[3]/100:null);var x=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(a=c&&c.length!==0?h.globals.dom.Paper.gradient(x?"radial":"linear",function(b){(Array.isArray(c[u])?c[u]:c).forEach(function(C){b.stop(C.offset/100,C.color,C.opacity)})}):h.globals.dom.Paper.gradient(x?"radial":"linear",function(b){b.stop(d,t,r),b.stop(g,i,s),b.stop(p,i,s),m!==null&&b.stop(m,t,r)}),x){var v=h.globals.gridWidth/2,y=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:v,cy:y,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,i=e.maxWidth,r=e.fontSize,s=e.fontFamily,a=this.getTextRects(t,r,s),o=a.width/t.length,l=Math.floor(i/o);return i<a.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,i=e.x,r=e.y,s=e.text,a=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,h=e.opacity,d=e.maxWidth,g=e.cssClass,p=g===void 0?"":g,m=e.isPlainText,x=m===void 0||m,v=e.dominantBaseline,y=v===void 0?"auto":v,b=this.w;s===void 0&&(s="");var C=s;a||(a="start"),u&&u.length||(u=b.config.chart.foreColor),l=l||b.config.chart.fontFamily,c=c||"regular";var S,R={maxWidth:d,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(s)?S=b.globals.dom.Paper.text(function(k){for(var w=0;w<s.length;w++)C=s[w],d&&(C=t.getTextBasedOnMaxWidth(Q({text:s[w]},R))),w===0?k.tspan(C):k.tspan(C).newLine()}):(d&&(C=this.getTextBasedOnMaxWidth(Q({text:s},R))),S=x?b.globals.dom.Paper.plain(s):b.globals.dom.Paper.text(function(k){return k.tspan(C)})),S.attr({x:i,y:r,"text-anchor":a,"dominant-baseline":y,"font-size":o,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+p}),S.node.style.fontFamily=l,S.node.style.opacity=h,S}},{key:"getMarkerPath",value:function(e,t,i,r){var s="";switch(i){case"cross":s="M ".concat(e-(r/=1.4)," ").concat(t-r," L ").concat(e+r," ").concat(t+r,"  M ").concat(e-r," ").concat(t+r," L ").concat(e+r," ").concat(t-r);break;case"plus":s="M ".concat(e-(r/=1.12)," ").concat(t," L ").concat(e+r," ").concat(t,"  M ").concat(e," ").concat(t-r," L ").concat(e," ").concat(t+r);break;case"star":case"sparkle":var a=5;r*=1.15,i==="sparkle"&&(r/=1.1,a=4);for(var o=Math.PI/a,l=0;l<=2*a;l++){var c=l*o,u=l%2==0?r:r/2;s+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(t-u*Math.cos(c))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t+r,` 
             L `).concat(e-r," ").concat(t+r,` 
             Z`);break;case"square":case"rect":s="M ".concat(e-(r/=1.125)," ").concat(t-r,` 
           L `).concat(e+r," ").concat(t-r,` 
           L `).concat(e+r," ").concat(t+r,` 
           L `).concat(e-r," ").concat(t+r,` 
           Z`);break;case"diamond":r*=1.05,s="M ".concat(e," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t,` 
             L `).concat(e," ").concat(t+r,` 
             L `).concat(e-r," ").concat(t,` 
            Z`);break;case"line":s="M ".concat(e-(r/=1.1)," ").concat(t,` 
           L `).concat(e+r," ").concat(t);break;default:r*=2,s="M ".concat(e,", ").concat(t,` 
           m -`).concat(r/2,`, 0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,`,0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,i,r,s){var a=this.drawPath({d:this.getMarkerPath(e,t,i,r,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),a}},{key:"drawMarker",value:function(e,t,i){e=e||0;var r=i.pSize||0;return O.isNumber(t)||(r=0,t=0),this.drawMarkerShape(e,t,i==null?void 0:i.shape,r,Q(Q({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var i=this.w,r=new Ht(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}]),(i.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;r.applyFilter(e,s,o.type)}}},{key:"pathMouseLeave",value:function(e,t){var i=this.w,r=new Ht(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:a,w:i}]),i.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&r.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var i=this.w,r=new Ht(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),i.globals.selectedDataPoints[s].indexOf(a)>-1){var l=i.globals.selectedDataPoints[s].indexOf(a);i.globals.selectedDataPoints[s].splice(l,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var c=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(p){Array.prototype.forEach.call(p,function(m){m.node.setAttribute("selected","false"),r.getDefaultFilter(m,s)})};h(c),h(u)}e.node.setAttribute("selected","true"),o="true",i.globals.selectedDataPoints[s]===void 0&&(i.globals.selectedDataPoints[s]=[]),i.globals.selectedDataPoints[s].push(a)}if(o==="true"){var d=i.config.states.active.filter;if(d!=="none")r.applyFilter(e,s,d.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var g=i.config.states.hover.filter;r.applyFilter(e,s,g.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?r.getDefaultFilter(e,s):(g=i.config.states.hover.filter,r.applyFilter(e,s,g.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:i}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:i}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,i,r){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:i,foreColor:"#fff",opacity:0});r&&o.attr("transform",r),a.globals.dom.Paper.add(o);var l=o.bbox();return s||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,i){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=i/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=i/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}}]),n}(),pt=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,i=[];if(t.globals.series.length===0)return i;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var s=0,a=0;a<t.globals.series.length;a++)t.globals.series[a][r]!==void 0&&e.indexOf(a)===-1&&(s+=t.globals.series[a][r]);i.push(s)}return i}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,i){return t+i},0):this.w.globals.series[e].reduce(function(t,i){return t+i},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,i=[];return t.globals.seriesGroups.forEach(function(r){var s=[];t.config.series.forEach(function(o,l){r.indexOf(t.globals.seriesNames[l])>-1&&s.push(l)});var a=t.globals.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});i.push(e.getStackedSeriesTotals(a))}),i}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,i=[],r=[],s=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(h){return Array.isArray(h.seriesName)});t.series.forEach(function(h,d){s.push(d),r.push(null)}),t.yaxis.forEach(function(h,d){i[d]=[]});var o=[];t.yaxis.forEach(function(h,d){var g=!1;if(h.seriesName){var p=[];Array.isArray(h.seriesName)?p=h.seriesName:p.push(h.seriesName),p.forEach(function(m){t.series.forEach(function(x,v){if(x.name===m){var y=v;d===v||a?!a||s.indexOf(v)>-1?i[d].push([d,v]):console.warn("Series '"+x.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[v].push([v,d]),y=d),g=!0,(y=s.indexOf(y))!==-1&&s.splice(y,1)}})})}g||o.push(d)}),i=i.map(function(h,d){var g=[];return h.forEach(function(p){r[p[1]]=p[0],g.push(p[1])}),g});for(var l=t.yaxis.length-1,c=0;c<o.length&&(l=o[c],i[l]=[],s);c++){var u=s[0];s.shift(),i[l].push(u),r[u]=l}s.forEach(function(h){i[l].push(h),r[h]=l}),e.seriesYAxisMap=i.map(function(h){return h}),e.seriesYAxisReverseMap=r.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,d){h.forEach(function(g){t.series[g]&&t.series[g].group===void 0&&(t.series[g].group="apexcharts-axis-".concat(d.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,i,r){return t===r[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,i=e.slice();return t.config.xaxis.convertedCatToNumeric&&(i=e.map(function(r,s){return t.config.xaxis.labels.formatter(r-t.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(i){t=Math.max(t,i)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(i){t=Math.max(t,i.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,i){var r=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=t[s];else r+=t;return r})}},{key:"getSeriesTotalsXRange",value:function(e,t){var i=this.w;return i.globals.series.map(function(r,s){for(var a=0,o=0;o<r.length;o++)i.globals.seriesX[s][o]>e&&i.globals.seriesX[s][o]<t&&(a+=r[o]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,i){var r=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var a=e.globals.stackedSeriesTotals[s],o=0;a&&(o=100*t[s]/a),r.push(o)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);r.push(l)}return r})}},{key:"getCalculatedRatios",value:function(){var e,t,i,r=this,s=this.w,a=s.globals,o=[],l=0,c=[],u=.1,h=0;if(a.yRange=[],a.isMultipleYAxis)for(var d=0;d<a.minYArr.length;d++)a.yRange.push(Math.abs(a.minYArr[d]-a.maxYArr[d])),c.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var g=0;g<a.yRange.length;g++)o.push(a.yRange[g]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,i=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var p=function(x,v){var y=s.config.yaxis[s.globals.seriesYAxisReverseMap[v]],b=x<0?-1:1;return x=Math.abs(x),y.logarithmic&&(x=r.getBaseLog(y.logBase,x)),-b*x/o[v]};if(a.isMultipleYAxis){c=[];for(var m=0;m<o.length;m++)c.push(p(a.minYArr[m],m))}else(c=[]).push(p(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(u=-a.minY/e,h=a.minX/t)}else(c=[]).push(0),u=0,h=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:i,baseLineInvertedY:u,baseLineY:c,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,i=this.w;return i.globals.seriesLog=e.map(function(r,s){var a=i.globals.seriesYAxisReverseMap[s];return i.config.yaxis[a]&&i.config.yaxis[a].logarithmic?r.map(function(o){return o===null?null:t.getLogVal(i.config.yaxis[a].logBase,o,s)}):r}),i.globals.invalidLogScale?e:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var i=this.w,r=i.globals.seriesYAxisReverseMap[t];return i.config.yaxis[r]&&i.config.yaxis[r].logarithmic?this.getLogVal(i.config.yaxis[r].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,i){if(t<=0)return 0;var r=this.w,s=r.globals.minYArr[i]===0?-1:this.getBaseLog(e,r.globals.minYArr[i]),a=(r.globals.maxYArr[i]===0?0:this.getBaseLog(e,r.globals.maxYArr[i]))-s;return t<1?t/a:(this.getBaseLog(e,t)-s)/a}},{key:"getLogYRatios",value:function(e){var t=this,i=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(s,a){var o=i.globals.seriesYAxisReverseMap[a];if(i.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return r.seriesLog.forEach(function(h,d){h.forEach(function(g){i.config.yaxis[d]&&i.config.yaxis[d].logarithmic&&(c=Math.max(g,c),u=Math.min(g,u))})}),l=Math.pow(r.yRange[a],Math.abs(u-c)/r.yRange[a]),r.yLogRatio[a]=l/r.gridHeight,l}}),r.invalidLogScale?e.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,i,r){var s=this.w,a=[];return e.series.length>0&&t.forEach(function(o){var l=[],c=[];e.i.forEach(function(u,h){s.config.series[u].group===o&&(l.push(e.series[h]),c.push(u))}),l.length>0&&a.push(r.draw(l,i,c))}),a}}],[{key:"checkComboSeries",value:function(e,t){var i=!1,r=0,s=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||r++,a.type!==void 0&&a.type!==t&&s++}),s>0&&(i=!0),{comboBarCount:r,comboCharts:i}}},{key:"extendArrayProps",value:function(e,t,i){var r,s,a,o,l,c;return(r=t)!==null&&r!==void 0&&r.yaxis&&(t=e.extendYAxis(t,i)),(s=t)!==null&&s!==void 0&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(a=t)!==null&&a!==void 0&&(o=a.annotations)!==null&&o!==void 0&&o.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),n}(),Ph=function(){function n(e){se(this,n),this.w=e.w,this.annoCtx=e}return ae(n,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(e.label.orientation==="vertical"){var r=t!==null?t:0,s=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(s!==null){var a=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-a.height+4);var o=e.label.position==="top"?a.width:-a.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(s),c=l.x,u=l.y;s.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var i=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var r=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),a=t.label.style.padding,o=a.left,l=a.right,c=a.top,u=a.bottom;if(t.label.orientation==="vertical"){var h=[o,l,c,u];c=h[0],u=h[1],o=h[2],l=h[3]}var d=s.left-r.left-o,g=s.top-r.top-c,p=this.annoCtx.graphics.drawRect(d-i.globals.barPadForNumericAxis,g,s.width+o+l,s.height+c+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,i=function(r,s,a){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,r);c&&(l.insertBefore(c.node,o),r.label.mouseEnter&&c.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&c.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)),r.label.click&&c.node.addEventListener("click",r.label.click.bind(e,r)))}};t.config.annotations.xaxis.forEach(function(r,s){return i(r,s,"xaxis")}),t.config.annotations.yaxis.forEach(function(r,s){return i(r,s,"yaxis")}),t.config.annotations.points.forEach(function(r,s){return i(r,s,"point")})}},{key:"getY1Y2",value:function(e,t){var i,r=this.w,s=e==="y1"?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var o=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,l=o.indexOf(s),c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));i=c?parseFloat(c.getAttribute("y")):(r.globals.gridHeight/o.length-1)*(l+1)-r.globals.barHeight,t.seriesIndex!==void 0&&r.globals.barHeight&&(i-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*t.seriesIndex)}else{var u,h=r.globals.seriesYAxisMap[t.yAxisIndex][0],d=r.config.yaxis[t.yAxisIndex].logarithmic?new pt(this.annoCtx.ctx).getLogVal(r.config.yaxis[t.yAxisIndex].logBase,s,h)/r.globals.yLogRatio[h]:(s-r.globals.minYArr[h])/(r.globals.yRange[h]/r.globals.gridHeight);i=r.globals.gridHeight-Math.min(Math.max(d,0),r.globals.gridHeight),a=d>r.globals.gridHeight||d<0,!t.marker||t.y!==void 0&&t.y!==null||(i=0),(u=r.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(i=d)}return typeof s=="string"&&s.includes("px")&&(i=parseFloat(s)),{yP:i,clipped:a}}},{key:"getX1X2",value:function(e,t){var i=this.w,r=e==="x1"?t.x:t.x2,s=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(a-r)/(o/i.globals.gridWidth):(r-s)/(o/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(c=this.getStringX(r)),typeof r=="string"&&r.includes("px")&&(c=parseFloat(r)),r==null&&t.marker&&(c=i.globals.gridWidth),t.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*t.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(i.globals.gridWidth.toFixed(10))?(c=i.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,i=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return s&&(i=parseFloat(s.getAttribute("x"))),i}}]),n}(),jT=function(){function n(e){se(this,n),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ph(this.annoCtx)}return ae(n,[{key:"addXaxisAnnotation",value:function(e,t,i){var r,s=this.w,a=this.helpers.getX1X2("x1",e),o=a.x,l=a.clipped,c=!0,u=e.label.text,h=e.strokeDashArray;if(O.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var d=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{var g=this.helpers.getX1X2("x2",e);if(r=g.x,c=g.clipped,r<o){var p=o;o=r,r=p}var m=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,r-o,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}if(!l||!c){var x=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),v=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?x.width/2:0):s.globals.gridHeight,y=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:v+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?x.width/2-12:-x.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:i}),t.appendChild(y.node),this.annoCtx.helpers.setOrientations(e,i)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(r,s){e.addXaxisAnnotation(r,i.node,s)}),i}}]),n}(),zt=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ae(n,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var i=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var i=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(Tt(i.months)),a=[""].concat(Tt(i.shortMonths)),o=[""].concat(Tt(i.days)),l=[""].concat(Tt(i.shortDays));function c(w,A){var T=w+"";for(A=A||2;T.length<A;)T="0"+T;return T}var u=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+c(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var g=r?e.getUTCHours():e.getHours(),p=g>12?g-12:g===0?12:g;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(g))).replace(/(^|[^\\])H/g,"$1"+g)).replace(/(^|[^\\])hh+/g,"$1"+c(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(m))).replace(/(^|[^\\])m/g,"$1"+m);var x=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(x))).replace(/(^|[^\\])s/g,"$1"+x);var v=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(v,3)),v=Math.round(v/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(v)),v=Math.round(v/10);var y=g<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+v)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var C=-e.getTimezoneOffset(),S=r||!C?"Z":C>0?"+":"-";if(!r){var R=(C=Math.abs(C))%60;S+=c(Math.floor(C/60))+":"+c(R)}t=t.replace(/(^|[^\\])K/g,"$1"+S);var k=(r?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[k])).replace(new RegExp(l[0],"g"),l[k])).replace(new RegExp(s[0],"g"),s[h])).replace(new RegExp(a[0],"g"),a[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,i){var r=this.w;r.config.xaxis.min!==void 0&&(e=r.config.xaxis.min),r.config.xaxis.max!==void 0&&(t=r.config.xaxis.max);var s=this.getDate(e),a=this.getDate(t),o=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,i){return this.determineDaysOfMonths(e,t)-i}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,i){var r=this.daysCntOfYear[t]+i;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var i=30;switch(e=O.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(i=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:i=31}return i}}]),n}(),Bl=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return ae(n,[{key:"xLabelFormat",value:function(e,t,i,r){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var a=new zt(this.ctx);return a.formatDate(a.getDate(t),s.config.tooltip.x.format)}return e(t,i,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,i){var r=this.w;if(O.isNumber(e))if(r.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:r.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttKeyFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttZFormatter=function(i){return i},t.globals.legendFormatter=function(i){return e.defaultGeneralFormatter(i)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(i){if(O.isNumber(i)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(O.isNumber(t.config.xaxis.decimalsInFloat))return i.toFixed(t.config.xaxis.decimalsInFloat);var r=t.globals.maxX-t.globals.minX;return r>0&&r<100?i.toFixed(1):i.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(i,r){i.labels.formatter!==void 0?t.globals.yLabelFormatters[r]=i.labels.formatter:t.globals.yLabelFormatters[r]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(a){return e.defaultYFormatter(a,i,r)}):e.defaultYFormatter(s,i,r):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(i,r){return i.length>r.length?i:r},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),n}(),Rr=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"getLabel",value:function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[r]===void 0?"":e[r],u=c,h=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,g=!1,p=new Bl(this.ctx),m=c;o&&(u=p.xLabelFormat(h,c,m,{i:r,dateFormatter:new zt(this.ctx).formatDate,w:l}),d!==void 0&&(u=d(c,e[r],{i:r,dateFormatter:new zt(this.ctx).formatDate,w:l})));var x,v;t.length>0?(x=t[r].unit,v=null,t.forEach(function(S){S.unit==="month"?v="year":S.unit==="day"?v="month":S.unit==="hour"?v="day":S.unit==="minute"&&(v="hour")}),g=v===x,i=t[r].position,u=t[r].value):l.config.xaxis.type==="datetime"&&d===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var y=new U(this.ctx),b={};b=l.globals.rotateXLabels&&o?y.getTextRects(u,parseInt(a,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(u,parseInt(a,10));var C=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||s.indexOf(u)>=0&&C)&&(u=""),{x:i,text:u,textRect:b,isBold:g}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,i){var r=this.w,s=r.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(r.globals.gridWidth/120)),s>i||e%Math.round(i/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,i,r,s){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===i-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var o=s[s.length-1];t.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var i=this.w;return i.config.yaxis[e]&&i.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(i){return t.collapsedSeriesIndices.indexOf(i)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,i=t.globals,r=t.config.yaxis;return i.series.length>r.length||r.some(function(s){return Array.isArray(s.seriesName)})?e:i.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,i=t.config.yaxis[e];if(!i.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!i.showForNullSeries){var r=t.globals.seriesYAxisMap[e],s=new pt(this.ctx);return r.every(function(a){return s.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,i,r,s,a,o){var l=this.w,c=new U(this.ctx),u=l.globals.translateY+l.config.yaxis[s].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=a/2),r.show&&t>0){l.config.yaxis[s].opposite===!0&&(e+=r.width);for(var h=t;h>=0;h--){var d=c.drawLine(e+i.offsetX-r.width+r.offsetX,u+r.offsetY,e+i.offsetX+r.offsetX,u+r.offsetY,r.color);o.add(d),u+=a}}}}]),n}(),HT=function(){function n(e){se(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new Ph(this.annoCtx),this.axesUtils=new Rr(this.annoCtx)}return ae(n,[{key:"addYaxisAnnotation",value:function(e,t,i){var r,s=this.w,a=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,u=!0,h=!1,d=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){h=!0;var g=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}else{if(r=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,r>l){var p=l;l=r,r=p}if(!c||!u){h=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),l-r,0,e.fillColor,e.opacity,1,e.borderColor,a);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(h){var x=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,v=this.annoCtx.graphics.drawText({x:x+e.label.offsetX,y:(r??l)+e.label.offsetY-3,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});v.attr({rel:i}),t.appendChild(v.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(r,s){r.yAxisIndex=e.axesUtils.translateYAxisIndex(r.yAxisIndex),e.axesUtils.isYAxisHidden(r.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(r.yAxisIndex)||e.addYaxisAnnotation(r,i.node,s)}),i}}]),n}(),BT=function(){function n(e){se(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new Ph(this.annoCtx)}return ae(n,[{key:"addPointAnnotation",value:function(e,t,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",e),s=r.x,a=r.clipped,o=(r=this.helpers.getY1Y2("y1",e)).yP,l=r.clipped;if(O.isNumber(s)&&!l&&!a){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,o+e.marker.offsetY,c);t.appendChild(u.node);var h=e.label.text?e.label.text:"",d=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(d.attr({rel:i}),t.appendChild(d.node),e.customSVG.SVG){var g=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});g.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),g.node.innerHTML=e.customSVG.SVG,t.appendChild(g.node)}if(e.image.path){var p=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:s+e.image.offsetX-p/2,y:o+e.image.offsetY-m/2,width:p,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(r,s){e.addPointAnnotation(r,i.node,s)}),i}}]),n}(),d_={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},is=function(){function n(){se(this,n),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ae(n,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[d_],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),n}(),WT=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.graphics=new U(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ph(this),this.xAxisAnnotations=new jT(this),this.yAxisAnnotations=new HT(this),this.pointsAnnotations=new BT(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ae(n,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,a=[t,i,r],o=[i.node,t.node,r.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(a[l]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,i){e.addImage(t,i)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,i){e.addText(t,i)})}},{key:"addXaxisAnnotation",value:function(e,t,i){this.xAxisAnnotations.addXaxisAnnotation(e,t,i)}},{key:"addYaxisAnnotation",value:function(e,t,i){this.yAxisAnnotations.addYaxisAnnotation(e,t,i)}},{key:"addPointAnnotation",value:function(e,t,i){this.pointsAnnotations.addPointAnnotation(e,t,i)}},{key:"addText",value:function(e,t){var i=e.x,r=e.y,s=e.text,a=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,h=e.cssClass,d=e.backgroundColor,g=e.borderWidth,p=e.strokeDashArray,m=e.borderRadius,x=e.borderColor,v=e.appendTo,y=v===void 0?".apexcharts-svg":v,b=e.paddingLeft,C=b===void 0?4:b,S=e.paddingRight,R=S===void 0?4:S,k=e.paddingBottom,w=k===void 0?2:k,A=e.paddingTop,T=A===void 0?2:A,P=this.w,L=this.graphics.drawText({x:i,y:r,text:s,textAnchor:a||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||P.config.chart.fontFamily,foreColor:o||P.config.chart.foreColor,cssClass:h}),N=P.globals.dom.baseEl.querySelector(y);N&&N.appendChild(L.node);var V=L.bbox();if(s){var H=this.graphics.drawRect(V.x-C,V.y-T,V.width+C+R,V.height+w+T,m,d||"transparent",1,g,x,p);N.insertBefore(H.node,L.node)}}},{key:"addImage",value:function(e,t){var i=this.w,r=e.path,s=e.x,a=s===void 0?0:s,o=e.y,l=o===void 0?0:o,c=e.width,u=c===void 0?20:c,h=e.height,d=h===void 0?20:h,g=e.appendTo,p=g===void 0?".apexcharts-svg":g,m=i.globals.dom.Paper.image(r);m.size(u,d).move(a,l);var x=i.globals.dom.baseEl.querySelector(p);return x&&x.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(e,t,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(e){var t=e.params,i=e.pushToMemory,r=e.context,s=e.type,a=e.contextMethod,o=r,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),u=c.childNodes.length+1,h=new is,d=Object.assign({},s==="xaxis"?h.xAxisAnnotation:s==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),g=O.extend(d,t);switch(s){case"xaxis":this.addXaxisAnnotation(g,c,u);break;case"yaxis":this.addYaxisAnnotation(g,c,u);break;case"point":this.addPointAnnotation(g,c,u)}var p=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(u,"']")),m=this.helpers.addBackgroundToAnno(p,g);return m&&c.insertBefore(m.node,p),i&&l.globals.memory.methodsToExec.push({context:o,id:g.id?g.id:O.randomId(),method:a,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){for(var t=e.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=t.globals.memory.methodsToExec.length-1;r>=0;r--)t.globals.memory.methodsToExec[r].label!=="addText"&&t.globals.memory.methodsToExec[r].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(r,1);i=O.listToArray(i),Array.prototype.forEach.call(i,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var i=e.w,r=i.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(i.globals.memory.methodsToExec.map(function(s,a){s.id===t&&i.globals.memory.methodsToExec.splice(a,1)}),Object.keys(i.config.annotations).forEach(function(s){var a=i.config.annotations[s];Array.isArray(a)&&(i.config.annotations[s]=a.filter(function(o){return o.id!==t}))}),Array.prototype.forEach.call(r,function(s){s.parentElement.removeChild(s)}))}}]),n}(),Zd=function(n){var e,t=n.isTimeline,i=n.ctx,r=n.seriesIndex,s=n.dataPointIndex,a=n.y1,o=n.y2,l=n.w,c=l.globals.seriesRangeStart[r][s],u=l.globals.seriesRangeEnd[r][s],h=l.globals.labels[s],d=l.config.series[r].name?l.config.series[r].name:"",g=l.globals.ttKeyFormatter,p=l.config.tooltip.y.title.formatter,m={w:l,seriesIndex:r,dataPointIndex:s,start:c,end:u};typeof p=="function"&&(d=p(d,m)),(e=l.config.series[r].data[s])!==null&&e!==void 0&&e.x&&(h=l.config.series[r].data[s].x),t||l.config.xaxis.type==="datetime"&&(h=new Bl(i).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new zt(i).formatDate,w:l})),typeof g=="function"&&(h=g(h,m)),Number.isFinite(a)&&Number.isFinite(o)&&(c=a,u=o);var x="",v="",y=l.globals.colors[r];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var b=new zt(i);x=b.formatDate(b.getDate(c),l.config.tooltip.x.format),v=b.formatDate(b.getDate(u),l.config.tooltip.x.format)}else x=c,v=u;else x=l.config.tooltip.x.formatter(c),v=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:x,endVal:v,ylabel:h,color:y,seriesName:d}},Jd=function(n){var e=n.color,t=n.seriesName,i=n.ylabel,r=n.start,s=n.end,a=n.seriesIndex,o=n.dataPointIndex,l=n.ctx.tooltip.tooltipLabels.getFormatters(a);r=l.yLbFormatter(r),s=l.yLbFormatter(s);var c=l.yLbFormatter(n.w.globals.series[a][o]),u=`<span class="value start-value">
  `.concat(r,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(s,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+i+": </span> "+(n.w.globals.comboCharts?n.w.config.series[a].type==="rangeArea"||n.w.config.series[a].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},ml=function(){function n(e){se(this,n),this.opts=e}return ae(n,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),O.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var i=t.w.config.series[t.seriesIndex].name;return e!==null?i+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Q(Q({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,i,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,i,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var i=t.seriesIndex,r=t.dataPointIndex,s=t.w,a=function(){var o=s.globals.seriesRangeStart[i][r];return s.globals.seriesRangeEnd[i][r]-o};return s.globals.comboCharts?s.config.series[i].type==="rangeBar"||s.config.series[i].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var i=Zd(Q(Q({},t),{},{isTimeline:!0})),r=i.color,s=i.seriesName,a=i.ylabel,o=i.startVal,l=i.endVal;return Jd(Q(Q({},t),{},{color:r,seriesName:s,ylabel:a,start:o,end:l}))}(e):function(t){var i=Zd(t),r=i.color,s=i.seriesName,a=i.ylabel,o=i.start,l=i.end;return Jd(Q(Q({},t),{},{color:r,seriesName:s,ylabel:a,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,i;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(i=e.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var i=Zd(t),r=i.color,s=i.seriesName,a=i.ylabel,o=i.start,l=i.end;return Jd(Q(Q({},t),{},{color:r,seriesName:s,ylabel:a,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return O.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(i,r){e.yaxis[r].min=0,e.yaxis[r].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Q(Q({},e),{},{plotOptions:Q(Q({},e.plotOptions),{},{bar:Q(Q({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,i){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return O.isNumber(a)?Math.floor(a):a};var r=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return i&&i.length&&(s=i.map(function(a){return Array.isArray(a)?a:String(a)})),s&&s.length&&(e.xaxis.labels.formatter=function(a){return O.isNumber(a)?r(s[Math.floor(a)-1]):r(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,i,r,s){var a=e.globals.seriesCandleO[t][i],o=e.globals.seriesCandleH[t][i],l=e.globals.seriesCandleM[t][i],c=e.globals.seriesCandleL[t][i],u=e.globals.seriesCandleC[t][i];return e.config.series[t].type&&e.config.series[t].type!==s?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(r[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+u+"</span></div></div>"}}]),n}(),vl=function(){function n(e){se(this,n),this.opts=e}return ae(n,[{key:"init",value:function(e){var t=e.responsiveOverride,i=this.opts,r=new is,s=new ml(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var a=r.init(),o={};if(i&&Ea(i)==="object"){var l,c,u,h,d,g,p,m,x,v,y={};y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?s[i.chart.type]():s.line(),(l=i.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(y=s.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(y=s.stackedBars()),(u=i.chart.brush)!==null&&u!==void 0&&u.enabled&&(y=s.brush(y)),(h=i.plotOptions)!==null&&h!==void 0&&(d=h.line)!==null&&d!==void 0&&d.isSlopeChart&&(y=s.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=s.stacked100(i)),(g=i.plotOptions)!==null&&g!==void 0&&(p=g.bar)!==null&&p!==void 0&&p.isDumbbell&&(i=s.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},t||(i.xaxis.convertedCatToNumeric=!1),((m=(i=this.checkForCatToNumericXAxis(this.chartType,y,i)).chart.sparkline)!==null&&m!==void 0&&m.enabled||(x=window.Apex.chart)!==null&&x!==void 0&&(v=x.sparkline)!==null&&v!==void 0&&v.enabled)&&(y=s.sparkline(y)),o=O.extend(a,y)}var b=O.extend(o,window.Apex);return a=O.extend(b,i),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,i){var r,s,a=new ml(i),o=(e==="bar"||e==="boxPlot")&&((r=i.plotOptions)===null||r===void 0||(s=r.bar)===null||s===void 0?void 0:s.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",u=i.xaxis.tickPlacement?i.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||l||!c||u==="between"||(i=a.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(e,t){var i=new is;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=O.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[O.extend(i.yAxis,e.yaxis)]:e.yaxis=O.extendArray(e.yaxis,i.yAxis);var r=!1;e.yaxis.forEach(function(a){a.logarithmic&&(r=!0)});var s=e.series;return t&&!s&&(s=t.config.series),r&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(a,o){if(a.name||(s[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=s[o].name,e.yaxis[o];var l=O.extend(i.yAxis,e.yaxis[0]);return l.show=!1,l})),r&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new is;return e.annotations.yaxis=O.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new is;return e.annotations.xaxis=O.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new is;return e.annotations.points=O.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),n}(),f_=function(){function n(){se(this,n)}return ae(n,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=O.extend({},e),t.initialSeries=O.clone(e.series),t.lastXAxis=O.clone(t.initialConfig.xaxis),t.lastYAxis=O.clone(t.initialConfig.yaxis),t}}]),n}(),UT=function(){function n(e){se(this,n),this.opts=e}return ae(n,[{key:"init",value:function(){var e=new vl(this.opts).init({responsiveOverride:!1});return{config:e,globals:new f_().init(e)}}}]),n}(),ii=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return ae(n,[{key:"clippedImgArea",value:function(e){var t=this.w,i=t.config,r=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),a=r>s?r:s,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(l=i.fill.image.width+1,c=i.fill.image.height):(l=a+1,c=a):(l=e.width,c=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");U.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",o),U.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,i=t.config.chart.type;return(i==="bar"||i==="rangeBar")&&t.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var i,r=this.w,s=null,a=null,o=Co(e);try{for(o.s();!(i=o.n()).done;){var l=i.value;l>=t.threshold?(s===null||l>s)&&(s=l):(a===null||l<a)&&(a=l)}}catch(h){o.e(h)}finally{o.f()}s===null&&(s=t.threshold),a===null&&(a=t.threshold);var c=s-t.threshold+(t.threshold-a);c===0&&(c=1);var u=100-(t.threshold-a)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,i,r,s=this.w;this.opts=e;var a,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(h=s.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var d,g,p,m=e.fillType?e.fillType:this.getFillType(this.seriesIndex),x=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,v=m==="gradient"||u;e.color&&(h=e.color),(t=s.config.series[this.seriesIndex])!==null&&t!==void 0&&(i=t.data)!==null&&i!==void 0&&(r=i[e.dataPointIndex])!==null&&r!==void 0&&r.fillColor&&(h=(d=s.config.series[this.seriesIndex])===null||d===void 0||(g=d.data)===null||g===void 0||(p=g[e.dataPointIndex])===null||p===void 0?void 0:p.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var y=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?y=h:h.length<9&&(y=O.hexToRgba(h,x)):h.indexOf("rgba")>-1?x=O.getOpacityFromRGBA(h):y=O.hexToRgba(O.rgb2hex(h),x),e.opacity&&(x=e.opacity),m==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:h,fillOpacity:x,defaultColor:y})),v){var b=Tt(c.fill.gradient.colorStops)||[],C=c.fill.gradient.type;u&&(b[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],c.plotOptions.line.colors),C="vertical"),l=this.handleGradientFill({type:C,fillConfig:e.fillConfig,fillColor:h,fillOpacity:x,colorStops:b,i:this.seriesIndex})}if(m==="image"){var S=c.fill.image.src,R=e.patternID?e.patternID:"",k="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(R);this.patternIDs.indexOf(k)===-1&&(this.clippedImgArea({opacity:x,image:Array.isArray(S)?e.seriesNumber<S.length?S[e.seriesNumber]:S[0]:S,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:k}),this.patternIDs.push(k)),a="url(#".concat(k,")")}else a=v?l:m==="pattern"?o:y;return e.solid&&(a=y),a}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,i=this.opts,r=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),i.fillColors!==void 0&&(r=[],Array.isArray(i.fillColors)?r=i.fillColors.slice():r.push(i.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,i=e.patternFill,r=e.fillColor,s=e.fillOpacity,a=e.defaultColor,o=this.w.config.fill;t&&(o=t);var l=this.opts,c=new U(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,h=r;return Array.isArray(o.pattern.style)?i=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,h,u,s):a:i=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,h,u,s),i}},{key:"handleGradientFill",value:function(e){var t=e.type,i=e.fillColor,r=e.fillOpacity,s=e.fillConfig,a=e.colorStops,o=e.i,l=this.w.config.fill;s&&(l=Q(Q({},l),s));var c=this.opts,u=new U(this.ctx),h=new O;t=t||l.gradient.type;var d,g=i,p=l.gradient.opacityFrom===void 0?r:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;g.indexOf("rgba")>-1&&(p=O.getOpacityFromRGBA(g));var m=l.gradient.opacityTo===void 0?r:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)d=l.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?O.rgb2hex(i):i):h.shadeColor(parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?O.rgb2hex(i):i);else if(l.gradient.gradientToColors[c.seriesNumber]){var x=l.gradient.gradientToColors[c.seriesNumber];d=x,x.indexOf("rgba")>-1&&(m=O.getOpacityFromRGBA(x))}else d=i;if(l.gradient.gradientFrom&&(g=l.gradient.gradientFrom),l.gradient.gradientTo&&(d=l.gradient.gradientTo),l.gradient.inverseColors){var v=g;g=d,d=v}return g.indexOf("rgb")>-1&&(g=O.rgb2hex(g)),d.indexOf("rgb")>-1&&(d=O.rgb2hex(d)),u.drawGradient(t,g,d,p,m,c.size,l.gradient.stops,a,o)}}]),n}(),Ua=function(){function n(e,t){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(i){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,i=e.seriesIndex,r=e.j,s=e.pSize,a=e.alwaysDrawMarker,o=a!==void 0&&a,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,h=i,d=t,g=null,p=new U(this.ctx),m=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(d.x))for(var x=0;x<d.x.length;x++){var v=void 0,y=r,b=!O.isNumber(d.y[x]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][r+1]!==null&&!c&&(b=!0),r===1&&x===0&&(y=0),r===1&&x===1&&(y=1);var C="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(C+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[i]>0:u.config.markers.size>0)||o||m){b||(C+=" w".concat(O.randomId()));var S=this.getMarkerConfig({cssClass:C,seriesIndex:i,dataPointIndex:y});u.config.series[h].data[y]&&(u.config.series[h].data[y].fillColor&&(S.pointFillColor=u.config.series[h].data[y].fillColor),u.config.series[h].data[y].strokeColor&&(S.pointStrokeColor=u.config.series[h].data[y].strokeColor)),s!==void 0&&(S.pSize=s),(d.x[x]<-u.globals.markers.largestSize||d.x[x]>u.globals.gridWidth+u.globals.markers.largestSize||d.y[x]<-u.globals.markers.largestSize||d.y[x]>u.globals.gridHeight+u.globals.markers.largestSize)&&(S.pSize=0),!b&&((u.globals.markers.size[i]>0||o||m)&&!g&&(g=p.group({class:o||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(v=p.drawMarker(d.x[x],d.y[x],S)).attr("rel",y),v.attr("j",y),v.attr("index",i),v.node.setAttribute("default-marker-size",S.pSize),new Ht(this.ctx).setSelectionFilter(v,i,y),this.addEvents(v),g&&g.add(v))}else u.globals.pointsArray[i]===void 0&&(u.globals.pointsArray[i]=[]),u.globals.pointsArray[i].push([d.x[x],d.y[x]])}return g}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,i=e.seriesIndex,r=e.dataPointIndex,s=r===void 0?null:r,a=e.radius,o=a===void 0?null:a,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,h=u===void 0?null:u,d=this.w,g=this.getMarkerStyle(i),p=c===null?d.globals.markers.size[i]:c,m=d.config.markers;return s!==null&&m.discrete.length&&m.discrete.map(function(x){x.seriesIndex===i&&x.dataPointIndex===s&&(g.pointStrokeColor=x.strokeColor,g.pointFillColor=x.fillColor,p=x.size,g.pointShape=x.shape)}),{pSize:o===null?p:o,pRadius:o!==null?o:m.radius,pointStrokeWidth:h!==null?h:Array.isArray(m.strokeWidth)?m.strokeWidth[i]:m.strokeWidth,pointStrokeColor:g.pointStrokeColor,pointFillColor:g.pointFillColor,shape:g.pointShape||(Array.isArray(m.shape)?m.shape[i]:m.shape),class:t,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[i]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[i]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[i]:m.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(e){var t=this.w,i=new U(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,i=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(i)?i[e]:i}}}]),n}(),g_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return ae(n,[{key:"draw",value:function(e,t,i){var r=this.w,s=new U(this.ctx),a=i.realIndex,o=i.pointsPos,l=i.zRatio,c=i.elParent,u=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(o.x))for(var h=0;h<o.x.length;h++){var d=t+1,g=!0;t===0&&h===0&&(d=0),t===0&&h===1&&(d=1);var p=r.globals.markers.size[a];if(l!==1/0){var m=r.config.plotOptions.bubble;p=r.globals.seriesZ[a][d],m.zScaling&&(p/=l),m.minBubbleRadius&&p<m.minBubbleRadius&&(p=m.minBubbleRadius),m.maxBubbleRadius&&p>m.maxBubbleRadius&&(p=m.maxBubbleRadius)}var x=o.x[h],v=o.y[h];if(p=p||0,v!==null&&r.globals.series[a][d]!==void 0||(g=!1),g){var y=this.drawPoint(x,v,p,a,d,t);u.add(y)}c.add(u)}}},{key:"drawPoint",value:function(e,t,i,r,s,a){var o=this.w,l=r,c=new ja(this.ctx),u=new Ht(this.ctx),h=new ii(this.ctx),d=new Ua(this.ctx),g=new U(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[r]&&o.config.series[r].type==="bubble"?i:null}),m=h.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[r][a]}),x=g.drawMarker(e,t,p);if(o.config.series[l].data[s]&&o.config.series[l].data[s].fillColor&&(m=o.config.series[l].data[s].fillColor),x.attr({fill:m}),o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;u.dropShadow(x,v,r)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;c.animateMarker(x,y,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(x)},100)})}return x.attr({rel:s,j:s,index:r,"default-marker-size":p.pSize}),u.setSelectionFilter(x,r,s),d.addEvents(x),x.node.classList.add("apexcharts-marker"),x}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),n}(),Ta=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"dataLabelsCorrection",value:function(e,t,i,r,s,a,o){var l=this.w,c=!1,u=new U(this.ctx).getTextRects(i,o),h=u.width,d=u.height;t<0&&(t=0),t>l.globals.gridHeight+d&&(t=l.globals.gridHeight+d/2),l.globals.dataLabelsRects[r]===void 0&&(l.globals.dataLabelsRects[r]=[]),l.globals.dataLabelsRects[r].push({x:e,y:t,width:h,height:d});var g=l.globals.dataLabelsRects[r].length-2,p=l.globals.lastDrawnDataLabelsIndexes[r]!==void 0?l.globals.lastDrawnDataLabelsIndexes[r][l.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(l.globals.dataLabelsRects[r][g]!==void 0){var m=l.globals.dataLabelsRects[r][p];(e>m.x+m.width||t>m.y+m.height||t+d<m.y||e+h<m.x)&&(c=!0)}return(s===0||a)&&(c=!0),{x:e,y:t,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,i=e.type,r=e.pos,s=e.i,a=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,h=new U(this.ctx),d=u.config.dataLabels,g=0,p=0,m=a,x=null;if(u.globals.collapsedSeriesIndices.indexOf(s)!==-1||!d.enabled||!Array.isArray(r.x))return x;x=h.group({class:"apexcharts-data-labels"});for(var v=0;v<r.x.length;v++)if(g=r.x[v]+d.offsetX,p=r.y[v]+d.offsetY+c,!isNaN(g)){a===1&&v===0&&(m=0),a===1&&v===1&&(m=1);var y=u.globals.series[s][m];i==="rangeArea"&&(y=o?u.globals.seriesRangeStart[s][m]:u.globals.seriesRangeEnd[s][m]);var b="",C=function(R){return u.config.dataLabels.formatter(R,{ctx:t.ctx,seriesIndex:s,dataPointIndex:m,w:u})};u.config.chart.type==="bubble"?(b=C(y=u.globals.seriesZ[s][m]),p=r.y[v],p=new g_(this.ctx).centerTextInBubble(p,s,m).y):y!==void 0&&(b=C(y));var S=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(S=m===0?"end":m===u.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:g,y:p,text:b,i:s,j:m,parent:x,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:S})}return x}},{key:"plotDataLabelsText",value:function(e){var t=this.w,i=new U(this.ctx),r=e.x,s=e.y,a=e.i,o=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,h=e.parent,d=e.dataLabelsConfig,g=e.color,p=e.alwaysDrawDataLabel,m=e.offsetCorrection,x=e.className,v=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return v;var y={x:r,y:s,drawnextLabel:!0,textRects:null};m&&(y=this.dataLabelsCorrection(r,s,l,a,o,p,parseInt(d.style.fontSize,10))),t.globals.zoomed||(r=y.x,s=y.y),y.textRects&&(r<-20-y.textRects.width||r>t.globals.gridWidth+y.textRects.width+30)&&(l="");var b=t.globals.dataLabels.style.colors[a];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(b=t.globals.dataLabels.style.colors[o]),typeof b=="function"&&(b=b({series:t.globals.series,seriesIndex:a,dataPointIndex:o,w:t})),g&&(b=g);var C=d.offsetX,S=d.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(C=0,S=0),t.globals.isSlopeChart&&(o!==0&&(C=-2*d.offsetX+5),o!==0&&o!==t.config.series[a].data.length-1&&(C=0)),y.drawnextLabel){if((v=i.drawText({width:100,height:parseInt(d.style.fontSize,10),x:r+C,y:s+S,foreColor:b,textAnchor:c||d.textAnchor,text:l,fontSize:u||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"})).attr({class:x||"apexcharts-datalabel",cx:r,cy:s}),d.dropShadow.enabled){var R=d.dropShadow;new Ht(this.ctx).dropShadow(v,R)}h.add(v),t.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(o)}return v}},{key:"addBackgroundToDataLabel",value:function(e,t){var i=this.w,r=i.config.dataLabels.background,s=r.padding,a=r.padding/2,o=t.width,l=t.height,c=new U(this.ctx).drawRect(t.x-s,t.y-a/2,o+2*s,l+a,r.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new Ht(this.ctx).dropShadow(c,r.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<t.length;i++){var r=t[i],s=r.getBBox(),a=null;if(s.width&&s.height&&(a=this.addBackgroundToDataLabel(r,s)),a){r.parentNode.insertBefore(a.node,r);var o=e.config.dataLabels.background.backgroundColor||r.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:o}):a.attr({fill:o}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)i&&i.insertBefore(t[r],i.nextSibling)}}]),n}(),jn=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return ae(n,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(O.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),i=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(e,t){var i=this.w;function r(s){for(var a=0;a<s.length;a++)s[a].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(i.globals.collapsedSeries),r(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w,s=O.clone(r.globals.initialSeries);r.globals.previousPaths=[],i?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),r.config.series=s,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,i=0;i<e.length;i++)t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,i=this.getSeriesByName(e),r=parseInt(i==null?void 0:i.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,o=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var c=t.globals.seriesYAxisReverseMap[r];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var u=0;u<s.length;u++)s[u].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var h=0;h<s.length;h++)s[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var i=this.w;t||(t=e.target);var r=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[s])}else if(e.type==="mouseout")for(var a=0;a<r.length;a++)r[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var i=this,r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(c){for(var u=0;u<s.length;u++)s[u].classList[c](i.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;a("add");var l=r.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var h=0;h<s.length;h++){var d=Number(s[h].getAttribute("val"));d>=c.from&&(d<c.to||c.to===u&&d===u)&&s[h].classList.remove(i.legendInactiveClass)}})(l[o],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,r=0;if(i.config.series.length>1){for(var s=i.config.series.map(function(o,l){return o.data&&o.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!i.globals.comboCharts||t.length===0||t.length&&t.indexOf(i.config.series[l].type)>-1)?l:-1}),a=e==="asc"?0:s.length-1;e==="asc"?a<s.length:a>=0;e==="asc"?a++:a--)if(s[a]!==-1){r=s[a];break}}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(a,o,l){for(var c=a[o].childNodes,u={type:l,paths:[],realIndex:a[o].getAttribute("data:realIndex")},h=0;h<c.length;h++)if(c[h].hasAttribute("pathTo")){var d=c[h].getAttribute("pathTo");u.paths.push({d})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var o,l=(o=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,a)});var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(i.length>0)for(var r=function(a){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),l=[],c=function(h){var d=function(p){return o[h].getAttribute(p)},g={x:parseFloat(d("x")),y:parseFloat(d("y")),width:parseFloat(d("width")),height:parseFloat(d("height"))};l.push({rect:g,color:o[h].getAttribute("color")})},u=0;u<o.length;u++)c(u);e.globals.previousPaths.push(l)},s=0;s<i.length;s++)r(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,i=new U(this.ctx),r=e.globals.svgWidth/2,s=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(r=10,a="start"):t.align==="right"&&(r=e.globals.svgWidth-10,a="end"),t.verticalAlign==="top"?s=50:t.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),r+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var o=i.drawText({x:r,y:s,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,i=0;i<e.length;i++)if(e[i].length===0)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[i].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,i=this.filteredSeriesX(),r=0;r<i.length-1;r++)if(i[r][0]!==i[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),n}(),pm=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new pt(this.ctx)}return ae(n,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new jn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new jn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var i=this.w.config,r=this.w.globals,s=i.chart.type==="boxPlot"||i.series[t].type==="boxPlot",a=0;a<e[t].data.length;a++)if(e[t].data[a][1]!==void 0&&(Array.isArray(e[t].data[a][1])&&e[t].data[a][1].length===4&&!s?this.twoDSeries.push(O.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(O.parseNumber(e[t].data[a][4])):this.twoDSeries.push(O.parseNumber(e[t].data[a][1])),r.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var o=new Date(e[t].data[a][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var i=this.w.config,r=this.w.globals,s=new zt(this.ctx),a=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)e[t].data[o].y!==void 0&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(O.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(O.parseNumber(e[t].data[o].y))),e[t].data[o].goals!==void 0&&Array.isArray(e[t].data[o].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[a].data.length;l++){var c=typeof e[a].data[l].x=="string",u=Array.isArray(e[a].data[l].x),h=!u&&!!s.isValidDate(e[a].data[l].x);if(c||h)if(c||i.xaxis.convertedCatToNumeric){var d=r.isBarHorizontal&&r.isRangeData;i.xaxis.type!=="datetime"||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x),isNaN(e[a].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[l].x=="string"||(r.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[a].data[l].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[a].data[l].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var g=0;g<e[t].data.length;g++)this.threeDSeries.push(e[t].data[g].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),i.seriesRangeStart[t]=r.start===void 0?[]:r.start,i.seriesRangeEnd[t]=r.end===void 0?[]:r.end,i.seriesRange[t]=r.rangeUniques,i.seriesRange.forEach(function(s,a){s&&s.forEach(function(o,l){o.y.forEach(function(c,u){for(var h=0;h<o.y.length;h++)if(u!==h){var d=c.y1,g=c.y2,p=o.y[h].y1;d<=o.y[h].y2&&p<=g&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[h].rangeName)<0&&o.overlaps.push(o.y[h].rangeName))}})})}),r}},{key:"handleCandleStickBoxData",value:function(e,t){var i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),i.seriesCandleO[t]=r.o,i.seriesCandleH[t]=r.h,i.seriesCandleM[t]=r.m,i.seriesCandleL[t]=r.l,i.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,i){var r=[],s=[],a=t[i].data.filter(function(u,h,d){return h===d.findIndex(function(g){return g.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<t[i].data.length;o++)Array.isArray(t[i].data[o])?(r.push(t[i].data[o][1][0]),s.push(t[i].data[o][1][1])):(r.push(t[i].data[o]),s.push(t[i].data[o]));else if(e==="xy")for(var l=function(u){var h=Array.isArray(t[i].data[u].y),d=O.randomId(),g=t[i].data[u].x,p={y1:h?t[i].data[u].y[0]:t[i].data[u].y,y2:h?t[i].data[u].y[1]:t[i].data[u].y,rangeName:d};t[i].data[u].rangeName=d;var m=a.findIndex(function(x){return x.x===g});a[m].y.push(p),r.push(p.y1),s.push(p.y2)},c=0;c<t[i].data.length;c++)l(c);return{start:r,end:s,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,i){var r=this.w,s=r.config.chart.type==="boxPlot"||r.config.series[i].type==="boxPlot",a=[],o=[],l=[],c=[],u=[];if(e==="array")if(s&&t[i].data[0].length===6||!s&&t[i].data[0].length===5)for(var h=0;h<t[i].data.length;h++)a.push(t[i].data[h][1]),o.push(t[i].data[h][2]),s?(l.push(t[i].data[h][3]),c.push(t[i].data[h][4]),u.push(t[i].data[h][5])):(c.push(t[i].data[h][3]),u.push(t[i].data[h][4]));else for(var d=0;d<t[i].data.length;d++)Array.isArray(t[i].data[d][1])&&(a.push(t[i].data[d][1][0]),o.push(t[i].data[d][1][1]),s?(l.push(t[i].data[d][1][2]),c.push(t[i].data[d][1][3]),u.push(t[i].data[d][1][4])):(c.push(t[i].data[d][1][2]),u.push(t[i].data[d][1][3])));else if(e==="xy")for(var g=0;g<t[i].data.length;g++)Array.isArray(t[i].data[g].y)&&(a.push(t[i].data[g].y[0]),o.push(t[i].data[g].y[1]),s?(l.push(t[i].data[g].y[2]),c.push(t[i].data[g].y[3]),u.push(t[i].data[g].y[4])):(c.push(t[i].data[g].y[2]),u.push(t[i].data[g].y[3])));return{o:a,h:o,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,r=this.w.config,s=this.w.globals,a=new zt(i),o=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();s.isRangeBar=r.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=r.xaxis.type==="category"&&r.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=r.xaxis.group.groups),e.forEach(function(g,p){g.name!==void 0?s.seriesNames.push(g.name):s.seriesNames.push("series-"+parseInt(p+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Tt(new Set(r.series.map(function(g){return g.group})));r.series.forEach(function(g,p){var m=c.indexOf(g.group);l[m]||(l[m]=[]),l[m].push(s.seriesNames[p])}),s.seriesGroups=l;for(var u=function(){for(var g=0;g<o.length;g++)if(typeof o[g]=="string"){if(!a.isValidDate(o[g]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(o[g]))}else t.twoDSeriesX.push(o[g])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(s.isRangeData=!0,this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),r.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&r.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{r.xaxis.type==="datetime"?(s.isXNumeric=!0,u(),s.seriesX.push(this.twoDSeriesX)):r.xaxis.type==="numeric"&&(s.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var d=e[h].data.map(function(g){return O.parseNumber(g)});s.series.push(d)}s.seriesZ.push(this.threeDSeries),e[h].color!==void 0?s.seriesColors.push(e[h].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,i=this.w.config;t.series=e.slice(),t.seriesNames=i.labels.slice();for(var r=0;r<t.series.length;r++)t.seriesNames[r]===void 0&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,i=this.w.globals;t.xaxis.categories.length>0?i.labels=t.xaxis.categories:t.labels.length>0?i.labels=t.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(r){r.forEach(function(s){i.labels.indexOf(s.x)<0&&s.x&&i.labels.push(s.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new ml(t).convertCatToNumericXaxis(t,this.ctx,i.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,i=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=i.series.map(function(h,d){return h.data.filter(function(g,p,m){return m.findIndex(function(x){return x.x===g.x})===p})}),a=s.reduce(function(h,d,g,p){return p[h].length>d.length?h:g},0),o=0;o<s[a].length;o++)r.push(o+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)r.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(r);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(r.length===0){r=t.axisCharts?[]:t.series.map(function(h,d){return d+1});for(var u=0;u<e.length;u++)t.seriesX.push(r)}t.labels=r,i.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map(function(h){return i.xaxis.labels.formatter(h)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,i=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),i.chart.stacked){var s=new jn(this.ctx);r.series=s.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(r.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(i,r){var s=0;i.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&s++}),s>0&&s==i.length&&t.push(r)}),e.globals.ignoreYAxisIndexes=t.map(function(i){return i})}}]),n}(),Wo=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var i=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",i*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+i+" "+r)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(i){var r=t.w,s=e||r.config.chart.toolbar.export.scale||r.config.chart.toolbar.export.width/r.globals.svgWidth;s||(s=1);var a=r.globals.svgWidth*s,o=r.globals.svgHeight*s,l=r.globals.dom.elWrap.cloneNode(!0);l.style.width=a+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),u=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(r.globals.svgWidth,'px" height="').concat(r.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(a,"px; height:").concat(o,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),h=t.svgStringToNode(u);s!==1&&t.scaleSvgNode(h,s),t.convertImagesToBase64(h).then(function(){u=new XMLSerializer().serializeToString(h),i(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,i=e.getElementsByTagName("image"),r=Array.from(i).map(function(s){var a=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(o){s.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(r)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,i){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var s=document.createElement("canvas");s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(r,0,0),t(s.toDataURL())},r.onerror=i,r.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(i){var r=new Blob([i],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(r))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(i){var r=t.w,s=e?e.scale||e.width/r.globals.svgWidth:1,a=document.createElement("canvas");a.width=r.globals.svgWidth*s,a.height=parseInt(r.globals.dom.elWrap.style.height,10)*s;var o=r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",l=a.getContext("2d");l.fillStyle=o,l.fillRect(0,0,a.width*s,a.height*s),t.getSvgString(s).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(l.drawImage(h,0,0),a.msToBlob){var d=a.msToBlob();i({blob:d})}else{var g=a.toDataURL("image/png");i({imgURI:g})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,r=t?{scale:t}:i?{width:i}:void 0;this.dataURI(r).then(function(s){var a=s.imgURI,o=s.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,i=e.series,r=e.fileName,s=e.columnDelimiter,a=s===void 0?",":s,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;i||(i=c.config.series);var u=[],h=[],d="",g=c.globals.series.map(function(S,R){return c.globals.collapsedSeriesIndices.indexOf(R)===-1?S:[]}),p=function(S){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(S):c.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():O.isNumber(S)?S:S.split(a).join("")},m=function(S){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(S):S},x=Math.max.apply(Math,Tt(i.map(function(S){return S.data?S.data.length:0}))),v=new pm(this.ctx),y=new Rr(this.ctx),b=function(S){var R="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var k=c.globals.yLabelFormatters[0],w=new jn(t.ctx).getActiveConfigSeriesIndex();R=k(c.globals.labels[S],{seriesIndex:w,dataPointIndex:S,w:c})}else R=y.getLabel(c.globals.labels,c.globals.timescaleLabels,0,S).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?R=c.config.xaxis.categories[S]:c.config.labels.length&&(R=c.config.labels[S]))}else R=c.config.labels[S];return R===null?"nullvalue":(Array.isArray(R)&&(R=R.join(" ")),O.isNumber(R)?R:R.split(a).join(""))},C=function(S,R){if(u.length&&R===0&&h.push(u.join(a)),S.data){S.data=S.data.length&&S.data||Tt(Array(x)).map(function(){return""});for(var k=0;k<S.data.length;k++){u=[];var w=b(k);if(w!=="nullvalue"){if(w||(v.isFormatXY()?w=i[R].data[k].x:v.isFormat2DArray()&&(w=i[R].data[k]?i[R].data[k][0]:"")),R===0){u.push(p(w));for(var A=0;A<c.globals.series.length;A++){var T,P=v.isFormatXY()?(T=i[A].data[k])===null||T===void 0?void 0:T.y:g[A][k];u.push(m(P))}}(c.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[R][k]),u.push(c.globals.seriesCandleH[R][k]),u.push(c.globals.seriesCandleL[R][k]),u.push(c.globals.seriesCandleC[R][k])),(c.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[R][k]),u.push(c.globals.seriesCandleH[R][k]),u.push(c.globals.seriesCandleM[R][k]),u.push(c.globals.seriesCandleL[R][k]),u.push(c.globals.seriesCandleC[R][k])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[R][k]),u.push(c.globals.seriesRangeEnd[R][k])),u.length&&h.push(u.join(a))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):i.map(function(S,R){var k=(S.name?S.name:"series-".concat(R))+"";c.globals.axisCharts&&u.push(k.split(a).join("")?k.split(a).join(""):"series-".concat(R))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),h.push(u.join(a))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?i.map(function(S,R){c.globals.axisCharts?C(S,R):((u=[]).push(p(c.globals.labels[R])),u.push(m(g[R])),h.push(u.join(a)))}):function(){var S=new Set,R={};i.forEach(function(k,w){k==null||k.data.forEach(function(A){var T,P;if(v.isFormatXY())T=A.x,P=A.y;else{if(!v.isFormat2DArray())return;T=A[0],P=A[1]}R[T]||(R[T]=Array(i.length).fill("")),R[T][w]=m(P),S.add(T)})}),u.length&&h.push(u.join(a)),Array.from(S).sort().forEach(function(k){h.push([p(k),R[k].join(a)])})}(),d+=h.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+d),r||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,i){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+i,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),n}(),yl=function(){function n(e,t){se(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.axesUtils=new Rr(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return ae(n,[{key:"drawXaxis",value:function(){var e=this.w,t=new U(this.ctx),i=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(r);for(var s=[],a=0;a<this.xaxisLabels.length;a++)s.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,r,s,e.globals.isXNumeric,function(p,m){return m}),e.globals.hasXaxisGroups){var o=e.globals.groups;s=[];for(var l=0;l<o.length;l++)s.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,s,!1,function(p,m){return o[p].cols*m},c)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),i.add(u)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,g=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(g):i.add(g)}return i}},{key:"drawXAxisLabelAndGroup",value:function(e,t,i,r,s,a){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],d=this.w,g=c.xaxisFontSize||this.xaxisFontSize,p=c.xaxisFontFamily||this.xaxisFontFamily,m=c.xaxisForeColors||this.xaxisForeColors,x=c.fontWeight||d.config.xaxis.labels.style.fontWeight,v=c.cssClass||d.config.xaxis.labels.style.cssClass,y=d.globals.padHorizontal,b=r.length,C=d.config.xaxis.type==="category"?d.globals.dataPoints:b;if(C===0&&b>C&&(C=b),s){var S=Math.max(Number(d.config.xaxis.tickAmount)||1,C>1?C-1:C);o=d.globals.gridWidth/Math.min(S,b-1),y=y+a(0,o)/2+d.config.xaxis.labels.offsetX}else o=d.globals.gridWidth/C,y=y+a(0,o)+d.config.xaxis.labels.offsetX;for(var R=function(w){var A=y-a(w,o)/2+d.config.xaxis.labels.offsetX;w===0&&b===1&&o/2===y&&C===1&&(A=d.globals.gridWidth/2);var T=l.axesUtils.getLabel(r,d.globals.timescaleLabels,A,w,u,g,e),P=28;if(d.globals.rotateXLabels&&e&&(P=22),d.config.xaxis.title.text&&d.config.xaxis.position==="top"&&(P+=parseFloat(d.config.xaxis.title.style.fontSize)+2),e||(P=P+parseFloat(g)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),T=d.config.xaxis.tickAmount!==void 0&&d.config.xaxis.tickAmount!=="dataPoints"&&d.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(w,T,b):l.axesUtils.checkForOverflowingLabels(w,T,b,u,h),d.config.xaxis.labels.show){var L=t.drawText({x:T.x,y:l.offY+d.config.xaxis.labels.offsetY+P-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:T.text,textAnchor:"middle",fontWeight:T.isBold?600:x,fontSize:g,fontFamily:p,foreColor:Array.isArray(m)?e&&d.config.xaxis.convertedCatToNumeric?m[d.globals.minX+w-1]:m[w]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+v});if(i.add(L),L.on("click",function(V){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},d,{labelIndex:w});d.config.chart.events.xAxisLabelClick(V,l.ctx,H)}}),e){var N=document.createElementNS(d.globals.SVGNS,"title");N.textContent=Array.isArray(T.text)?T.text.join(" "):T.text,L.node.appendChild(N),T.text!==""&&(u.push(T.text),h.push(T))}}w<b-1&&(y+=a(w+1,o))},k=0;k<=b-1;k++)R(k)}},{key:"drawXaxisInversed",value:function(e){var t,i,r=this,s=this.w,a=new U(this.ctx),o=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,l=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var u=[];if(s.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=s.globals.gridHeight/u.length,i=-t/2.2;var d=s.globals.yLabelFormatters[0],g=s.config.yaxis[0].labels;if(g.show)for(var p=function(S){var R=u[S]===void 0?"":u[S];R=d(R,{seriesIndex:e,dataPointIndex:S,w:s});var k=r.axesUtils.getYAxisForeColor(g.style.colors,e),w=0;Array.isArray(R)&&(w=R.length/2*parseInt(g.style.fontSize,10));var A=g.offsetX-15,T="end";r.yaxis.opposite&&(T="start"),s.config.yaxis[0].labels.align==="left"?(A=g.offsetX,T="start"):s.config.yaxis[0].labels.align==="center"?(A=g.offsetX,T="middle"):s.config.yaxis[0].labels.align==="right"&&(T="end");var P=a.drawText({x:A,y:i+t+g.offsetY-w,text:R,textAnchor:T,foreColor:Array.isArray(k)?k[S]:k,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+g.style.cssClass,maxWidth:g.maxWidth});c.add(P),P.on("click",function(V){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},s,{labelIndex:S});s.config.chart.events.xAxisLabelClick(V,r.ctx,H)}});var L=document.createElementNS(s.globals.SVGNS,"title");if(L.textContent=Array.isArray(R)?R.join(" "):R,P.node.appendChild(L),s.config.yaxis[e].labels.rotate!==0){var N=a.rotateAroundCenter(P.node);P.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(N.y,")"))}i+=t},m=0;m<=u.length-1;m++)p(m);if(s.config.yaxis[0].title.text!==void 0){var x=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),v=a.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});x.add(v),l.add(x)}var y=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(y=s.globals.gridWidth);var b=s.config.xaxis.axisBorder;if(b.show){var C=a.drawLine(s.globals.padHorizontal+b.offsetX+y,1+b.offsetY,s.globals.padHorizontal+b.offsetX+y,s.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(C):l.add(C)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,u.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,i){var r=this.w,s=e;if(!(e<0||e-2>r.globals.gridWidth)){var a=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+a+r.config.xaxis.axisTicks.height,r.config.xaxis.position==="top"&&(t=a-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var o=new U(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,a+r.config.xaxis.offsetY,s+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);i.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],i=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<i;s++)r=this.xaxisLabels[s].position,t.push(r);else for(var a=i,o=0;o<a;o++){var l=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),r+=e.globals.gridWidth/l,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new U(this.ctx),i=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<r.length;o++){var l=t.rotateAroundCenter(r[o]);l.y=l.y-1,l.x=l.x+1,r[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),r[o].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var c=r[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(g){t.placeTextWithEllipsis(g,g.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var g=e.globals.gridWidth/(e.globals.labels.length+1),p=0;p<r.length;p++){var m=r[p].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(m,function(x){t.placeTextWithEllipsis(x,x.textContent,g)})}})();if(s.length>0){var u=s[s.length-1].getBBox(),h=s[0].getBBox();u.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var d=0;d<a.length;d++)t.placeTextWithEllipsis(a[d],a[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),n}(),p_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Rr(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return ae(n,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,i=new U(this.ctx);e||(e=i.group({class:"apexcharts-grid"}));var r=i.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=i.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(r),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,i=new U(this.ctx),r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Tt(e.config.stroke.width)):e.config.stroke.width,s=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var a=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=i.drawRect(-r/2-2,-r/2-2,t.gridWidth+r+4,t.gridHeight+r+4,0,"#fff"),t.dom.elGridRectBar=i.drawRect(-r/2-a-2,-r/2-2,t.gridWidth+r+o+a+4,t.gridHeight+r+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=i.drawRect(-l,-l,t.gridWidth+2*l,t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,i=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:i,y1:r,x2:s,y2:a,xCount:o,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var h=c.globals.groups;if(h){for(var d=0,g=0;d<t&&g<h.length;g++)d+=h[g].cols;d===t&&(u=.6*c.globals.xAxisLabelsHeight)}}new yl(this.ctx).drawXaxisTicks(i,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,i=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),h=c.globals.barPadForNumericAxis,d=r===0&&a===0||i===0&&s===0||r===c.globals.gridHeight&&a===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===o-1),g=new U(this).drawLine(i-(u?h:0),r,s+(u?h:0),a,c.config.grid.borderColor,c.config.grid.strokeDashArray);g.node.classList.add("apexcharts-gridline"),d&&c.config.grid.show?this.elGridBorders.add(g):l.add(g)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,i=e.x1,r=e.y1,s=e.x2,a=e.y2,o=e.type,l=this.w,c=new U(this.ctx),u=l.globals.barPadForNumericAxis,h=l.config.grid[o].colors[t],d=c.drawRect(i-(o==="row"?u:0),r,s+(o==="row"?2*u:0),a,0,h,l.config.grid[o].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var t=this,i=e.xCount,r=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var a,o=s.globals.padHorizontal,l=s.globals.gridHeight;s.globals.timescaleLabels.length?function(p){for(var m=p.xC,x=p.x1,v=p.y1,y=p.x2,b=p.y2,C=0;C<m;C++)x=t.xaxisLabels[C].position,y=t.xaxisLabels[C].position,t._drawGridLines({i:C,x1:x,y1:v,x2:y,y2:b,xCount:i,parent:t.elgridLinesV})}({xC:i,x1:o,y1:0,x2:a,y2:l}):(s.globals.isXNumeric&&(i=s.globals.xAxisScale.result.length),function(p){for(var m=p.xC,x=p.x1,v=p.y1,y=p.x2,b=p.y2,C=0;C<m+(s.globals.isXNumeric?0:1);C++)C===0&&m===1&&s.globals.dataPoints===1&&(y=x=s.globals.gridWidth/2),t._drawGridLines({i:C,x1:x,y1:v,x2:y,y2:b,xCount:i,parent:t.elgridLinesV}),y=x+=s.globals.gridWidth/(s.globals.isXNumeric?m-1:m)}({xC:i,x1:o,y1:0,x2:a,y2:l}))}if(s.config.grid.yaxis.lines.show){var c=0,u=0,h=s.globals.gridWidth,d=r+1;this.isRangeBar&&(d=s.globals.labels.length);for(var g=0;g<d+(this.isRangeBar?1:0);g++)this._drawGridLine({i:g,xCount:d+(this.isRangeBar?1:0),x1:0,y1:c,x2:h,y2:u,parent:this.elgridLinesH}),u=c+=s.globals.gridHeight/(this.isRangeBar?d:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var r,s=i.globals.padHorizontal,a=i.globals.gridHeight,o=0;o<t+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:t+1,x1:s,y1:0,x2:r,y2:a,parent:this.elgridLinesV}),new yl(this.ctx).drawXaxisTicks(s,0,i.globals.dom.elGraphical),r=s+=i.globals.gridWidth/t;if(i.config.grid.yaxis.lines.show)for(var l=0,c=0,u=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:i.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,i=new U(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(r);)r++;r===t.seriesYAxisMap.length&&(r=0);var s,a=t.yAxisScale[r].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var o,l,c;s=this.xaxisLabels.length,this.isRangeBar&&(a=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((o=t.yAxisScale)===null||o===void 0||(l=o[r])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(s=t.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:s,tickAmount:a})}else s=a,a=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:a});return this.drawGridBands(s,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var i,r,s=this,a=this.w;if(((i=a.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&function(p,m,x,v,y,b){for(var C=0,S=0;C<m;C++,S++)S>=a.config.grid[p].colors.length&&(S=0),s._drawGridBandRect({c:S,x1:x,y1:v,x2:y,y2:b,type:p}),v+=a.globals.gridHeight/t}("row",t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),((r=a.config.grid.column.colors)===null||r===void 0?void 0:r.length)>0){var o=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(o=a.globals.xAxisScale.result.length-1);for(var l=a.globals.padHorizontal,c=a.globals.padHorizontal+a.globals.gridWidth/o,u=a.globals.gridHeight,h=0,d=0;h<e;h++,d++){var g;d>=a.config.grid.column.colors.length&&(d=0),a.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[h].position,c=(((g=this.xaxisLabels[h+1])===null||g===void 0?void 0:g.position)||a.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:d,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=a.globals.gridWidth/o}}}}]),n}(),m_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.coreUtils=new pt(this.ctx)}return ae(n,[{key:"niceScale",value:function(e,t){var i,r,s,a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(i=c.config.xaxis,r=Math.max((u.svgWidth-100)/25,2)):(i=c.config.yaxis[o],r=Math.max((u.svgHeight-100)/15,2)),O.isNumber(r)||(r=10),s=i.min!==void 0&&i.min!==null,a=i.max!==void 0&&i.min!==null;var h=i.stepSize!==void 0&&i.stepSize!==null,d=i.tickAmount!==void 0&&i.tickAmount!==null,g=d?i.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(r/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!d&&u.multiAxisTickAmount>0&&(g=u.multiAxisTickAmount,d=!0),g=g==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(g)),(e===Number.MIN_VALUE&&t===0||!O.isNumber(e)&&!O.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=O.isNumber(i.min)?i.min:0,t=O.isNumber(i.max)?i.max:e+g,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=t;t=e,e=p}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var m=[];g<1&&(g=1);var x=g,v=Math.abs(t-e);!s&&e>0&&e/v<.15&&(e=0,s=!0),!a&&t<0&&-t/v<.15&&(t=0,a=!0);var y=(v=Math.abs(t-e))/x,b=y,C=Math.floor(Math.log10(b)),S=Math.pow(10,C),R=Math.ceil(b/S);if(y=b=(R=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][R])*S,u.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(y=i.stepSize,h=!0):h&&(y=i.stepSize),h&&i.forceNiceScale){var k=Math.floor(Math.log10(y));y*=Math.pow(10,C-k)}if(s&&a){var w=v/x;if(d)if(h)if(O.mod(v,y)!=0){var A=O.getGCD(y,w);y=w/A<10?A:w}else O.mod(y,w)==0?y=w:(w=y,d=!1);else y=w;else if(h)O.mod(v,y)==0?w=y:y=w;else if(O.mod(v,y)==0)w=y;else{w=v/(x=Math.ceil(v/y));var T=O.getGCD(v,y);v/T<r&&(w=T),y=w}x=Math.round(v/y)}else{if(s||a){if(a)if(d)e=t-y*x;else{var P=e;e=y*Math.floor(e/y),Math.abs(t-e)/O.getGCD(v,y)>r&&(e=t-y*g,e+=y*Math.floor((P-e)/y))}else if(s)if(d)t=e+y*x;else{var L=t;t=y*Math.ceil(t/y),Math.abs(t-e)/O.getGCD(v,y)>r&&(t=e+y*g,t+=y*Math.ceil((L-t)/y))}}else if(u.isMultipleYAxis&&d){var N=y*Math.floor(e/y),V=N+y*x;V<t&&(y*=2),V=t,t=(e=N)+y*x,v=Math.abs(t-e),e>0&&e<Math.abs(V-t)&&(e=0,t=y*x),t<0&&-t<Math.abs(N-e)&&(t=0,e=-y*x)}else e=y*Math.floor(e/y),t=y*Math.ceil(t/y);v=Math.abs(t-e),y=O.getGCD(v,y),x=Math.round(v/y)}if(d||s||a||(x=Math.ceil((v-l)/(y+l)))>16&&O.getPrimeFactors(x).length<2&&x++,!d&&i.forceNiceScale&&u.yValueDecimal===0&&x>v&&(x=v,y=Math.round(v/x)),x>r&&(!d&&!h||i.forceNiceScale)){var H=O.getPrimeFactors(x),W=H.length-1,q=x;e:for(var F=0;F<W;F++)for(var Y=0;Y<=W-F;Y++){for(var G=Math.min(Y+F,W),ee=q,oe=1,ye=Y;ye<=G;ye++)oe*=H[ye];if((ee/=oe)<r){q=ee;break e}}y=q===x?v:v/q,x=Math.round(v/y)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=x);var he=e-y,Ne=y*l;do he+=y,m.push(O.stripNumber(he,7));while(t-he>Ne);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(t-e),o=[];if(e===t)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(i=this._adjustTicksForSmallRange(i,r,a))==="dataPoints"&&(i=this.w.globals.dataPoints-1),s||(s=a/i),s=Math.round(100*(s+Number.EPSILON))/100,i===Number.MAX_VALUE&&(i=5,s=1);for(var l=e;i>=0;)o.push(l),l=O.preciseAddition(l,s),i-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var r=[],s=Math.ceil(Math.log(t)/Math.log(i)+1),a=Math.floor(Math.log(e)/Math.log(i));a<s;a++)r.push(Math.pow(i,a));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var r=[],s=Math.log(t)/Math.log(i),a=Math.log(e)/Math.log(i),o=s-a,l=Math.round(o),c=o/l,u=0,h=a;u<l;u++,h+=c)r.push(Math.pow(i,h));return r.push(Math.pow(i,s)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,i){var r=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var s=Number(this.w.config.yaxis[t].labels.formatter(1));O.isNumber(s)&&this.w.globals.yValueDecimal===0&&(r=Math.ceil(i))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,i){var r=this.w.globals,s=this.w.config,a=r.isBarHorizontal?s.xaxis:s.yaxis[e];r.yAxisScale[e]===void 0&&(r.yAxisScale[e]=[]);var o=Math.abs(i-t);a.logarithmic&&o<=5&&(r.invalidLogScale=!0),a.logarithmic&&o>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,i,a.logBase):this.logarithmicScale(t,i,a.logBase)):i!==-Number.MAX_VALUE&&O.isNumber(i)&&t!==Number.MAX_VALUE&&O.isNumber(t)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(t,i,e)):r.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var i=this.w,r=i.globals;if(t!==-Number.MAX_VALUE&&O.isNumber(t)){var s=r.xTickAmount;r.xAxisScale=this.linearScale(e,t,s,0,i.config.xaxis.stepSize)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=i.seriesYAxisMap,s=i.minYArr,a=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],r.forEach(function(o,l){var c=[];o.forEach(function(u){var h,d=(h=t.series[u])===null||h===void 0?void 0:h.group;c.indexOf(d)<0&&c.push(d)}),o.length>0?function(){var u,h,d=Number.MAX_VALUE,g=-Number.MAX_VALUE,p=d,m=g;if(t.chart.stacked)(function(){var y=new Array(i.dataPoints).fill(0),b=[],C=[],S=[];c.forEach(function(){b.push(y.map(function(){return Number.MIN_VALUE})),C.push(y.map(function(){return Number.MIN_VALUE})),S.push(y.map(function(){return Number.MIN_VALUE}))});for(var R=function(w){!u&&t.series[o[w]].type&&(u=t.series[o[w]].type);var A=o[w];h=t.series[A].group?t.series[A].group:"axis-".concat(l),!(i.collapsedSeriesIndices.indexOf(A)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(A)<0)||(i.allSeriesCollapsed=!1,c.forEach(function(T,P){if(t.series[A].group===T)for(var L=0;L<i.series[A].length;L++){var N=i.series[A][L];N>=0?C[P][L]+=N:S[P][L]+=N,b[P][L]+=N,p=Math.min(p,N),m=Math.max(m,N)}})),u!=="bar"&&u!=="column"||i.barGroups.push(h)},k=0;k<o.length;k++)R(k);u||(u=t.chart.type),u==="bar"||u==="column"?c.forEach(function(w,A){d=Math.min(d,Math.min.apply(null,S[A])),g=Math.max(g,Math.max.apply(null,C[A]))}):(c.forEach(function(w,A){p=Math.min(p,Math.min.apply(null,b[A])),m=Math.max(m,Math.max.apply(null,b[A]))}),d=p,g=m),d===Number.MIN_VALUE&&g===Number.MIN_VALUE&&(g=-Number.MAX_VALUE)})();else for(var x=0;x<o.length;x++){var v=o[x];d=Math.min(d,s[v]),g=Math.max(g,a[v]),!(i.collapsedSeriesIndices.indexOf(v)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(v)<0)||(i.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(d=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(d):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(g=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(g):t.yaxis[l].max),i.barGroups=i.barGroups.filter(function(y,b,C){return C.indexOf(y)===b}),e.setYScaleForIndex(l,d,g),o.forEach(function(y){s[y]=i.yAxisScale[l].niceMin,a[y]=i.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),n}(),Cg=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.scales=new m_(e)}return ae(n,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;r===null&&(r=e+1);var c=a.series,u=c,h=c;s.chart.type==="candlestick"?(u=a.seriesCandleL,h=a.seriesCandleH):s.chart.type==="boxPlot"?(u=a.seriesCandleO,h=a.seriesCandleC):a.isRangeData&&(u=a.seriesRangeStart,h=a.seriesRangeEnd);var d=!1;if(a.seriesX.length>=r){var g,p=(g=a.brushSource)===null||g===void 0?void 0:g.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||p!=null&&p.enabled&&p!=null&&p.autoScaleYaxis)&&(d=!0)}for(var m=e;m<r;m++){a.dataPoints=Math.max(a.dataPoints,c[m].length);var x=s.series[m].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(A){return A!==void 0}).length),a.labels.length&&s.xaxis.type!=="datetime"&&a.series.reduce(function(A,T){return A+T.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var v=0,y=c[m].length-1;if(d){if(s.xaxis.min)for(;v<y&&a.seriesX[m][v]<s.xaxis.min;v++);if(s.xaxis.max)for(;y>v&&a.seriesX[m][y]>s.xaxis.max;y--);}for(var b=v;b<=y&&b<a.series[m].length;b++){var C=c[m][b];if(C!==null&&O.isNumber(C)){var S,R,k,w;switch(((S=h[m])===null||S===void 0?void 0:S[b])!==void 0&&(o=Math.max(o,h[m][b]),t=Math.min(t,h[m][b])),((R=u[m])===null||R===void 0?void 0:R[b])!==void 0&&(t=Math.min(t,u[m][b]),i=Math.max(i,u[m][b])),x){case"candlestick":a.seriesCandleC[m][b]!==void 0&&(o=Math.max(o,a.seriesCandleH[m][b]),t=Math.min(t,a.seriesCandleL[m][b]));break;case"boxPlot":a.seriesCandleC[m][b]!==void 0&&(o=Math.max(o,a.seriesCandleC[m][b]),t=Math.min(t,a.seriesCandleO[m][b]))}x&&x!=="candlestick"&&x!=="boxPlot"&&x!=="rangeArea"&&x!=="rangeBar"&&(o=Math.max(o,a.series[m][b]),t=Math.min(t,a.series[m][b])),a.seriesGoals[m]&&a.seriesGoals[m][b]&&Array.isArray(a.seriesGoals[m][b])&&a.seriesGoals[m][b].forEach(function(A){o=Math.max(o,A.value),t=Math.min(t,A.value)}),i=o,C=O.noExponents(C),O.isFloat(C)&&(a.yValueDecimal=Math.max(a.yValueDecimal,C.toString().split(".")[1].length)),l>((k=u[m])===null||k===void 0?void 0:k[b])&&((w=u[m])===null||w===void 0?void 0:w[b])<0&&(l=u[m][b])}else a.hasNullValues=!0}x!=="bar"&&x!=="column"||(l<0&&o<0&&(o=0,i=Math.max(i,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return s.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(l=t),s.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:t,highestY:i}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var i,r=Number.MAX_VALUE;if(e.isMultipleYAxis){r=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)i=this.getMinYMaxY(s),e.minYArr[s]=i.lowestY,e.maxYArr[s]=i.highestY,r=Math.min(r,i.lowestY)}return i=this.getMinYMaxY(0,r,null,e.series.length),t.chart.type==="bar"?(e.minY=i.minY,e.maxY=i.maxY):(e.minY=i.lowestY,e.maxY=i.highestY),r=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY&&(e.minY=r):e.minY=e.minY!==Number.MIN_VALUE?Math.min(i.minY,e.minY):i.minY,t.yaxis.forEach(function(a,o){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[o]=a.max:typeof a.max=="function"&&(e.maxYArr[o]=a.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[o]=a.min:typeof a.min=="function"&&(e.minYArr[o]=a.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&typeof t.xaxis[a]=="number"&&(a==="min"?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=r):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.lineGroups=e.lineGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.areaGroups=e.areaGroups.filter(function(a,o,l){return l.indexOf(a)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,i=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&O.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r=10;if(t.xaxis.tickAmount===void 0)r=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&e.dataPoints!==0&&(r=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=Math.round(e.maxX-e.minX);s<30&&(r=s-1)}}else r=t.xaxis.tickAmount;if(e.xTickAmount=r,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());i&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var i=0;i<e.seriesZ[t].length;i++)e.seriesZ[t][i]!==null&&O.isNumber(e.seriesZ[t][i])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][i]),e.minZ=Math.min(e.minZ,e.seriesZ[t][i]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var i=new zt(this.ctx);if(t.xaxis.type==="datetime"){var r=i.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var s=i.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,i){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort(function(s,a){return s-a}),r.forEach(function(s,a){if(a>0){var o=s-r[a-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var i=t.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map(function(a){return a})]);var r={},s={};i.forEach(function(a){r[a]=[],s[a]=[],e.w.config.series.map(function(o,l){return a.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,u,h,d;r[a][l]===void 0&&(r[a][l]=0,s[a][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[o])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(d=h[o])===null||d===void 0?void 0:d.type)==="column"))&&t.series[o][l]!==null&&O.isNumber(t.series[o][l])&&(t.series[o][l]>0?r[a][l]+=parseFloat(t.series[o][l])+1e-4:s[a][l]+=parseFloat(t.series[o][l]))}})}),Object.entries(r).forEach(function(a){var o=D1(a,1)[0];r[o].forEach(function(l,c){t.maxY=Math.max(t.maxY,r[o][c]),t.minY=Math.min(t.minY,s[o][c])})})}}}]),n}(),mm=function(){function n(e,t){se(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Rr(e)}return ae(n,[{key:"drawYaxis",value:function(e){var t=this.w,i=new U(this.ctx),r=t.config.yaxis[e].labels.style,s=r.fontSize,a=r.fontFamily,o=r.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,d=t.globals.yLabelFormatters[e],g=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var p=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?p=0:t.config.chart.type==="heatmap"&&(p-=h/2),p+=parseInt(s,10)/3;for(var m=u;m>=0;m--){var x=d(g[m],m,t),v=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(v*=-1);var y=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(r.colors,e),C=Array.isArray(b)?b[m]:b,S=O.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(k){return k.textContent}),R=i.drawText({x:v,y:p,text:S.includes(x)&&!t.config.yaxis[e].labels.showDuplicates?"":x,textAnchor:y,fontSize:s,fontFamily:a,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:C,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});c.add(R),this.addTooltip(R,x),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(i,R,firstLabel,t.config.yaxis[e].labels.rotate),p+=h}}return this.addYAxisTitle(i,l,e),this.addAxisBorder(i,l,e,u,h),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(i)}},{key:"rotateLabel",value:function(e,t,i,r){var s=e.rotateAroundCenter(i.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(r," ").concat(s.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,i){var r=this.w;if(r.config.yaxis[i].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),a=r.config.yaxis[i].opposite?r.globals.translateYAxisX[i]:0,o=e.drawText({x:a,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[i].title.offsetY,text:r.config.yaxis[i].title.text,textAnchor:"end",foreColor:r.config.yaxis[i].title.style.color,fontSize:r.config.yaxis[i].title.style.fontSize,fontWeight:r.config.yaxis[i].title.style.fontWeight,fontFamily:r.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[i].title.style.cssClass)});s.add(o),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,i,r,s){var a=this.w,o=a.config.yaxis[i].axisBorder,l=31+o.offsetX;if(a.config.yaxis[i].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,a.globals.translateY+o.offsetY-2,l,a.globals.gridHeight+a.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(c)}a.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,r,o,a.config.yaxis[i].axisTicks,i,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,i=new U(this.ctx),r=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(s);var a=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/a+.1,l=o+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),a=(u=h.slice()).length),t.config.xaxis.labels.show)for(var d=h.length?0:a;h.length?d<h.length:d>=0;h.length?d++:d--){var g=c(u[d],d,t),p=t.globals.gridWidth+t.globals.padHorizontal-(l-o+t.config.xaxis.labels.offsetX);if(h.length){var m=this.axesUtils.getLabel(u,h,p,d,this.drawnLabels,this.xaxisFontSize);p=m.x,g=m.text,this.drawnLabels.push(m.text),d===0&&t.globals.skipFirstTimelinelabel&&(g=""),d===u.length-1&&t.globals.skipLastTimelinelabel&&(g="")}var x=i.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:g,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(x),x.tspan(g),this.addTooltip(x,g),l+=o}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,i=new U(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var s=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(s-=15);var a=i.drawLine(t.globals.padHorizontal+s+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,i=new U(this.ctx);if(t.config.xaxis.title.text!==void 0){var r=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=i.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});r.add(s),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var i=this.w,r=new U(this.ctx),s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=s?s.getBoundingClientRect():{width:0,height:0},o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,a,l,t);o.setAttribute("x",c.xPos-(t?10:0));var u=r.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*i.config.yaxis[e].title.rotate:i.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,i,r){var s=this.w,a=0,o=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(r?a=t.width+s.config.yaxis[e].title.offsetX+i.width/2+o/2:(a=-1*t.width+s.config.yaxis[e].title.offsetX+o/2+i.width/2,s.globals.isBarHorizontal&&(o=25,a=-1*t.width-s.config.yaxis[e].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var i=this.w,r=0,s=0,a=18,o=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach(function(l,c){var u=i.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,h=e[c].width+t[c].width;l.opposite?i.globals.isBarHorizontal?(s=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[c]=s-l.labels.offsetX):(s=i.globals.gridWidth+i.globals.translateX+o,u||(o+=h+20),i.globals.translateYAxisX[c]=s-l.labels.offsetX+20):(r=i.globals.translateX-a,u||(a+=h+20),i.globals.translateYAxisX[c]=r+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;O.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,i){var r=e.config.yaxis[i];if(r&&!r.floating&&r.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),a=O.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),o=s.getBoundingClientRect();a.forEach(function(l){l.setAttribute("text-anchor",r.labels.align)}),r.labels.align!=="left"||r.opposite?r.labels.align==="center"?s.setAttribute("transform","translate(".concat(o.width/2*(r.opposite?1:-1),", 0)")):r.labels.align==="right"&&r.opposite&&s.setAttribute("transform","translate(".concat(o.width,", 0)")):s.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),n}(),XT=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.documentEvent=O.bind(this.documentEvent,this)}return ae(n,[{key:"addEventListener",value:function(e,t){var i=this.w;i.globals.events.hasOwnProperty(e)?i.globals.events[e].push(t):i.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){var r=i.globals.events[e].indexOf(t);r!==-1&&i.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=i.globals.events[e],s=r.length,a=0;a<s;a++)r[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,i=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(s){r.addEventListener(s,function(a){var o=a.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:a.target.getAttribute("i"),l=a.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:a.target.getAttribute("j"),c=Object.assign({},t,{seriesIndex:t.globals.axisCharts?o:0,dataPointIndex:l});a.type==="mousemove"||a.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(a,i,c):a.type==="mouseleave"||a.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(a,i,c):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(a,i,c),i.ctx.events.fireEvent("click",[a,i,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,i=e.target.className;if(e.type==="click"){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),n}(),YT=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter(function(s){return s.name===e})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=O.extend(d_,i);this.w.globals.locale=r.options}}]),n}(),$T=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"drawAxis",value:function(e,t){var i,r,s=this,a=this.w.globals,o=this.w.config,l=new yl(this.ctx,t),c=new mm(this.ctx,t);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(r=c.drawYaxisInversed(0),i=l.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(r)):(i=l.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map(function(u,h){if(a.ignoreYAxisIndexes.indexOf(h)===-1&&(r=c.drawYaxis(h),a.dom.Paper.add(r),s.w.config.grid.position==="back")){var d=a.dom.Paper.children()[1];d.remove(),a.dom.Paper.add(d)}})))}}]),n}(),Eg=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new U(this.ctx),i=new Ht(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,o=r.colorFrom,l=r.colorTo,c=r.opacityFrom,u=r.opacityTo,h=r.stops,d=s.enabled,g=s.left,p=s.top,m=s.blur,x=s.color,v=s.opacity,y=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(y=t.drawGradient("vertical",o,l,c,u,null,h,null));var b=t.drawRect();e.config.xaxis.crosshairs.width===1&&(b=t.drawLine());var C=e.globals.gridHeight;(!O.isNumber(C)||C<0)&&(C=0);var S=e.config.xaxis.crosshairs.width;(!O.isNumber(S)||S<0)&&(S=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:C,width:S,height:C,fill:y,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(b=i.dropShadow(b,{left:g,top:p,blur:m,color:x,opacity:v})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new U(this.ctx),i=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-r,0,e.globals.gridWidth+r,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var a=t.drawLine(-r,0,e.globals.gridWidth+r,0,i.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),n}(),GT=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"checkResponsiveConfig",value:function(e){var t=this,i=this.w,r=i.config;if(r.responsive.length!==0){var s=r.responsive.slice();s.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var a=new vl({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var d=O.clone(i.globals.initialConfig);d.series=O.clone(i.config.series);var g=pt.extendArrayProps(a,d,i);c=O.extend(g,c),c=O.extend(i.config,c),t.overrideResponsiveOptions(c)}else for(var p=0;p<s.length;p++)h<s[p].breakpoint&&(c=pt.extendArrayProps(a,s[p].options,i),c=O.extend(i.config,c),t.overrideResponsiveOptions(c))};if(e){var l=pt.extendArrayProps(a,e,i);l=O.extend(i.config,l),o(l=O.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new vl(e).init({responsiveOverride:!0});this.w.config=t}}]),n}(),qT=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return ae(n,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return t.type==="treemap"&&i.treemap&&i.treemap.distributed||t.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return i.bar&&i.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new O;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var i=Tt(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(i),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var r=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(e){var t=this,i=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,i.config.series.map(function(r,s){var a=e[s]||e[0];return typeof a=="function"?a({value:i.globals.axisCharts?i.globals.series[s][0]||0:i.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(i,r){i&&(t[r]=i)})}},{key:"getMonochromeColors",value:function(e,t,i){var r=e.color,s=e.shadeIntensity,a=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(o/s),c=0;return Array.from({length:o},function(){var u=a==="dark"?i.shadeColor(-1*c,r):i.shadeColor(c,r);return c+=l,u})}},{key:"applyColorTypes",value:function(e,t){var i=this,r=this.w;e.forEach(function(s){r.globals[s].colors=r.config[s].colors===void 0?i.isColorFn?r.config.colors:t:r.config[s].colors.slice(),i.pushExtraColors(r.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=t||r.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),i&&r.globals.series.length&&(s=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<s)for(var a=s-e.length,o=0;o<a;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,i=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",r=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=r,e.theme.palette=i,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),n}(),KT=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,i=e==="title"?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,s=i.offsetY,a="middle";if(i.align==="left"?(r=10,a="start"):i.align==="right"&&(r=t.globals.svgWidth-10,a="end"),r+=i.offsetX,s=s+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var o=new U(this.ctx).drawText({x:r,y:s,text:i.text,textAnchor:a,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),n}(),QT=function(){function n(e){se(this,n),this.w=e.w,this.dCtx=e}return ae(n,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,i=0,r=0,s=e==="title"?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!s){var o=a.getBoundingClientRect();i=o.width,r=t.globals.axisCharts?o.height+5:o.height}return{width:i,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var i=Object.assign({},O.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,i=[];t.config.series.forEach(function(l,c){l.data.forEach(function(u,h){var d;d=t.globals.series[c][h],r=t.config.dataLabels.formatter(d,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:h,w:t}),i.push(r)})});var r=O.getLargestStringFromArr(i),s=new U(this.dCtx.ctx),a=t.config.dataLabels.style,o=s.getTextRects(r,parseInt(a.fontSize),a.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var i=e;if(this.w.globals.isMultiLineX){var r=t.map(function(a,o){return Array.isArray(a)?a.length:1}),s=Math.max.apply(Math,Tt(r));i=t[r.indexOf(s)]}return i}}]),n}(),ZT=function(){function n(e){se(this,n),this.w=e.w,this.dCtx=e}return ae(n,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,i=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,a=O.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,i);t.globals.isBarHorizontal&&(o=a=t.globals.yAxisScale[0].result.reduce(function(p,m){return p.length>m.length?p:m},0));var l=new Bl(this.dCtx.ctx),c=a;a=l.xLabelFormat(s,a,c,{i:void 0,dateFormatter:new zt(this.dCtx.ctx).formatDate,w:t}),o=l.xLabelFormat(s,o,c,{i:void 0,dateFormatter:new zt(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(o=a="1");var u=new U(this.dCtx.ctx),h=u.getTextRects(a,t.config.xaxis.labels.style.fontSize),d=h;if(a!==o&&(d=u.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*i.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var g=function(p){return u.getTextRects(p,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=g(a),a!==o&&(d=g(o)),e.height=(h.height>d.height?h.height:d.height)/1.5,e.width=h.width>d.width?h.width:d.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var i,r=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(h){return h.title}),a=O.getLargestStringFromArr(s),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s),l=new U(this.dCtx.ctx),c=l.getTextRects(a,r),u=c;return a!==o&&(u=l.getTextRects(o,r)),i={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,i=0;if(e.config.xaxis.title.text!==void 0){var r=new U(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,i=r.height}return{width:t,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(s){return s.value}),r=i.reduce(function(s,a){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>a.length?s:a},0);return 1.05*(e=new U(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*i.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,i=this.w,r=i.globals,s=i.config,a=s.xaxis.type,o=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var l=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,c=function(u,h){s.yaxis.length>1&&function(d){return r.collapsedSeriesIndices.indexOf(d)!==-1}(h)||function(d){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var g=t.dCtx.timescaleLabels[0],p=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,m=g.position-o/1.75+t.dCtx.yAxisWidthLeft,x=i.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;p>r.svgWidth-r.translateX-x&&(r.skipLastTimelinelabel=!0),m<-(d.show&&!d.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:o/1.75)&&(r.skipFirstTimelinelabel=!0)}else a==="datetime"?t.dCtx.gridPad.right<o&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):a!=="datetime"&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!i.config.xaxis.labels.trim&&(t.dCtx.xPadRight=o/2+1)}(u)};s.yaxis.forEach(function(u,h){l?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):c(u,h)})}}]),n}(),JT=function(){function n(e){se(this,n),this.w=e.w,this.dCtx=e}return ae(n,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,i=[],r=10,s=new Rr(this.dCtx.ctx);return t.config.yaxis.map(function(a,o){var l={seriesIndex:o,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[o],u=0;if(!s.isYAxisHidden(o)&&a.labels.show&&a.labels.minWidth!==void 0&&(u=a.labels.minWidth),!s.isYAxisHidden(o)&&a.labels.show&&c.result.length){var h=t.globals.yLabelFormatters[o],d=c.niceMin===Number.MIN_VALUE?0:c.niceMin,g=c.result.reduce(function(C,S){var R,k;return((R=String(h(C,l)))===null||R===void 0?void 0:R.length)>((k=String(h(S,l)))===null||k===void 0?void 0:k.length)?C:S},d),p=g=h(g,l);if(g!==void 0&&g.length!==0||(g=c.niceMax),t.globals.isBarHorizontal){r=0;var m=t.globals.labels.slice();g=O.getLargestStringFromArr(m),g=h(g,{seriesIndex:o,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(g,m)}var x=new U(e.dCtx.ctx),v="rotate(".concat(a.labels.rotate," 0 0)"),y=x.getTextRects(g,a.labels.style.fontSize,a.labels.style.fontFamily,v,!1),b=y;g!==p&&(b=x.getTextRects(p,a.labels.style.fontSize,a.labels.style.fontFamily,v,!1)),i.push({width:(u>b.width||u>y.width?u:b.width>y.width?b.width:y.width)+r,height:b.height>y.height?b.height:y.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,i=[];return t.config.yaxis.map(function(r,s){if(r.show&&r.title.text!==void 0){var a=new U(e.dCtx.ctx),o="rotate(".concat(r.title.rotate," 0 0)"),l=a.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,o,!1);i.push({width:l.width,height:l.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,i=0,r=0,s=e.globals.yAxisScale.length>1?10:0,a=new Rr(this.dCtx.ctx),o=function(l,c){var u=e.config.yaxis[c].floating,h=0;l.width>0&&!u?(h=l.width+s,function(d){return e.globals.ignoreYAxisIndexes.indexOf(d)>-1}(c)&&(h=h-l.width-s)):h=u||a.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?r+=h:i+=h,t+=h};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=r,t}}]),n}(),eI=function(){function n(e){se(this,n),this.w=e.w,this.dCtx=e}return ae(n,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,i=t.config,r=t.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===i.series.length)return 0;var s=function(g){return["bar","rangeBar","candlestick","boxPlot"].includes(g)},a=i.chart.type,o=0,l=s(a)?i.series.length:1;r.comboBarCount>0&&(l=r.comboBarCount),r.collapsedSeries.forEach(function(g){s(g.type)&&(l-=1)}),i.chart.stacked&&(l=1);var c=s(a)||r.comboBarCount>0,u=Math.abs(r.initialMaxX-r.initialMinX);if(c&&r.isXNumeric&&!r.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=r.dataPoints);var h=u/e,d=r.minXDiff&&r.minXDiff/h>0?r.minXDiff/h:0;d>e/2&&(d/=2),(o=d*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),r.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,i=t.globals,r=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach(function(o){t.config[o].text!==void 0?r+=t.config[o].margin:r+=e.dCtx.isSparkline||!i.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||i.axisCharts||(r+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=s.height+a.height+r,i.translateY+=s.height+a.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var i=this.w,r=new Rr(this.dCtx.ctx);i.config.yaxis.forEach(function(s,a){i.globals.ignoreYAxisIndexes.indexOf(a)!==-1||s.floating||r.isYAxisHidden(a)||(s.opposite&&(i.globals.translateX-=t[a].width+e[a].width+parseInt(s.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),n}(),Gu=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new QT(this),this.dimYAxis=new JT(this),this.dimXAxis=new ZT(this),this.dimGrid=new eI(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ae(n,[{key:"plotCoords",value:function(){var e=this,t=this.w,i=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Tt(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=D1(a,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*s,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,i=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(g,p){t.globals.yLabelsCoords.push({width:r[p].width,index:p}),t.globals.yTitleCoords.push({width:s[p].width,index:p})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,l,o),i.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+t.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-l.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-a.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var d=function(){i.translateX=c+e.datalabelsCoords.width,i.gridHeight=i.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=i.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":i.translateY=h,d();break;case"top":i.translateY=this.lgRect.height+h,d();break;case"left":i.translateY=h,i.translateX=this.lgRect.width+c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-u-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":i.translateY=h,i.translateX=c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-u-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,r),new mm(this.ctx).setYAxisXPosition(r,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var s=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",a=i.plotOptions[s].offsetY,o=i.plotOptions[s].offsetX;if(!i.legend.show||i.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=a,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2)}switch(i.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,i){var r=this.w,s=r.globals.hasXaxisGroups?2:1,a=i.height+e.height+t.height,o=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,l=r.globals.rotateXLabels?22:10,c=r.globals.rotateXLabels&&r.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*o+s*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;r.config.yaxis.forEach(function(d){u+=d.labels.minWidth,h+=d.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),n}(),tI=function(){function n(e){se(this,n),this.w=e.w,this.lgCtx=e}return ae(n,[{key:"getLegendStyles",value:function(){var e,t,i,r=document.createElement("style");r.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(i=t.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;s&&r.setAttribute("nonce",s);var a=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return r.appendChild(a),r}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var i=this,r=this.w;if(r.globals.axisCharts||r.config.chart.type==="radialBar"){r.globals.resized=!0;var s=null,a=null;r.globals.risingSeries=[],r.globals.axisCharts?(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(s.getAttribute("data:realIndex"),10)):(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){i.riseCollapsedSeries(u.cs,u.csi,a)}):this.hideSeries({seriesEl:s,realIndex:a})}else{var o=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=r.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=r.config.plotOptions.pie.donut.labels;new U(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,i=this.w,r=i.globals,s=O.clone(i.config.series);if(r.axisCharts){var a=i.config.yaxis[r.seriesYAxisReverseMap[t]],o={index:t,data:s[t].data.slice(),type:s[t].type||i.config.chart.type};if(a&&a.show&&a.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(r.ancillaryCollapsedSeries.push(o),r.ancillaryCollapsedSeriesIndices.push(t));else if(r.collapsedSeriesIndices.indexOf(t)<0){r.collapsedSeries.push(o),r.collapsedSeriesIndices.push(t);var l=r.risingSeries.indexOf(t);r.risingSeries.splice(l,1)}}else r.collapsedSeries.push({index:t,data:s[t]}),r.collapsedSeriesIndices.push(t);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,i=e.realIndex,r=this.w,s=this.getSeriesAfterCollapsing({realIndex:i}),a=t.childNodes,o=0;o<a.length;o++)a[o].classList.contains("apexcharts-series-markers-wrap")&&(a[o].classList.contains("apexcharts-hide")?a[o].classList.remove("apexcharts-hide"):a[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,i){var r=this.w,s=O.clone(r.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===i&&(r.globals.axisCharts?s[i].data=e[a].data.slice():s[i]=e[a].data,typeof s[i]!="number"&&(s[i].hidden=!1),e.splice(a,1),t.splice(a,1),r.globals.risingSeries.push(i));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,i=0;return t.globals.axisCharts?e.forEach(function(r,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],i++)}):e.forEach(function(r,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,i++)}),t.globals.allSeriesCollapsed=i===e.length,e}}]),n}(),v_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new tI(this)}return ae(n,[{key:"init",value:function(){var e=this.w,t=e.globals,i=e.config,r=i.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!t.axisCharts)&&i.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,i=e.fillcolor,r=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var a=r.config.legend.markers.shape||r.config.markers.shape,o=a;Array.isArray(a)&&(o=a[t]);var l=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[t]):parseFloat(r.config.legend.markers.size),c=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[t]):parseFloat(r.config.legend.markers.offsetX),u=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[t]):parseFloat(r.config.legend.markers.offsetY),h=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[t]):parseFloat(r.config.legend.markers.strokeWidth),d=s.style;if(d.height=2*(l+h)+"px",d.width=2*(l+h)+"px",d.left=c+"px",d.top=u+"px",r.config.legend.markers.customHTML)d.background="transparent",d.color=i[t],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[t]&&(s.innerHTML=r.config.legend.markers.customHTML[t]()):s.innerHTML=r.config.legend.markers.customHTML();else{var g=new Ua(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:t,strokeWidth:h,size:l}),p=window.SVG().addTo(s).size("100%","100%"),m=new U(this.ctx).drawMarker(0,0,Q(Q({},g),{},{pointFillColor:Array.isArray(i)?i[t]:g.pointFillColor,shape:o}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(x){x.node.classList.contains("apexcharts-marker-triangle")?x.node.style.transform="translate(50%, 45%)":x.node.style.transform="translate(50%, 50%)"}),p.add(m)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,i=this.w,r=i.config.legend.fontFamily,s=i.globals.seriesNames,a=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var o=i.config.plotOptions.heatmap.colorScale.ranges;s=o.map(function(g){return g.name?g.name:g.from+" - "+g.to}),a=o.map(function(g){return g.color})}else this.isBarsDistributed&&(s=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(s=i.config.legend.customLegendItems);var l=i.globals.legendFormatter,c=i.config.legend.inverseOrder,u=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach(function(g,p){u[p]=document.createElement("div"),u[p].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(p)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[p].classList.add("apexcharts-legend-group-vertical")});for(var h=function(g){var p,m=l(s[g],{seriesIndex:g,w:i}),x=!1,v=!1;if(i.globals.collapsedSeries.length>0)for(var y=0;y<i.globals.collapsedSeries.length;y++)i.globals.collapsedSeries[y].index===g&&(x=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<i.globals.ancillaryCollapsedSeriesIndices.length;b++)i.globals.ancillaryCollapsedSeriesIndices[b]===g&&(v=!0);var C=e.createLegendMarker({i:g,fillcolor:a});U.setAttrs(C,{rel:g+1,"data:collapsed":x||v}),(x||v)&&C.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),R=document.createElement("span");R.classList.add("apexcharts-legend-text"),R.innerHTML=Array.isArray(m)?m.join(" "):m;var k=i.config.legend.labels.useSeriesColors?i.globals.colors[g]:Array.isArray(i.config.legend.labels.colors)?(p=i.config.legend.labels.colors)===null||p===void 0?void 0:p[g]:i.config.legend.labels.colors;k||(k=i.config.chart.foreColor),R.style.color=k,R.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",R.style.fontWeight=i.config.legend.fontWeight,R.style.fontFamily=r||i.config.chart.fontFamily,U.setAttrs(R,{rel:g+1,i:g,"data:default-text":encodeURIComponent(m),"data:collapsed":x||v}),S.appendChild(C),S.appendChild(R);var w=new pt(e.ctx);i.config.legend.showForZeroSeries||w.getSeriesTotalByIndex(g)===0&&w.seriesHaveSameValues(g)&&!w.isSeriesNull(g)&&i.globals.collapsedSeriesIndices.indexOf(g)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(g)===-1&&S.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||w.isSeriesNull(g)&&i.globals.collapsedSeriesIndices.indexOf(g)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(g)===-1&&S.classList.add("apexcharts-hidden-null-series"),u.length?i.globals.seriesGroups.forEach(function(A,T){var P;A.includes((P=i.config.series[g])===null||P===void 0?void 0:P.name)&&(i.globals.dom.elLegendWrap.appendChild(u[T]),u[T].appendChild(S))}):i.globals.dom.elLegendWrap.appendChild(S),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",U.setAttrs(S,{rel:g+1,seriesName:O.escapeString(s[g]),"data:collapsed":x||v}),(x||v)&&S.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},d=c?s.length-1:0;c?d>=0:d<=s.length-1;c?d--:d++)h(d);i.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var i=this.w,r=i.globals.dom.elLegendWrap,s=r.clientHeight,a=0,o=0;if(i.config.legend.position==="bottom")o=i.globals.svgHeight-Math.min(s,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var l=new Gu(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(u>0?u-10:0)}r.style.position="absolute",a=a+e+i.config.legend.offsetX,o=o+t+i.config.legend.offsetY,r.style.left=a+"px",r.style.top=o+"px",i.config.legend.position==="right"&&(r.style.left="auto",r.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(h){r.style[h]&&(r.style[h]=parseInt(i.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Gu(this.ctx),i=t.dimHelpers.getTitleSubtitleCoords("title"),r=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=i.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),i=0;e.config.legend.position==="left"&&(i=20),e.config.legend.position==="right"&&(i=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,i=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new jn(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&i&&new jn(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(e.target.getAttribute("rel"),10)-1,r=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,r)}}}]),n}(),y_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return ae(n,[{key:"createToolbar",value:function(){var e=this,t=this.w,i=function(){return document.createElement("div")},r=i();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(i());var a=[],o=function(h,d,g){var p=h.toLowerCase();e.t[p]&&t.config.chart.zoom.enabled&&a.push({el:d,icon:typeof e.t[p]=="string"?e.t[p]:g,title:e.localeValues[h],class:"apexcharts-".concat(p,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(h){e.t[h]&&t.config.chart[h].enabled&&a.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)a.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});a.forEach(function(h,d){h.index&&O.moveIndexInArray(a,d,h.index)});for(var u=0;u<a.length;u++)U.setAttrs(a[u].el,{class:a[u].class,title:a[u].title}),a[u].el.innerHTML=a[u].icon,r.appendChild(a[u].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),U.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<t.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=t[i].title,U.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(t[i].name),title:t[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",e.handleDownload.bind(e,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",e.handleDownload.bind(e,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var i=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],i.classList.contains(t.ctx.toolbar.selectedClass)?i.classList.remove(t.ctx.toolbar.selectedClass):i.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,i=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,i=(this.minX+t)/2,r=(this.maxX+t)/2,s=this._getNewMinXMaxX(i,r);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,i=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(i,r);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(e):e,maxX:i?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var i=this.w;if(e!==void 0||t!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=i.globals.dataPoints),t-e<2))){var r={min:e,max:t},s=this.getBeforeZoomRange(r);s&&(r=s.xaxis);var a={xaxis:r},o=O.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),i}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,i=new Wo(this.ctx);switch(e){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var i=t.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var r=i.config.chart.events.beforeResetZoom(t,i);r&&t.updateHelpers.revertDefaultAxisMinMax(r)}typeof i.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(O.clone(i.globals.initialSeries));t.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),n}(),nI=function(n){Vl(t,y_);var e=Fl(t);function t(i){var r;return se(this,t),(r=e.call(this,i)).ctx=i,r.w=i.w,r.dragged=!1,r.graphics=new U(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return ae(t,[{key:"init",value:function(i){var r=this,s=i.xyRatios,a=this.w,o=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new gt(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){r.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,s),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,r){var s=this.w,a=this.ctx.toolbar,o=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,l=s.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),r.target){var c,u=r.target.classList;if(r.target.parentNode&&r.target.parentNode!==null&&(c=r.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientX:r.type==="touchend"?r.changedTouches[0].clientX:r.clientX,this.clientY=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientY:r.type==="touchend"?r.changedTouches[0].clientY:r.clientY,r.type==="mousedown"&&r.which===1||r.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(r.type==="mousemove"&&r.which===1||r.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:i})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),r.type!=="mouseup"&&r.type!=="touchend"&&r.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var r,s=i.zoomtype,a=i.isResized,o=this.w,l=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();l&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var r=this,s=this.w;i.preventDefault();var a=Date.now();a-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),s.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-s.globals.lastWheelExecution>r.wheelDelay&&(r.executeMouseWheelZoom(i),s.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var r,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var a=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();if(a){var o,l,c,u=(i.clientX-a.left)/a.width,h=this.minX,d=this.maxX,g=d-h;if(i.deltaY<0){var p=h+u*g;l=p-(o=.5*g)/2,c=p+o/2}else l=h-(o=1.5*g)/2,c=d+o/2;if(!s.globals.isRangeBar){l=Math.max(l,s.globals.initialMinX),c=Math.min(c,s.globals.initialMaxX);var m=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(c-l<m){var x=(l+c)/2;l=x-m/2,c=x+m/2}}var v=this._getNewMinXMaxX(l,c);isNaN(v.minX)||isNaN(v.maxX)||this.zoomUpdateOptions(v.minX,v.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,r=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,o,l,c,u){return u==="l"||u==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,o){return a.center(o[0],o[1])}}).resize().on("resize",function(){var a=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type;i.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var i=this.w,r=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(Q(Q({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var s=(i.config.chart.selection.xaxis.min-i.globals.minX)/r.xRatio,a=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/r.xRatio-s;i.globals.isRangeBar&&(s=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/r.invertedYRatio,a=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/r.invertedYRatio);var o={x:s,y:0,width:a,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var r=i.x,s=i.y,a=i.width,o=i.height,l=i.translateX,c=l===void 0?0:l,u=i.translateY,h=u===void 0?0:u,d=this.w,g=this.zoomRect,p=this.selectionRect;if(this.dragged||d.globals.selection!==null){var m={transform:"translate("+c+", "+h+")"};d.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),g.attr({x:r,y:s,width:a,height:o,fill:d.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":d.config.chart.zoom.zoomedArea.fill.opacity,stroke:d.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":d.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":d.config.chart.zoom.zoomedArea.stroke.opacity}),U.setAttrs(g.node,m)),d.globals.selectionEnabled&&(p.attr({x:r,y:s,width:a>0?a:0,height:o>0?o:0,fill:d.config.chart.selection.fill.color,"fill-opacity":d.config.chart.selection.fill.opacity,stroke:d.config.chart.selection.stroke.color,"stroke-width":d.config.chart.selection.stroke.width,"stroke-dasharray":d.config.chart.selection.stroke.dashArray,"stroke-opacity":d.config.chart.selection.stroke.opacity}),U.setAttrs(p.node,m))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var r=i.context,s=i.zoomtype,a=this.w,o=r,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,u=o.startY,h=!1,d=!1,g=o.clientX-l.left-a.globals.barPadForNumericAxis,p=o.clientY-l.top,m=g-c,x=p-u,v={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(m+c)>a.globals.gridWidth?m=a.globals.gridWidth-c:g<0&&(m=c),c>g&&(h=!0,m=Math.abs(m)),u>p&&(d=!0,x=Math.abs(x)),v=Q(Q({},v=s==="x"?{x:h?c-m:c,y:0,width:m,height:a.globals.gridHeight}:s==="y"?{x:0,y:d?u-x:u,width:a.globals.gridWidth,height:x}:{x:h?c-m:c,y:d?u-x:u,width:m,height:x}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),o.drawSelectionRect(v),o.selectionDragging("resizing"),v}},{key:"selectionDragging",value:function(i,r){var s=this,a=this.w;if(r){r.preventDefault();var o=r.detail,l=o.handler,c=o.box,u=c.x,h=c.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(h=this.constraints.y2-c.h),l.move(u,h);var d=this.xyRatios,g=this.selectionRect,p=0;i==="resizing"&&(p=30);var m=function(v){return parseFloat(g.node.getAttribute(v))},x={x:m("x"),y:m("y"),width:m("width"),height:m("height")};a.globals.selection=x,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var v,y,b,C,S=s.gridRect.getBoundingClientRect(),R=g.node.getBoundingClientRect();a.globals.isRangeBar?(v=a.globals.yAxisScale[0].niceMin+(R.left-S.left)*d.invertedYRatio,y=a.globals.yAxisScale[0].niceMin+(R.right-S.left)*d.invertedYRatio,b=0,C=1):(v=a.globals.xAxisScale.niceMin+(R.left-S.left)*d.xRatio,y=a.globals.xAxisScale.niceMin+(R.right-S.left)*d.xRatio,b=a.globals.yAxisScale[0].niceMin+(S.bottom-R.bottom)*d.yRatio[0],C=a.globals.yAxisScale[0].niceMax-(R.top-S.top)*d.yRatio[0]);var k={xaxis:{min:v,max:y},yaxis:{min:b,max:C}};a.config.chart.events.selection(s.ctx,k),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(s.ctx,k)},p))}}},{key:"selectionDrawn",value:function(i){var r,s,a=i.context,o=i.zoomtype,l=this.w,c=a,u=this.xyRatios,h=this.ctx.toolbar,d=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),g=c.gridRect.getBoundingClientRect(),p=d.left-g.left-l.globals.barPadForNumericAxis,m=d.right-g.left-l.globals.barPadForNumericAxis,x=d.top-g.top,v=d.bottom-g.top;l.globals.isRangeBar?(r=l.globals.yAxisScale[0].niceMin+p*u.invertedYRatio,s=l.globals.yAxisScale[0].niceMin+m*u.invertedYRatio):(r=l.globals.xAxisScale.niceMin+p*u.xRatio,s=l.globals.xAxisScale.niceMin+m*u.xRatio);var y=[],b=[];if(l.config.yaxis.forEach(function(T,P){var L=l.globals.seriesYAxisMap[P][0],N=l.globals.yAxisScale[P].niceMax-u.yRatio[L]*x,V=l.globals.yAxisScale[P].niceMax-u.yRatio[L]*v;y.push(N),b.push(V)}),c.dragged&&(c.dragX>10||c.dragY>10)&&r!==s){if(l.globals.zoomEnabled){var C=O.clone(l.globals.initialConfig.yaxis),S=O.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(r=Math.floor(r),s=Math.floor(s),r<1&&(r=1,s=l.globals.dataPoints),s-r<2&&(s=r+1)),o!=="xy"&&o!=="x"||(S={min:r,max:s}),o!=="xy"&&o!=="y"||C.forEach(function(T,P){C[P].min=b[P],C[P].max=y[P]}),h){var R=h.getBeforeZoomRange(S,C);R&&(S=R.xaxis?R.xaxis:S,C=R.yaxis?R.yaxis:C)}var k={xaxis:S};l.config.chart.group||(k.yaxis=C),c.ctx.updateHelpers._updateOptions(k,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&h.zoomCallback(S,C)}else if(l.globals.selectionEnabled){var w,A=null;w={min:r,max:s},o!=="xy"&&o!=="y"||(A=O.clone(l.config.yaxis)).forEach(function(T,P){A[P].min=b[P],A[P].max=y[P]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:w,yaxis:A})}}}},{key:"panDragging",value:function(i){var r=i.context,s=this.w,a=r;if(s.globals.lastClientPosition.x!==void 0){var o=s.globals.lastClientPosition.x-a.clientX,l=s.globals.lastClientPosition.y-a.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:a.clientX,y:a.clientY};var c=s.globals.isRangeBar?s.globals.minY:s.globals.minX,u=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;a.panScrolled(c,u)}},{key:"panScrolled",value:function(i,r){var s=this.w,a=this.xyRatios,o=O.clone(s.globals.initialConfig.yaxis),l=a.xRatio,c=s.globals.minX,u=s.globals.maxX;s.globals.isRangeBar&&(l=a.invertedYRatio,c=s.globals.minY,u=s.globals.maxY),this.moveDirection==="left"?(i=c+s.globals.gridWidth/15*l,r=u+s.globals.gridWidth/15*l):this.moveDirection==="right"&&(i=c-s.globals.gridWidth/15*l,r=u-s.globals.gridWidth/15*l),s.globals.isRangeBar||(i<s.globals.initialMinX||r>s.globals.initialMaxX)&&(i=c,r=u);var h={xaxis:{min:i,max:r}};s.config.chart.group||(h.yaxis=o),this.updateScrolledChart(h,i,r)}},{key:"updateScrolledChart",value:function(i,r,s){var a=this.w;if(this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof a.config.chart.events.scrolled=="function"){var o={xaxis:{min:r,max:s}};a.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),t}(),x_=function(){function n(e){se(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return ae(n,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,i=e.elGrid,r=e.clientX,s=e.clientY,a=this.w,o=i.getBoundingClientRect(),l=o.width,c=o.height,u=l/(a.globals.dataPoints-1),h=c/a.globals.dataPoints,d=this.hasBars();!a.globals.comboCharts&&!d||a.config.xaxis.convertedCatToNumeric||(u=l/a.globals.dataPoints);var g=r-o.left-a.globals.barPadForNumericAxis,p=s-o.top;g<0||p<0||g>l||p>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(g/u),x=Math.floor(p/h);d&&!a.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(g/u),m-=1);var v=null,y=null,b=a.globals.seriesXvalues.map(function(w){return w.filter(function(A){return O.isNumber(A)})}),C=a.globals.seriesYvalues.map(function(w){return w.filter(function(A){return O.isNumber(A)})});if(a.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),R=g*(S.width/l),k=p*(S.height/c);v=(y=this.closestInMultiArray(R,k,b,C)).index,m=y.j,v!==null&&a.globals.hasNullValues&&(b=a.globals.seriesXvalues[v],m=(y=this.closestInArray(R,b)).j)}return a.globals.capturedSeriesIndex=v===null?-1:v,(!m||m<1)&&(m=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=x:a.globals.capturedDataPointIndex=m,{capturedSeries:v,j:a.globals.isBarHorizontal?x:m,hoverX:g,hoverY:p}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,i=0,r=e.map(function(a,o){return a.length>0?o:-1}),s=0;s<r.length;s++)if(r[s]!==-1&&t.globals.collapsedSeriesIndices.indexOf(s)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){i=r[s];break}return i}},{key:"closestInMultiArray",value:function(e,t,i,r){for(var s,a=this.w,o=1/0,l=null,c=null,u=0;u<i.length;u++)if(s=u,a.globals.collapsedSeriesIndices.indexOf(s)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var h=i[u],d=r[u],g=Math.min(h.length,d.length),p=0;p<g;p++){var m=e-h[p],x=Math.sqrt(m*m);if(!a.globals.allSeriesHasEqualX){var v=t-d[p];x=Math.sqrt(m*m+v*v)}x<o&&(o=x,l=u,c=p)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var i=t[0],r=null,s=Math.abs(e-i),a=0;a<t.length;a++){var o=Math.abs(e-t[a]);o<s&&(s=o,r=a)}return{j:r}}},{key:"isXoverlap",value:function(e){var t=[],i=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(i.length>0)for(var r=0;r<i.length-1;r++)i[r][e]!==void 0&&i[r+1][e]!==void 0&&i[r][e]!==i[r+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,i=0;i<t.length-1;i++)if(t[i].data.length!==t[i+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Tt(e).reduce(function(t,i){return t+i.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");i=Tt(i),t&&(i=i.filter(function(s){var a=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),i.sort(function(s,a){var o=Number(s.getAttribute("data:realIndex")),l=Number(a.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var r=[];return i.forEach(function(s){r.push(s.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var i=Number(e.getAttribute("cx")),r=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new U(this.ctx).getMarkerPath(i,r,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,i=t.config.markers.hover.size;return i===void 0&&(i=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=i.allTooltipSeriesGroups,s=0;s<r.length;s++)e==="enable"?(r[s].classList.add("apexcharts-active"),r[s].style.display=t.config.tooltip.items.display):(r[s].classList.remove("apexcharts-active"),r[s].style.display="none")}}]),n}(),iI=function(){function n(e){se(this,n),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new x_(e)}return ae(n,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,i=t===void 0||t,r=e.ttItems,s=e.i,a=s===void 0?0:s,o=e.j,l=o===void 0?null:o,c=e.y1,u=e.y2,h=e.e,d=this.w;d.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:l,y1:c,y2:u,w:d}):this.toggleActiveInactiveSeries(i,a);var g=this.getValuesToPrint({i:a,j:l});this.printLabels({i:a,j:l,values:g,ttItems:r,shared:i,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,i=this,r=e.i,s=e.j,a=e.values,o=e.ttItems,l=e.shared,c=e.e,u=this.w,h=[],d=function(S){return u.globals.seriesGoals[S]&&u.globals.seriesGoals[S][s]&&Array.isArray(u.globals.seriesGoals[S][s])},g=a.xVal,p=a.zVal,m=a.xAxisTTVal,x="",v=u.globals.colors[r];s!==null&&u.config.plotOptions.bar.distributed&&(v=u.globals.colors[s]);for(var y=function(S,R){var k=i.getFormatters(r);x=i.getSeriesName({fn:k.yLbTitleFormatter,index:r,seriesIndex:r,j:s}),u.config.chart.type==="treemap"&&(x=k.yLbTitleFormatter(String(u.config.series[r].data[s].x),{series:u.globals.series,seriesIndex:r,dataPointIndex:s,w:u}));var w=u.config.tooltip.inverseOrder?R:S;if(u.globals.axisCharts){var A=function(L){var N,V,H,W;return u.globals.isRangeData?k.yLbFormatter((N=u.globals.seriesRangeStart)===null||N===void 0||(V=N[L])===null||V===void 0?void 0:V[s],{series:u.globals.seriesRangeStart,seriesIndex:L,dataPointIndex:s,w:u})+" - "+k.yLbFormatter((H=u.globals.seriesRangeEnd)===null||H===void 0||(W=H[L])===null||W===void 0?void 0:W[s],{series:u.globals.seriesRangeEnd,seriesIndex:L,dataPointIndex:s,w:u}):k.yLbFormatter(u.globals.series[L][s],{series:u.globals.series,seriesIndex:L,dataPointIndex:s,w:u})};if(l)k=i.getFormatters(w),x=i.getSeriesName({fn:k.yLbTitleFormatter,index:w,seriesIndex:r,j:s}),v=u.globals.colors[w],t=A(w),d(w)&&(h=u.globals.seriesGoals[w][s].map(function(L){return{attrs:L,val:k.yLbFormatter(L.value,{seriesIndex:w,dataPointIndex:s,w:u})}}));else{var T,P=c==null||(T=c.target)===null||T===void 0?void 0:T.getAttribute("fill");P&&(P.indexOf("url")!==-1?P.indexOf("Pattern")!==-1&&(v=u.globals.dom.baseEl.querySelector(P.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):v=P),t=A(r),d(r)&&Array.isArray(u.globals.seriesGoals[r][s])&&(h=u.globals.seriesGoals[r][s].map(function(L){return{attrs:L,val:k.yLbFormatter(L.value,{seriesIndex:r,dataPointIndex:s,w:u})}}))}}s===null&&(t=k.yLbFormatter(u.globals.series[r],Q(Q({},u),{},{seriesIndex:r,dataPointIndex:r}))),i.DOMHandling({i:r,t:w,j:s,ttItems:o,values:{val:t,goalVals:h,xVal:g,xAxisTTVal:m,zVal:p},seriesName:x,shared:l,pColor:v})},b=0,C=u.globals.series.length-1;b<u.globals.series.length;b++,C--)y(b,C)}},{key:"getFormatters",value:function(e){var t,i=this.w,r=i.globals.yLabelFormatters[e];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(r=i.globals.ttVal[e]&&i.globals.ttVal[e].formatter,t=i.globals.ttVal[e]&&i.globals.ttVal[e].title&&i.globals.ttVal[e].title.formatter):(r=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(t=i.globals.ttVal.title.formatter)):t=i.config.tooltip.y.title.formatter,typeof r!="function"&&(r=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(s){return s}),typeof t!="function"&&(t=function(s){return s?s+": ":""}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,i=e.index,r=e.seriesIndex,s=e.j,a=this.w;return t(String(a.globals.seriesNames[i]),{series:a.globals.series,seriesIndex:r,dataPointIndex:s,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,i=e.j,r=e.ttItems,s=e.values,a=e.seriesName,o=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,h=s.val,d=s.goalVals,g=s.xVal,p=s.xAxisTTVal,m=s.zVal,x=null;x=r[t].children,c.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=l,x[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=g),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=p!==""?p:g);var v=r[t].querySelector(".apexcharts-tooltip-text-y-label");v&&(v.innerHTML=a||"");var y=r[t].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=h!==void 0?h:""),x[0]&&x[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),c.config.tooltip.fillSeriesColor?x[0].style.backgroundColor=l:x[0].style.color=l),c.config.tooltip.marker.show||(x[0].style.display="none");var b=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),C=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&c.globals.seriesGoals[t]){var S=function(){var w="<div>",A="<div>";d.forEach(function(T,P){w+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(T.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(T.attrs.name,"</div>"),A+="<div>".concat(T.val,"</div>")}),b.innerHTML=w+"</div>",C.innerHTML=A+"</div>"};o?c.globals.seriesGoals[t][i]&&Array.isArray(c.globals.seriesGoals[t][i])?S():(b.innerHTML="",C.innerHTML=""):S()}else b.innerHTML="",C.innerHTML="";if(m!==null&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=m!==void 0?m:""),o&&x[0]){if(c.config.tooltip.hideEmptySeries){var R=r[t].querySelector(".apexcharts-tooltip-marker"),k=r[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(R.style.display="none",k.style.display="none"):(R.style.display="block",k.style.display="block")}h==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?x[0].parentNode.style.display="none":x[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(x[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var i=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));r&&(r.classList.add("apexcharts-active"),r.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,i=e.j,r=this.w,s=this.ctx.series.filteredSeriesX(),a="",o="",l=null,c=null,u={series:r.globals.series,seriesIndex:t,dataPointIndex:i,w:r},h=r.globals.ttZFormatter;i===null?c=r.globals.series[t]:r.globals.isXNumeric&&r.config.chart.type!=="treemap"?(a=s[t][i],s[t].length===0&&(a=s[this.tooltipUtil.getFirstActiveXArray(s)][i])):a=new pm(this.ctx).isFormatXY()?r.config.series[t].data[i]!==void 0?r.config.series[t].data[i].x:"":r.globals.labels[i]!==void 0?r.globals.labels[i]:"";var d=a;return r.globals.isXNumeric&&r.config.xaxis.type==="datetime"?a=new Bl(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new zt(this.ctx).formatDate,w:this.w}):a=r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](d,u):r.globals.xLabelFormatter(d,u),r.config.tooltip.x.formatter!==void 0&&(a=r.globals.ttKeyFormatter(d,u)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(l=h(r.globals.seriesZ[t][i],r)),o=typeof r.config.xaxis.tooltip.formatter=="function"?r.globals.xaxisTooltipFormatter(d,u):a,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,i=e.j,r=e.y1,s=e.y2,a=e.w,o=this.ttCtx.getElTooltip(),l=a.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:i,y1:r,y2:s,w:a});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),n}(),b_=function(){function n(e){se(this,n),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return ae(n,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,r=this.w,s=i.getElXCrosshairs(),a=e-i.xcrosshairsWidth/2,o=r.globals.labels.slice().length;if(t!==null&&(a=r.globals.gridWidth/o*t),s===null||r.globals.isBarHorizontal||(s.setAttribute("x",a),s.setAttribute("x1",a),s.setAttribute("x2",a),s.setAttribute("y2",r.globals.gridHeight),s.classList.add("apexcharts-active")),a<0&&(a=0),a>r.globals.gridWidth&&(a=r.globals.gridWidth),i.isXAxisTooltipEnabled){var l=a;r.config.xaxis.crosshairs.width!=="tickWidth"&&r.config.xaxis.crosshairs.width!=="barWidth"||(l=a+i.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&U.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&U.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var r=i.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var s;s=new U(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=s.width+"px",i.xaxisTooltip.style.left=e+"px",i.xaxisTooltip.style.top=r+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+r,a=i.yaxisTTEls[e].getBoundingClientRect(),o=a.height,l=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(l-=a.width),s-=o/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&s>0&&s<t.globals.gridHeight?(i.yaxisTTEls[e].classList.add("apexcharts-active"),i.yaxisTTEls[e].style.top=s+"px",i.yaxisTTEls[e].style.left=l+t.config.yaxis[e].tooltip.offsetX+"px"):i.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=this.ttCtx,a=s.getElTooltip(),o=s.tooltipRect,l=i!==null?parseFloat(i):1,c=parseFloat(e)+l+5,u=parseFloat(t)+l/2;if(c>r.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>r.globals.gridWidth-o.ttWidth-10&&(c=r.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var h=s.getElGrid().getBoundingClientRect();(c=s.e.clientX-h.left)>r.globals.gridWidth/2&&(c-=s.tooltipRect.ttWidth),(u=s.e.clientY+r.globals.translateY-h.top)>r.globals.gridHeight/2&&(u-=s.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||o.ttHeight/2+u>r.globals.gridHeight&&(u=r.globals.gridHeight-o.ttHeight+r.globals.translateY);isNaN(c)||(c+=r.globals.translateX,a.style.left=c+"px",a.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var i=this.w,r=this.ttCtx;if(i.globals.markers.size[e]>0)for(var s=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<s.length;a++)parseInt(s[a].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,s[a]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var i,r,s,a,o=this.w,l=this.ttCtx,c=new U(this.ctx),u=o.globals.pointsArray,h=l.tooltipUtil.getHoverMarkerSize(t),d=o.config.series[t].type;if(!d||d!=="column"&&d!=="candlestick"&&d!=="boxPlot"){s=(i=u[t][e])===null||i===void 0?void 0:i[0],a=((r=u[t][e])===null||r===void 0?void 0:r[1])||0;var g=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(g&&a<o.globals.gridHeight&&a>0){var p=g.getAttribute("shape"),m=c.getMarkerPath(s,a,p,1.5*h);g.setAttribute("d",m)}this.moveXCrosshairs(s),l.fixedTooltip||this.moveTooltip(s,a,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,i=this.ttCtx,r=i.w,s=0,a=0,o=r.globals.pointsArray,l=new jn(this.ctx),c=new U(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=i.tooltipUtil.getHoverMarkerSize(t);if(o[t]&&(s=o[t][e][0],a=o[t][e][1]),!isNaN(s)){var h=i.tooltipUtil.getAllMarkers();if(h.length)for(var d=0;d<r.globals.series.length;d++){var g=o[d];if(r.globals.comboCharts&&g===void 0&&h.splice(d,0,null),g&&g.length){var p=o[d][e][1],m=void 0;h[d].setAttribute("cx",s);var x=h[d].getAttribute("shape");if(r.config.chart.type==="rangeArea"&&!r.globals.comboCharts){var v=e+r.globals.series[d].length;m=o[d][v][1],p-=Math.abs(p-m)/2}if(p!==null&&!isNaN(p)&&p<r.globals.gridHeight+u&&p+u>0){var y=c.getMarkerPath(s,p,x,u);h[d].setAttribute("d",y)}else h[d].setAttribute("d","")}}this.moveXCrosshairs(s),i.fixedTooltip||this.moveTooltip(s,a||r.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var i=this.w,r=this.ttCtx,s=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length;i.config.chart.stacked&&(s=i.globals.barGroups.length);var a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;i.globals.isBarHorizontal&&(a=new jn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));o||typeof t!="number"||(o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,h=r.getElGrid().getBoundingClientRect(),d=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(o&&!d&&(l-=s%2!=0?u/2:0),o&&d&&(l-=u/2)):i.globals.isBarHorizontal||(l=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(l)&&(l=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?c-=r.tooltipRect.ttHeight:i.config.tooltip.followCursor?c=r.e.clientY-h.top-r.tooltipRect.ttHeight/2:c+r.tooltipRect.ttHeight+15>i.globals.gridHeight&&(c=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(l),r.fixedTooltip||this.moveTooltip(l,c||i.globals.gridHeight)}}]),n}(),rI=function(){function n(e){se(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new b_(e)}return ae(n,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new U(this.ctx),i=new Ua(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=Tt(r),e.config.chart.stacked&&r.sort(function(h,d){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(d.getAttribute("data:realIndex"))});for(var s=0;s<r.length;s++){var a=r[s].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=i.getMarkerConfig({cssClass:l,seriesIndex:Number(a.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),a.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,t);var a=t.getAttribute("cx"),o=t.getAttribute("cy");if(i!==null&&r!==null&&(a=i,o=r),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(s.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,i=this,r=this.ttCtx,s=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,l=0;l<a.length;l++){var c=a[l].getAttribute("rel"),u=a[l].getAttribute("index");if(o===void 0&&(o=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),s===parseInt(c,10)){i.newPointSize(s,a[l]);var h=a[l].getAttribute("cx"),d=a[l].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),r.fixedTooltip||i.tooltipPosition.moveTooltip(h,d,o)}else i.oldPointSize(a[l])}}},{key:"newPointSize",value:function(e,t){var i=this.w,r=i.config.markers.hover.size,s=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var a=parseInt(s.getAttribute("index"),10);r===void 0&&(r=i.globals.markers.size[a]+i.config.markers.hover.sizeOffset),r<0&&(r=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(t,r);t.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var i=parseFloat(e[t].getAttribute("default-marker-size"));if(O.isNumber(i)&&i>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],i);e[t].setAttribute("d",r)}else e[t].setAttribute("d","M0,0")}}}]),n}(),sI=function(){function n(e){se(this,n),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return ae(n,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,i=e.opt,r=e.x,s=e.y,a=e.type,o=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var c=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),d=this.getAttr(t,"cy"),g=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:c,j:u,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,r=h+o.tooltipRect.ttWidth/2+g,s=d+o.tooltipRect.ttHeight/2-p/2,o.tooltipPosition.moveXCrosshairs(h+g/2),r>l.globals.gridWidth/2&&(r=h-o.tooltipRect.ttWidth/2+g),o.w.config.tooltip.followCursor){var m=l.globals.dom.elWrap.getBoundingClientRect();r=l.globals.clientX-m.left-(r>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),s=l.globals.clientY-m.top-(s>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:r,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,i,r=e.e,s=e.opt,a=e.x,o=e.y,l=this.w,c=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var u=parseInt(s.paths.getAttribute("cx"),10),h=parseInt(s.paths.getAttribute("cy"),10),d=parseFloat(s.paths.getAttribute("val"));if(i=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var g=O.findAncestor(s.paths,"apexcharts-series");g&&(t=parseInt(g.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:i,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:r}),r.type==="mouseup"&&c.markerClick(r,t,i),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=i,a=u,o=h+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var p=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-p.top}d<0&&(o=h),c.marker.enlargeCurrentPoint(i,s.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(e){var t,i,r=e.e,s=e.opt,a=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,u=0,h=0,d=this.getBarTooltipXY({e:r,opt:s});if(d.j!==null||d.barHeight!==0||d.barWidth!==0){t=d.i;var g=d.j;if(a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=g,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(u=d.x,h=d.y,i=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,c=u):a.globals.comboCharts||a.config.tooltip.shared||(c/=2),isNaN(h)&&(h=a.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>a.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var p=o.getElGrid().getBoundingClientRect();h=o.e.clientY-p.top}o.tooltip===null&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+i/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(h=h+a.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=u+a.globals.translateX+"px",l.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,i=e.e,r=e.opt,s=this.w,a=null,o=this.ttCtx,l=0,c=0,u=0,h=0,d=0,g=i.target.classList;if(g.contains("apexcharts-bar-area")||g.contains("apexcharts-candlestick-area")||g.contains("apexcharts-boxPlot-area")||g.contains("apexcharts-rangebar-area")){var p=i.target,m=p.getBoundingClientRect(),x=r.elGrid.getBoundingClientRect(),v=m.height;d=m.height;var y=m.width,b=parseInt(p.getAttribute("cx"),10),C=parseInt(p.getAttribute("cy"),10);h=parseFloat(p.getAttribute("barWidth"));var S=i.type==="touchmove"?i.touches[0].clientX:i.clientX;a=parseInt(p.getAttribute("j"),10),l=parseInt(p.parentNode.getAttribute("rel"),10)-1;var R=p.getAttribute("data-range-y1"),k=p.getAttribute("data-range-y2");s.globals.comboCharts&&(l=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var w=function(T){return s.globals.isXNumeric?b-y/2:t.isVerticalGroupedRangeBar?b+y/2:b-o.dataPointsDividedWidth+y/2},A=function(){return C-o.dataPointsDividedHeight+v/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:a,y1:R?parseInt(R,10):null,y2:k?parseInt(k,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:i}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(c=S-x.left+15,u=A()):(c=w(),u=i.clientY-x.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((c=b)<o.xyRatios.baseLineInvertedY&&(c=b-o.tooltipRect.ttWidth),u=A()):(c=w(),u=C)}return{x:c,y:u,barHeight:d,barWidth:h,i:l,j:a}}}]),n}(),aI=function(){function n(e){se(this,n),this.w=e.w,this.ttCtx=e}return ae(n,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,i=e.config.xaxis.position==="bottom";t.xaxisOffY=i?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,i=0;i<e.config.yaxis.length;i++){var r=e.config.yaxis[i].opposite||e.config.yaxis[i].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),i===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[i]=document.createElement("div"),t.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,i=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(r!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),i!==null&&t.xcrosshairsWidth>0&&i.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,i){var r=this.ttCtx,s=this.w,a=s.globals,o=a.seriesYAxisMap[e];if(r.yaxisTooltips[e]&&o.length>0){var l=a.yLabelFormatters[e],c=r.getElGrid().getBoundingClientRect(),u=o[0],h=0;i.yRatio.length>1&&(h=u);var d=(t-c.top)*i.yRatio[h],g=a.maxYArr[u]-a.minYArr[u],p=a.minYArr[u]+(g-d);s.config.yaxis[e].reversed&&(p=a.maxYArr[u]-(g-d)),r.tooltipPosition.moveYCrosshairs(t-c.top),r.yaxisTooltipText[e].innerHTML=l(p),r.tooltipPosition.moveYAxisTooltip(e)}}}]),n}(),Ix=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new x_(this),this.tooltipLabels=new iI(this),this.tooltipPosition=new b_(this),this.marker=new rI(this),this.intersect=new sI(this),this.axesTooltip=new aI(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ae(n,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(a,o){return!!(a.show&&a.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&i.classList.add(t.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(i),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new yl(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,i=this.w,r=[],s=this.getElTooltip(),a=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=i.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),i.config.tooltip.fillSeriesColor?u.style.backgroundColor=i.globals.colors[l]:u.style.color=i.globals.colors[l];var h=i.config.markers.shape,d=h;Array.isArray(h)&&(d=h[l]),u.setAttribute("shape",d),c.appendChild(u);var g=document.createElement("div");g.classList.add("apexcharts-tooltip-text"),g.style.fontFamily=t.tConfig.style.fontFamily||i.config.chart.fontFamily,g.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(p){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(p,"-group"));var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(p,"-label")),m.appendChild(x);var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(p,"-value")),m.appendChild(v),g.appendChild(m)}),c.appendChild(g),s.appendChild(c),r.push(c)},o=0;o<e;o++)a(o);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,i=this.getElTooltip(),r=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),s=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",a=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],u=[],h={hoverArea:a,elGrid:o,tooltipEl:i,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var d=0;d<l.length;d++)c.push(l[d].getAttribute("cy")),u.push(l[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],h);else if(r&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(g,h)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),i=t.getBoundingClientRect(),r=i.width+10,s=i.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(a=a+e.globals.svgWidth-r+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-s-10),t.style.left=a+"px",t.style.top=o+"px",{x:a,y:o,ttWidth:r,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var i=this,r=function(a){var o={paths:e[a],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[a].addEventListener(l,i.onSeriesHover.bind(i,o),{capture:!1,passive:!0})})},s=0;s<e.length;s++)r(s)}},{key:"onSeriesHover",value:function(e,t){var i=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(e,t)},20-r))}},{key:"seriesHover",value:function(e,t){var i=this;this.lastHoverTime=Date.now();var r=[],s=this.w;s.config.chart.group&&(r=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(r.length?r.forEach(function(a){var o=i.getElTooltip(a),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===i.w.globals.minX&&a.w.globals.maxX===i.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,i=e.ttCtx,r=e.opt,s=e.e,a=t.w,o=this.getElTooltip(t);o&&(i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=s,i.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new jn(t).toggleSeriesOnHover(s,s.target.parentNode),a.globals.axisCharts?i.axisChartsTooltips({e:s,opt:r,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:s,opt:r,tooltipRect:i.tooltipRect}),i.fixedTooltip&&i.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,i,r=e.e,s=e.opt,a=this.w,o=s.elGrid.getBoundingClientRect(),l=r.type==="touchmove"?r.touches[0].clientX:r.clientX,c=r.type==="touchmove"?r.touches[0].clientY:r.clientY;if(this.clientY=c,this.clientX=l,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var u=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(s)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),g=[];a.config.chart.group&&(g=this.ctx.getSyncedCharts());var p=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(r.type==="mousemove"||r.type==="touchmove"||r.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;d!==null&&d.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(y){return y===!0});if(this.ycrosshairs!==null&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||g.length>1)this.handleStickyTooltip(r,l,c,s);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var x=this.intersect.handleHeatTreeTooltip({e:r,opt:s,x:t,y:i,type:a.config.chart.type});t=x.x,i=x.y,h.style.left=t+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:s,x:t,y:i});if(this.yaxisTooltips.length)for(var v=0;v<a.config.yaxis.length;v++)this.axesTooltip.drawYaxisTooltipText(v,c,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else r.type!=="mouseout"&&r.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,i=e.opt,r=e.tooltipRect,s=this.w,a=i.paths.getAttribute("rel"),o=this.getElTooltip(),l=s.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(a,10)-1,shared:!1});var c=s.globals.clientX-l.left-r.ttWidth/2,u=s.globals.clientY-l.top-r.ttHeight-10;if(o.style.left=c+"px",o.style.top=u+"px",s.config.legend.tooltipHoverFormatter){var h=a-1,d=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:s});this.legendLabels[h].innerHTML=d}}else t.type!=="mouseout"&&t.type!=="touchend"||(o.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(g){var p=g.getAttribute("data:default-text");g.innerHTML=decodeURIComponent(p)}))}},{key:"handleStickyTooltip",value:function(e,t,i,r){var s=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:i}),o=a.j,l=a.capturedSeries;s.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=r.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>c.width)this.handleMouseOut(r);else if(l!==null)this.handleStickyCapturedSeries(e,l,r,o);else if(this.tooltipUtil.isXoverlap(o)||s.globals.isBarHorizontal){var u=s.globals.series.findIndex(function(h,d){return!s.globals.collapsedSeriesIndices.includes(d)});this.create(e,this,u,o,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,i,r){var s=this.w;if(!this.tConfig.shared&&s.globals.series[t][r]===null)return void this.handleMouseOut(i);if(s.globals.series[t][r]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,i.ttItems):this.create(e,this,t,r,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var a=s.globals.series.findIndex(function(o,l){return!s.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,a,r,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new U(this.ctx),i=e.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<i.length;r++)t.pathMouseLeave(i[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,i=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var a=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,t,i){var r=this.w;typeof r.config.chart.events.markerClick=="function"&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:r}])}},{key:"create",value:function(e,t,i,r,s){var a,o,l,c,u,h,d,g,p,m,x,v,y,b,C,S,R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,k=this.w,w=t;e.type==="mouseup"&&this.markerClick(e,i,r),R===null&&(R=this.tConfig.shared);var A=this.tooltipUtil.hasMarkers(i),T=this.tooltipUtil.getElBars(),P=function(){k.globals.markers.largestSize>0?w.marker.enlargePoints(r):w.tooltipPosition.moveDynamicPointsOnHover(r)};if(k.config.legend.tooltipHoverFormatter){var L=k.config.legend.tooltipHoverFormatter,N=Array.from(this.legendLabels);N.forEach(function(ye){var he=ye.getAttribute("data:default-text");ye.innerHTML=decodeURIComponent(he)});for(var V=0;V<N.length;V++){var H=N[V],W=parseInt(H.getAttribute("i"),10),q=decodeURIComponent(H.getAttribute("data:default-text")),F=L(q,{seriesIndex:R?W:i,dataPointIndex:r,w:k});if(R)H.innerHTML=k.globals.collapsedSeriesIndices.indexOf(W)<0?F:q;else if(H.innerHTML=W===i?F:q,i===W)break}}var Y=Q(Q({ttItems:s,i,j:r},((a=k.globals.seriesRange)===null||a===void 0||(o=a[i])===null||o===void 0||(l=o[r])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=k.globals.seriesRange)===null||u===void 0||(h=u[i])===null||h===void 0||(d=h[r])===null||d===void 0||(g=d.y[0])===null||g===void 0?void 0:g.y1}),((p=k.globals.seriesRange)===null||p===void 0||(m=p[i])===null||m===void 0||(x=m[r])===null||x===void 0||(v=x.y[0])===null||v===void 0?void 0:v.y2)!==void 0&&{y2:(y=k.globals.seriesRange)===null||y===void 0||(b=y[i])===null||b===void 0||(C=b[r])===null||C===void 0||(S=C.y[0])===null||S===void 0?void 0:S.y2});if(R){if(w.tooltipLabels.drawSeriesTexts(Q(Q({},Y),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),A)P();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(T),this.barSeriesHeight>0)){var G=new U(this.ctx),ee=k.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),w.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&P(),w.tooltipPosition.moveStickyTooltipOverBars(r,i);for(var oe=0;oe<ee.length;oe++)G.pathMouseEnter(ee[oe])}}else w.tooltipLabels.drawSeriesTexts(Q({shared:!1},Y)),this.tooltipUtil.hasBars()&&w.tooltipPosition.moveStickyTooltipOverBars(r,i),A&&w.tooltipPosition.moveMarkers(i,r)}}]),n}(),oI=function(){function n(e){se(this,n),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ae(n,[{key:"handleBarDataLabels",value:function(e){var t,i,r=e.x,s=e.y,a=e.y1,o=e.y2,l=e.i,c=e.j,u=e.realIndex,h=e.columnGroupIndex,d=e.series,g=e.barHeight,p=e.barWidth,m=e.barXPosition,x=e.barYPosition,v=e.visibleSeries,y=this.w,b=new U(this.barCtx.ctx),C=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(t=r+parseFloat(p*(v+1)),i=s+parseFloat(g*(v+1))-C):(t=r+parseFloat(p*v),i=s+parseFloat(g*v));var S,R=null,k=r,w=s,A={},T=y.config.dataLabels,P=this.barCtx.barOptions.dataLabels,L=this.barCtx.barOptions.dataLabels.total;x!==void 0&&this.barCtx.isRangeBar&&(i=x,w=x),m!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=m,k=m);var N=T.offsetX,V=T.offsetY,H={width:0,height:0};if(y.config.dataLabels.enabled){var W=y.globals.series[l][c];H=b.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter(W,Q(Q({},y),{},{seriesIndex:l,dataPointIndex:c,w:y})):y.globals.yLabelFormatters[0](W),parseFloat(T.style.fontSize))}var q={x:r,y:s,i:l,j:c,realIndex:u,columnGroupIndex:h,bcx:t,bcy:i,barHeight:g,barWidth:p,textRects:H,strokeWidth:C,dataLabelsX:k,dataLabelsY:w,dataLabelsConfig:T,barDataLabelsConfig:P,barTotalDataLabelsConfig:L,offX:N,offY:V};return A=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(q):this.calculateColumnsDataLabelsPosition(q),S=this.drawCalculatedDataLabels({x:A.dataLabelsX,y:A.dataLabelsY,val:this.barCtx.isRangeBar?[a,o]:y.config.chart.stackType==="100%"?d[u][c]:y.globals.series[u][c],i:u,j:c,barWidth:p,barHeight:g,textRects:H,dataLabelsConfig:T}),y.config.chart.stacked&&L.enabled&&(R=this.drawTotalDataLabels({x:A.totalDataLabelsX,y:A.totalDataLabelsY,barWidth:p,barHeight:g,realIndex:u,textAnchor:A.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:T,barTotalDataLabelsConfig:L})),{dataLabelsPos:A,dataLabels:S,totalDataLabels:R}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,i=e.j,r=this.w,s=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(s=this.totalFormatter(s,Q(Q({},r),{},{seriesIndex:t,dataPointIndex:i,w:r}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,i=this.w,r=e.i,s=e.j,a=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,u=e.bcx,h=e.barWidth,d=e.barHeight,g=e.textRects,p=e.dataLabelsX,m=e.dataLabelsY,x=e.dataLabelsConfig,v=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,b=e.strokeWidth,C=e.offX,S=e.offY,R=u;d=Math.abs(d);var k=i.config.plotOptions.bar.dataLabels.orientation==="vertical",w=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:s}).zeroEncounters;u-=b/2;var A=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=h/2:(p=i.globals.isXNumeric?u-h/2+C:u-A+h/2+C,!i.config.chart.stacked&&w>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(p-=h*w)),k&&(p=p+g.height/2-b/2-2);var T=i.globals.series[r][s]<0,P=c;switch(this.barCtx.isReversed&&(P=c+(T?d:-d)),v.position){case"center":m=k?T?P-d/2+S:P+d/2-S:T?P-d/2+g.height/2+S:P+d/2+g.height/2-S;break;case"bottom":m=k?T?P-d+S:P+d-S:T?P-d+g.height+b+S:P+d-g.height/2+b-S;break;case"top":m=k?T?P+S:P-S:T?P-g.height/2-S:P+g.height+S}var L=P;if(i.globals.seriesGroups.forEach(function(H){var W;(W=t.barCtx[H.join(",")])===null||W===void 0||W.prevY.forEach(function(q){L=T?Math.max(q[s],L):Math.min(q[s],L)})}),this.barCtx.lastActiveBarSerieIndex===a&&y.enabled){var N=new U(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:s}),x.fontSize);o=T?L-N.height/2-S-y.offsetY+18:L+N.height+S+y.offsetY-18;var V=A;l=R+(i.globals.isXNumeric?-h*i.globals.barGroups.length/2:i.globals.barGroups.length*h/2-(i.globals.barGroups.length-1)*h-V)+y.offsetX}return i.config.chart.stacked||(m<0?m=0+b:m+g.height/3>i.globals.gridHeight&&(m=i.globals.gridHeight-b)),{bcx:u,bcy:c,dataLabelsX:p,dataLabelsY:m,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,i=this.w,r=e.x,s=e.i,a=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,h=e.textRects,d=e.dataLabelsX,g=e.strokeWidth,p=e.dataLabelsConfig,m=e.barDataLabelsConfig,x=e.barTotalDataLabelsConfig,v=e.offX,y=e.offY,b=i.globals.gridHeight/i.globals.dataPoints,C=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:a}).zeroEncounters;u=Math.abs(u);var S,R,k=l-(this.barCtx.isRangeBar?0:b)+c/2+h.height/2+y-3;!i.config.chart.stacked&&C>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k-=c*C);var w="start",A=i.globals.series[s][a]<0,T=r;switch(this.barCtx.isReversed&&(T=r+(A?-u:u),w=A?"start":"end"),m.position){case"center":d=A?T+u/2-v:Math.max(h.width/2,T-u/2)+v;break;case"bottom":d=A?T+u-g-v:T-u+g+v;break;case"top":d=A?T-g-v:T-g+v}var P=T;if(i.globals.seriesGroups.forEach(function(N){var V;(V=t.barCtx[N.join(",")])===null||V===void 0||V.prevX.forEach(function(H){P=A?Math.min(H[a],P):Math.max(H[a],P)})}),this.barCtx.lastActiveBarSerieIndex===o&&x.enabled){var L=new U(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),p.fontSize);A?(S=P-g-v-x.offsetX,w="end"):S=P+v+x.offsetX+(this.barCtx.isReversed?-(u+g):g),R=k-h.height/2+L.height/2+x.offsetY+g,i.globals.barGroups.length>1&&(R-=i.globals.barGroups.length/2*(c/2))}return i.config.chart.stacked||(p.textAnchor==="start"?d-h.width<0?d=A?h.width+g:g:d+h.width>i.globals.gridWidth&&(d=A?i.globals.gridWidth-g:i.globals.gridWidth-h.width-g):p.textAnchor==="middle"?d-h.width/2<0?d=h.width/2+g:d+h.width/2>i.globals.gridWidth&&(d=i.globals.gridWidth-h.width/2-g):p.textAnchor==="end"&&(d<1?d=h.width+g:d+1>i.globals.gridWidth&&(d=i.globals.gridWidth-h.width-g))),{bcx:r,bcy:l,dataLabelsX:d,dataLabelsY:k,totalDataLabelsX:S,totalDataLabelsY:R,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,i=e.y,r=e.val,s=e.i,a=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,h=this.w,d="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(d="rotate(-90, ".concat(t,", ").concat(i,")"));var g=new Ta(this.barCtx.ctx),p=new U(this.barCtx.ctx),m=u.formatter,x=null,v=h.globals.collapsedSeriesIndices.indexOf(s)>-1;if(u.enabled&&!v){x=p.group({class:"apexcharts-data-labels",transform:d});var y="";r!==void 0&&(y=m(r,Q(Q({},h),{},{seriesIndex:s,dataPointIndex:a,w:h}))),!r&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y="");var b=h.globals.series[s][a]<0,C=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(C==="top"&&(u.textAnchor=b?"end":"start"),C==="center"&&(u.textAnchor="middle"),C==="bottom"&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(y=""):o.height/1.6>Math.abs(l)&&(y=""));var S=Q({},u);this.barCtx.isHorizontal&&r<0&&(u.textAnchor==="start"?S.textAnchor="end":u.textAnchor==="end"&&(S.textAnchor="start")),g.plotDataLabelsText({x:t,y:i,text:y,i:s,j:a,parent:x,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return x}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,i=e.y,r=e.val,s=e.realIndex,a=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new U(this.barCtx.ctx);return o.enabled&&t!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(l=c.drawText({x:t,y:i,foreColor:o.style.color,text:r,textAnchor:a,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),n}(),lI=function(){function n(e){se(this,n),this.w=e.w,this.barCtx=e}return ae(n,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<e.length;i++)if(e[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[i].length),t.globals.isXNumeric)for(var r=0;r<e[i].length;r++)t.globals.seriesX[i][r]>t.globals.minX&&t.globals.seriesX[i][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),O.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(s){return s.map(function(a){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,i,r,s,a,o,l,c,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var d=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)a=(r=u.globals.gridHeight/h)/d,u.globals.isXNumeric&&(a=(r=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),i=(r-a*this.barCtx.seriesLen)/2;else{if(s=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(s=u.globals.gridWidth/u.globals.dataPoints),o=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var g=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/g>0&&(s=u.globals.minXDiff/g),(o=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:o}).x:t=u.globals.padHorizontal+O.noExponents(s-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=a,u.globals.barWidth=o,{x:t,y:i,yDivision:r,xDivision:s,barHeight:a,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,i,r){var s,a,o,l,c=this.w,u=this.barCtx.ctx.fill,h=null,d=this.barCtx.barOptions.distributed?i:t,g=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(p){e[t][i]>=p.from&&e[t][i]<=p.to&&(h=p.color,g=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:r,dataPointIndex:i,color:h,value:e[t][i],fillConfig:(s=c.config.series[t].data[i])===null||s===void 0?void 0:s.fill,fillType:(a=c.config.series[t].data[i])!==null&&a!==void 0&&(o=a.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[t].data[i])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[r]:c.config.fill.type}),useRangeColor:g}}},{key:"getStrokeWidth",value:function(e,t,i){var r=0,s=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,s.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(e){var t,i=this.w,r=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,s=e.length,a=0|((t=e[0])===null||t===void 0?void 0:t.length),o=Array.from({length:s},function(){return Array(a).fill(r?"top":"none")});if(r)return o;for(var l=0;l<a;l++){for(var c=[],u=[],h=0,d=0;d<s;d++){var g=e[d][l];g>0?(c.push(d),h++):g<0&&(u.push(d),h++)}if(c.length>0&&u.length===0)if(c.length===1)o[c[0]][l]="both";else{var p,m=c[0],x=c[c.length-1],v=Co(c);try{for(v.s();!(p=v.n()).done;){var y=p.value;o[y][l]=y===m?"bottom":y===x?"top":"none"}}catch(W){v.e(W)}finally{v.f()}}else if(u.length>0&&c.length===0)if(u.length===1)o[u[0]][l]="both";else{var b,C=Math.max.apply(Math,u),S=Math.min.apply(Math,u),R=Co(u);try{for(R.s();!(b=R.n()).done;){var k=b.value;o[k][l]=k===C?"bottom":k===S?"top":"none"}}catch(W){R.e(W)}finally{R.f()}}else if(c.length>0&&u.length>0){var w,A=c[c.length-1],T=Co(c);try{for(T.s();!(w=T.n()).done;){var P=w.value;o[P][l]=P===A?"top":"none"}}catch(W){T.e(W)}finally{T.f()}var L,N=Math.max.apply(Math,u),V=Co(u);try{for(V.s();!(L=V.n()).done;){var H=L.value;o[H][l]=H===N?"bottom":"none"}}catch(W){V.e(W)}finally{V.f()}}else h===1&&(o[c[0]||u[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var t=e.j,i=e.i,r=e.x1,s=e.x2,a=e.y1,o=e.y2,l=e.elSeries,c=this.w,u=new U(this.barCtx.ctx),h=new jn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===i){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[t],g=u.drawRect(r!==void 0?r:0,a!==void 0?a:0,s!==void 0?s:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(g),g.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,i=e.barWidth,r=e.barXPosition,s=e.y1,a=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,g=e.j,p=e.w,m=new U(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var x=i,v=r;(t=p.config.series[h].data[g])!==null&&t!==void 0&&t.columnWidthOffset&&(v=r-p.config.series[h].data[g].columnWidthOffset/2,x=i+p.config.series[h].data[g].columnWidthOffset);var y=o/2,b=v+y,C=v+x-y,S=(c[d][g]>=0?1:-1)*(l?-1:1);s+=.001-y*S,a+=.001+y*S;var R=m.move(b,s),k=m.move(b,s),w=m.line(C,s);if(p.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(h,g,!1)),R=R+m.line(b,a)+m.line(C,a)+w+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),k=k+m.line(b,s)+w+w+w+w+w+m.line(b,s)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),this.arrBorderRadius[h][g]!=="none"&&(R=m.roundPathCorners(R,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).yArrj.push(a-y*S),A.yArrjF.push(Math.abs(s-a+o*S)),A.yArrjVal.push(this.barCtx.series[d][g])}return{pathTo:R,pathFrom:k}}},{key:"getBarpaths",value:function(e){var t,i=e.barYPosition,r=e.barHeight,s=e.x1,a=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,g=e.j,p=e.w,m=new U(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var x=i,v=r;(t=p.config.series[h].data[g])!==null&&t!==void 0&&t.barHeightOffset&&(x=i-p.config.series[h].data[g].barHeightOffset/2,v=r+p.config.series[h].data[g].barHeightOffset);var y=o/2,b=x+y,C=x+v-y,S=(c[d][g]>=0?1:-1)*(l?-1:1);s+=.001+y*S,a+=.001-y*S;var R=m.move(s,b),k=m.move(s,b);p.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(h,g,!1));var w=m.line(s,C);if(R=R+m.line(a,b)+m.line(a,C)+w+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),k=k+m.line(s,b)+w+w+w+w+w+m.line(s,b)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),this.arrBorderRadius[h][g]!=="none"&&(R=m.roundPathCorners(R,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).xArrj.push(a+y*S),A.xArrjF.push(Math.abs(s-a-o*S)),A.xArrjVal.push(this.barCtx.series[d][g])}return{pathTo:R,pathFrom:k}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,i=this.w,r=0;r<t.length;r++){for(var s=0,a=0;a<t[i.globals.maxValsInArrayIndex].length;a++)s+=t[r][a];s===0&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t,i){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(r=t-e/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[i]:0)),r}},{key:"getGoalValues",value:function(e,t,i,r,s,a){var o=this,l=this.w,c=[],u=function(g,p){var m;c.push((Uu(m={},e,e==="x"?o.getXForValue(g,t,!1):o.getYForValue(g,i,a,!1)),Uu(m,"attrs",p),m))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][s]&&Array.isArray(l.globals.seriesGoals[r][s])&&l.globals.seriesGoals[r][s].forEach(function(g){u(g.value,g)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,d={strokeHeight:e==="x"?0:l.globals.markers.size[r],strokeWidth:e==="x"?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[r])?h[r][0]:h[r]};u(l.globals.seriesRangeStart[r][s],d),u(l.globals.seriesRangeEnd[r][s],Q(Q({},d),{},{strokeColor:Array.isArray(h[r])?h[r][1]:h[r]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,i=e.barYPosition,r=e.goalX,s=e.goalY,a=e.barWidth,o=e.barHeight,l=new U(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(h){if(h.x>=-1&&h.x<=l.w.globals.gridWidth+1){var d=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:o/2,g=i+d+o/2;u=l.drawLine(h.x,g-2*d,h.x,g,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),c.add(u)}}):Array.isArray(s)&&s.forEach(function(h){if(h.y>=-1&&h.y<=l.w.globals.gridHeight+1){var d=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:a/2,g=t+d+a/2;u=l.drawLine(g-2*d,h.y,g,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,i=e.currPaths,r=e.color,s=this.w,a=t.x,o=t.x1,l=t.barYPosition,c=i.x,u=i.x1,h=i.barYPosition,d=l+i.barHeight,g=new U(this.barCtx.ctx),p=new O,m=g.move(o,d)+g.line(a,d)+g.line(c,h)+g.line(u,h)+g.line(o,d)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return g.drawPath({d:m,fill:p.shadeColor(.5,O.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,i=e.i,r=e.j,s=this.w,a=0,o=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(l,c){return c}):((t=s.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=s.globals.seriesPercent[l][r];c&&a++,l<i&&c===0&&o++}),{nonZeroColumns:a,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var t=this.w,i=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),r=this.barCtx.columnGroupIndices,s=r.indexOf(i);return s<0&&(r.push(i),s=r.length-1),{groupIndex:i,columnGroupIndex:s}}}]),n}(),Ia=function(){function n(e,t){se(this,n),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new jn(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=r.getBarSeriesIndices(),a=new pt(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new lI(this)}return ae(n,[{key:"draw",value:function(e,t){var i=this.w,r=new U(this.ctx),s=new pt(this.ctx,i);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,u,h,d,g=void 0,p=void 0,m=[],x=[],v=i.globals.comboCharts?t[o]:o,y=this.barHelpers.getGroupIndex(v).columnGroupIndex,b=r.group({class:"apexcharts-series",rel:o+1,seriesName:O.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(b,v),e[o].length>0&&(this.visibleI=this.visibleI+1);var C=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[v],this.translationsIndex=v);var R=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions(v);p=k.y,C=k.barHeight,u=k.yDivision,d=k.zeroW,g=k.x,S=k.barWidth,c=k.xDivision,h=k.zeroH,this.isHorizontal||x.push(g+S/2);var w=r.group({class:"apexcharts-datalabels","data:realIndex":v});i.globals.delayedElements.push({el:w.node}),w.node.classList.add("apexcharts-element-hidden");var A=r.group({class:"apexcharts-bar-goals-markers"}),T=r.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:T.node}),T.node.classList.add("apexcharts-element-hidden");for(var P=0;P<e[o].length;P++){var L=this.barHelpers.getStrokeWidth(o,P,v),N=null,V={indexes:{i:o,j:P,realIndex:v,translationsIndex:R,bc:l},x:g,y:p,strokeWidth:L,elSeries:b};this.isHorizontal?(N=this.drawBarPaths(Q(Q({},V),{},{barHeight:C,zeroW:d,yDivision:u})),S=this.series[o][P]/this.invertedYRatio):(N=this.drawColumnPaths(Q(Q({},V),{},{xDivision:c,barWidth:S,zeroH:h})),C=this.series[o][P]/this.yRatio[R]);var H=this.barHelpers.getPathFillColor(e,o,P,v);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&P>0){var W,q=this.barHelpers.drawBarShadow({color:typeof H.color=="string"&&((W=H.color)===null||W===void 0?void 0:W.indexOf("url"))===-1?H.color:O.hexToRgba(i.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:N});T.add(q),i.config.chart.dropShadow.enabled&&new Ht(this.ctx).dropShadow(q,i.config.chart.dropShadow,v)}this.pathArr.push(N);var F=this.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:N.barYPosition,goalX:N.goalX,goalY:N.goalY,barHeight:C,barWidth:S});F&&A.add(F),p=N.y,g=N.x,P>0&&x.push(g+S/2),m.push(p),this.renderSeries(Q(Q({realIndex:v,pathFill:H.color},H.useRangeColor?{lineFill:H.color}:{}),{},{j:P,i:o,columnGroupIndex:y,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:L,elSeries:b,x:g,y:p,series:e,barHeight:Math.abs(N.barHeight?N.barHeight:C),barWidth:Math.abs(N.barWidth?N.barWidth:S),elDataLabelsWrap:w,elGoalsMarkers:A,elBarShadows:T,visibleSeries:this.visibleI,type:"bar"}))}i.globals.seriesXvalues[v]=x,i.globals.seriesYvalues[v]=m,a.add(b)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,i=e.pathFill,r=e.lineFill,s=e.j,a=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,h=e.elSeries,d=e.x,g=e.y,p=e.y1,m=e.y2,x=e.series,v=e.barHeight,y=e.barWidth,b=e.barXPosition,C=e.barYPosition,S=e.elDataLabelsWrap,R=e.elGoalsMarkers,k=e.elBarShadows,w=e.visibleSeries,A=e.type,T=e.classes,P=this.w,L=new U(this.ctx),N=!1;if(!r){var V=typeof P.globals.stroke.colors[t]=="function"?function(Y){var G,ee=P.config.stroke.colors;return Array.isArray(ee)&&ee.length>0&&((G=ee[Y])||(G=""),typeof G=="function")?G({value:P.globals.series[Y][s],dataPointIndex:s,w:P}):G}(t):P.globals.stroke.colors[t];r=this.barOptions.distributed?P.globals.stroke.colors[s]:V}var H=new oI(this).handleBarDataLabels({x:d,y:g,y1:p,y2:m,i:a,j:s,series:x,realIndex:t,columnGroupIndex:o,barHeight:v,barWidth:y,barXPosition:b,barYPosition:C,visibleSeries:w});P.globals.isBarHorizontal||(H.dataLabelsPos.dataLabelsX+y<0||H.dataLabelsPos.dataLabelsX-y>P.globals.gridWidth)&&(N=!0),P.config.series[a].data[s]&&P.config.series[a].data[s].strokeColor&&(r=P.config.series[a].data[s].strokeColor),this.isNullValue&&(i="none");var W=s/P.config.chart.animations.animateGradually.delay*(P.config.chart.animations.speed/P.globals.dataPoints)/2.4;if(!N){var q=L.renderPaths({i:a,j:s,realIndex:t,pathFrom:l,pathTo:c,stroke:r,strokeWidth:u,strokeLineCap:P.config.stroke.lineCap,fill:i,animationDelay:W,initialSpeed:P.config.chart.animations.speed,dataChangeSpeed:P.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A,"-area ").concat(T),chartType:A});q.attr("clip-path","url(#gridRectBarMask".concat(P.globals.cuid,")"));var F=P.config.forecastDataPoints;F.count>0&&s>=P.globals.dataPoints-F.count&&(q.node.setAttribute("stroke-dasharray",F.dashArray),q.node.setAttribute("stroke-width",F.strokeWidth),q.node.setAttribute("fill-opacity",F.fillOpacity)),p!==void 0&&m!==void 0&&(q.attr("data-range-y1",p),q.attr("data-range-y2",m)),new Ht(this.ctx).setSelectionFilter(q,t,s),h.add(q),q.attr({cy:H.dataLabelsPos.bcy,cx:H.dataLabelsPos.bcx,j:s,val:P.globals.series[a][s],barHeight:v,barWidth:y}),H.dataLabels!==null&&S.add(H.dataLabels),H.totalDataLabels&&S.add(H.totalDataLabels),h.add(S),R&&h.add(R),k&&h.add(k)}return h}},{key:"drawBarPaths",value:function(e){var t,i=e.indexes,r=e.barHeight,s=e.strokeWidth,a=e.zeroW,o=e.x,l=e.y,c=e.yDivision,u=e.elSeries,h=this.w,d=i.i,g=i.j;if(h.globals.isXNumeric)t=(l=(h.globals.seriesX[d][g]-h.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=this.barHelpers.getZeroValueEncounters({i:d,j:g}),m=p.nonZeroColumns,x=p.zeroEncounters;m>0&&(r=this.seriesLen*r/m),t=l+r*this.visibleI,t-=r*x}else t=l+r*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[d][g],a)-a)/2),o=this.barHelpers.getXForValue(this.series[d][g],a);var v=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:a,x2:o,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:d,j:g,w:h});return h.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:g,i:d,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:u}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x1:a,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",a,null,d,g),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,i=e.indexes,r=e.x,s=e.y,a=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,h=this.w,d=i.realIndex,g=i.translationsIndex,p=i.i,m=i.j,x=i.bc;if(h.globals.isXNumeric){var v=this.getBarXForNumericXAxis({x:r,j:m,realIndex:d,barWidth:o});r=v.x,t=v.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:p,j:m}),b=y.nonZeroColumns,C=y.zeroEncounters;b>0&&(o=this.seriesLen*o/b),t=r+o*this.visibleI,t-=o*C}else t=r+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[p][m],l,g);var S=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:o,y1:l,y2:s,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:d,i:p,j:m,w:h});return h.globals.isXNumeric||(r+=a),this.barHelpers.barBackground({bc:x,j:m,i:p,x1:t-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:u}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:r,y:s,goalY:this.barHelpers.getGoalValues("y",null,l,p,m,g),barXPosition:t,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,i=e.barWidth,r=e.realIndex,s=e.j,a=this.w,o=r;return a.globals.seriesX[r].length||(o=a.globals.maxValsInArrayIndex),O.isNumber(a.globals.seriesX[o][s])&&(t=(a.globals.seriesX[o][s]-a.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:t+i*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var i=this.w,r="M 0 0",s=0;s<i.globals.previousPaths.length;s++){var a=i.globals.previousPaths[s];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[s].paths[t]!==void 0&&(r=i.globals.previousPaths[s].paths[t].d)}return r}}]),n}(),Px=function(n){Vl(t,Ia);var e=Fl(t);function t(){return se(this,t),e.apply(this,arguments)}return ae(t,[{key:"draw",value:function(i,r){var s=this,a=this.w;this.graphics=new U(this.ctx),this.bar=new Ia(this.ctx,this.xyRatios);var o=new pt(this.ctx,a);i=o.getLogSeries(i),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),a.config.chart.stackType==="100%"&&(i=a.globals.comboCharts?r.map(function(p){return a.globals.seriesPercent[p]}):a.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,h=function(p,m){var x=void 0,v=void 0,y=void 0,b=void 0,C=a.globals.comboCharts?r[p]:p,S=s.barHelpers.getGroupIndex(C),R=S.groupIndex,k=S.columnGroupIndex;s.groupCtx=s[a.globals.seriesGroups[R]];var w=[],A=[],T=0;s.yRatio.length>1&&(s.yaxisIndex=a.globals.seriesYAxisReverseMap[C][0],T=C),s.isReversed=a.config.yaxis[s.yaxisIndex]&&a.config.yaxis[s.yaxisIndex].reversed;var P=s.graphics.group({class:"apexcharts-series",seriesName:O.escapeString(a.globals.seriesNames[C]),rel:p+1,"data:realIndex":C});s.ctx.series.addCollapsedClassToSeries(P,C);var L=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":C}),N=s.graphics.group({class:"apexcharts-bar-goals-markers"}),V=0,H=0,W=s.initialPositions(c,u,x,v,y,b,T);u=W.y,V=W.barHeight,v=W.yDivision,b=W.zeroW,c=W.x,H=W.barWidth,x=W.xDivision,y=W.zeroH,a.globals.barHeight=V,a.globals.barWidth=H,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(Ne){return isNaN(Ne)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return y}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var q=0;q<a.globals.dataPoints;q++){var F=s.barHelpers.getStrokeWidth(p,q,C),Y={indexes:{i:p,j:q,realIndex:C,translationsIndex:T,bc:m},strokeWidth:F,x:c,y:u,elSeries:P,columnGroupIndex:k,seriesGroup:a.globals.seriesGroups[R]},G=null;s.isHorizontal?(G=s.drawStackedBarPaths(Q(Q({},Y),{},{zeroW:b,barHeight:V,yDivision:v})),H=s.series[p][q]/s.invertedYRatio):(G=s.drawStackedColumnPaths(Q(Q({},Y),{},{xDivision:x,barWidth:H,zeroH:y})),V=s.series[p][q]/s.yRatio[T]);var ee=s.barHelpers.drawGoalLine({barXPosition:G.barXPosition,barYPosition:G.barYPosition,goalX:G.goalX,goalY:G.goalY,barHeight:V,barWidth:H});ee&&N.add(ee),u=G.y,c=G.x,w.push(c),A.push(u);var oe=s.barHelpers.getPathFillColor(i,p,q,C),ye="",he=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[C][q]==="bottom"&&a.globals.series[C][q]>0||s.barHelpers.arrBorderRadius[C][q]==="top"&&a.globals.series[C][q]<0)&&(ye=he),P=s.renderSeries(Q(Q({realIndex:C,pathFill:oe.color},oe.useRangeColor?{lineFill:oe.color}:{}),{},{j:q,i:p,columnGroupIndex:k,pathFrom:G.pathFrom,pathTo:G.pathTo,strokeWidth:F,elSeries:P,x:c,y:u,series:i,barHeight:V,barWidth:H,elDataLabelsWrap:L,elGoalsMarkers:N,type:"bar",visibleSeries:k,classes:ye}))}a.globals.seriesXvalues[C]=w,a.globals.seriesYvalues[C]=A,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),l.add(P)},d=0,g=0;d<i.length;d++,g++)h(d,g);return l}},{key:"initialPositions",value:function(i,r,s,a,o,l,c){var u,h,d=this.w;if(this.isHorizontal){a=d.globals.gridHeight/d.globals.dataPoints;var g=d.config.plotOptions.bar.barHeight;u=String(g).indexOf("%")===-1?parseInt(g,10):a*parseInt(g,10)/100,l=d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),r=(a-u)/2}else{h=s=d.globals.gridWidth/d.globals.dataPoints;var p=d.config.plotOptions.bar.columnWidth;d.globals.isXNumeric&&d.globals.dataPoints>1?h=(s=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(p).indexOf("%")===-1?h=parseInt(p,10):h*=parseInt(p,10)/100,o=this.isReversed?this.baseLineY[c]:d.globals.gridHeight-this.baseLineY[c],i=d.globals.padHorizontal+(s-h)/2}var m=d.globals.barGroups.length||1;return{x:i,y:r,yDivision:a,xDivision:s,barHeight:u/m,barWidth:h/m,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(i){for(var r,s=i.indexes,a=i.barHeight,o=i.strokeWidth,l=i.zeroW,c=i.x,u=i.y,h=i.columnGroupIndex,d=i.seriesGroup,g=i.yDivision,p=i.elSeries,m=this.w,x=u+h*a,v=s.i,y=s.j,b=s.realIndex,C=s.translationsIndex,S=0,R=0;R<this.groupCtx.prevXF.length;R++)S+=this.groupCtx.prevXF[R][y];var k=v;if(m.config.series[b].name&&(k=d.indexOf(m.config.series[b].name)),k>0){var w=l;this.groupCtx.prevXVal[k-1][y]<0?w=this.series[v][y]>=0?this.groupCtx.prevX[k-1][y]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[k-1][y]:this.groupCtx.prevXVal[k-1][y]>=0&&(w=this.series[v][y]>=0?this.groupCtx.prevX[k-1][y]:this.groupCtx.prevX[k-1][y]-S+2*(this.isReversed?S:0)),r=w}else r=l;c=this.series[v][y]===null?r:r+this.series[v][y]/this.invertedYRatio-2*(this.isReversed?this.series[v][y]/this.invertedYRatio:0);var A=this.barHelpers.getBarpaths({barYPosition:x,barHeight:a,x1:r,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:d,i:v,j:y,w:m});return this.barHelpers.barBackground({j:y,i:v,y1:x,y2:a,elSeries:p}),u+=g,{pathTo:A.pathTo,pathFrom:A.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,v,y,C),barXPosition:r,barYPosition:x,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(i){var r=i.indexes,s=i.x,a=i.y,o=i.xDivision,l=i.barWidth,c=i.zeroH,u=i.columnGroupIndex,h=i.seriesGroup,d=i.elSeries,g=this.w,p=r.i,m=r.j,x=r.bc,v=r.realIndex,y=r.translationsIndex;if(g.globals.isXNumeric){var b=g.globals.seriesX[v][m];b||(b=0),s=(b-g.globals.minX)/this.xRatio-l/2*g.globals.barGroups.length}for(var C,S=s+u*l,R=0,k=0;k<this.groupCtx.prevYF.length;k++)R+=isNaN(this.groupCtx.prevYF[k][m])?0:this.groupCtx.prevYF[k][m];var w=p;if(h&&(w=h.indexOf(g.globals.seriesNames[v])),w>0&&!g.globals.isXNumeric||w>0&&g.globals.isXNumeric&&g.globals.seriesX[v-1][m]===g.globals.seriesX[v][m]){var A,T,P,L=Math.min(this.yRatio.length+1,v+1);if(this.groupCtx.prevY[w-1]!==void 0&&this.groupCtx.prevY[w-1].length)for(var N=1;N<L;N++){var V;if(!isNaN((V=this.groupCtx.prevY[w-N])===null||V===void 0?void 0:V[m])){P=this.groupCtx.prevY[w-N][m];break}}for(var H=1;H<L;H++){var W,q;if(((W=this.groupCtx.prevYVal[w-H])===null||W===void 0?void 0:W[m])<0){T=this.series[p][m]>=0?P-R+2*(this.isReversed?R:0):P;break}if(((q=this.groupCtx.prevYVal[w-H])===null||q===void 0?void 0:q[m])>=0){T=this.series[p][m]>=0?P:P+R-2*(this.isReversed?R:0);break}}T===void 0&&(T=g.globals.gridHeight),C=(A=this.groupCtx.prevYF[0])!==null&&A!==void 0&&A.every(function(Y){return Y===0})&&this.groupCtx.prevYF.slice(1,w).every(function(Y){return Y.every(function(G){return isNaN(G)})})?c:T}else C=c;a=this.series[p][m]?C-this.series[p][m]/this.yRatio[y]+2*(this.isReversed?this.series[p][m]/this.yRatio[y]:0):C;var F=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:l,y1:C,y2:a,yRatio:this.yRatio[y],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:r.realIndex,i:p,j:m,w:g});return this.barHelpers.barBackground({bc:x,j:m,i:p,x1:S,x2:l,elSeries:d}),{pathTo:F.pathTo,pathFrom:F.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,p,m),barXPosition:S,x:g.globals.isXNumeric?s:s+o,y:a}}}]),t}(),ef=function(n){Vl(t,Ia);var e=Fl(t);function t(){return se(this,t),e.apply(this,arguments)}return ae(t,[{key:"draw",value:function(i,r,s){var a=this,o=this.w,l=new U(this.ctx),c=o.globals.comboCharts?r:o.config.chart.type,u=new ii(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var h=new pt(this.ctx,o);i=h.getLogSeries(i),this.series=i,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),g=function(m){a.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[m].type==="boxPlot";var x,v,y,b,C=void 0,S=void 0,R=[],k=[],w=o.globals.comboCharts?s[m]:m,A=a.barHelpers.getGroupIndex(w).columnGroupIndex,T=l.group({class:"apexcharts-series",seriesName:O.escapeString(o.globals.seriesNames[w]),rel:m+1,"data:realIndex":w});a.ctx.series.addCollapsedClassToSeries(T,w),i[m].length>0&&(a.visibleI=a.visibleI+1);var P,L,N=0;a.yRatio.length>1&&(a.yaxisIndex=o.globals.seriesYAxisReverseMap[w][0],N=w);var V=a.barHelpers.initialPositions(w);S=V.y,P=V.barHeight,v=V.yDivision,b=V.zeroW,C=V.x,L=V.barWidth,x=V.xDivision,y=V.zeroH,k.push(C+L/2);for(var H=l.group({class:"apexcharts-datalabels","data:realIndex":w}),W=l.group({class:"apexcharts-bar-goals-markers"}),q=function(Y){var G=a.barHelpers.getStrokeWidth(m,Y,w),ee=null,oe={indexes:{i:m,j:Y,realIndex:w,translationsIndex:N},x:C,y:S,strokeWidth:G,elSeries:T};ee=a.isHorizontal?a.drawHorizontalBoxPaths(Q(Q({},oe),{},{yDivision:v,barHeight:P,zeroW:b})):a.drawVerticalBoxPaths(Q(Q({},oe),{},{xDivision:x,barWidth:L,zeroH:y})),S=ee.y,C=ee.x;var ye=a.barHelpers.drawGoalLine({barXPosition:ee.barXPosition,barYPosition:ee.barYPosition,goalX:ee.goalX,goalY:ee.goalY,barHeight:P,barWidth:L});ye&&W.add(ye),Y>0&&k.push(C+L/2),R.push(S),ee.pathTo.forEach(function(he,Ne){var pe=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?ee.color[Ne]:o.globals.stroke.colors[m],me=u.fillPath({seriesNumber:w,dataPointIndex:Y,color:ee.color[Ne],value:i[m][Y]});a.renderSeries({realIndex:w,pathFill:me,lineFill:pe,j:Y,i:m,pathFrom:ee.pathFrom,pathTo:he,strokeWidth:G,elSeries:T,x:C,y:S,series:i,columnGroupIndex:A,barHeight:P,barWidth:L,elDataLabelsWrap:H,elGoalsMarkers:W,visibleSeries:a.visibleI,type:o.config.chart.type})})},F=0;F<o.globals.dataPoints;F++)q(F);o.globals.seriesXvalues[w]=k,o.globals.seriesYvalues[w]=R,d.add(T)},p=0;p<i.length;p++)g(p);return d}},{key:"drawVerticalBoxPaths",value:function(i){var r=i.indexes,s=i.x;i.y;var a=i.xDivision,o=i.barWidth,l=i.zeroH,c=i.strokeWidth,u=this.w,h=new U(this.ctx),d=r.i,g=r.j,p=u.config.plotOptions.candlestick.colors,m=this.boxOptions.colors,x=r.realIndex,v=function(F){return Array.isArray(F)?F[x]:F},y=v(p.upward),b=v(p.downward),C=this.yRatio[r.translationsIndex],S=this.getOHLCValue(x,g),R=l,k=l,w=S.o<S.c?[y]:[b];this.isBoxPlot&&(w=[v(m.lower),v(m.upper)]);var A=Math.min(S.o,S.c),T=Math.max(S.o,S.c),P=S.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[x][g]-u.globals.minX)/this.xRatio-o/2);var L=s+o*this.visibleI;this.series[d][g]===void 0||this.series[d][g]===null?(A=l,T=l):(A=l-A/C,T=l-T/C,R=l-S.h/C,k=l-S.l/C,P=l-S.m/C);var N=h.move(L,l),V=h.move(L+o/2,A);if(u.globals.previousPaths.length>0&&(V=this.getPreviousPath(x,g,!0)),this.isOHLC){var H=L+o/2,W=l-S.o/C,q=l-S.c/C;N=[h.move(H,R)+h.line(H,k)+h.move(H,W)+h.line(L,W)+h.move(H,q)+h.line(L+o,q)]}else N=this.isBoxPlot?[h.move(L,A)+h.line(L+o/2,A)+h.line(L+o/2,R)+h.line(L+o/4,R)+h.line(L+o-o/4,R)+h.line(L+o/2,R)+h.line(L+o/2,A)+h.line(L+o,A)+h.line(L+o,P)+h.line(L,P)+h.line(L,A+c/2),h.move(L,P)+h.line(L+o,P)+h.line(L+o,T)+h.line(L+o/2,T)+h.line(L+o/2,k)+h.line(L+o-o/4,k)+h.line(L+o/4,k)+h.line(L+o/2,k)+h.line(L+o/2,T)+h.line(L,T)+h.line(L,P)+"z"]:[h.move(L,T)+h.line(L+o/2,T)+h.line(L+o/2,R)+h.line(L+o/2,T)+h.line(L+o,T)+h.line(L+o,A)+h.line(L+o/2,A)+h.line(L+o/2,k)+h.line(L+o/2,A)+h.line(L,A)+h.line(L,T-c/2)];return V+=h.move(L,A),u.globals.isXNumeric||(s+=a),{pathTo:N,pathFrom:V,x:s,y:T,goalY:this.barHelpers.getGoalValues("y",null,l,d,g,r.translationsIndex),barXPosition:L,color:w}}},{key:"drawHorizontalBoxPaths",value:function(i){var r=i.indexes;i.x;var s=i.y,a=i.yDivision,o=i.barHeight,l=i.zeroW,c=i.strokeWidth,u=this.w,h=new U(this.ctx),d=r.i,g=r.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.invertedYRatio,x=r.realIndex,v=this.getOHLCValue(x,g),y=l,b=l,C=Math.min(v.o,v.c),S=Math.max(v.o,v.c),R=v.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[x][g]-u.globals.minX)/this.invertedXRatio-o/2);var k=s+o*this.visibleI;this.series[d][g]===void 0||this.series[d][g]===null?(C=l,S=l):(C=l+C/m,S=l+S/m,y=l+v.h/m,b=l+v.l/m,R=l+v.m/m);var w=h.move(l,k),A=h.move(C,k+o/2);return u.globals.previousPaths.length>0&&(A=this.getPreviousPath(x,g,!0)),w=[h.move(C,k)+h.line(C,k+o/2)+h.line(y,k+o/2)+h.line(y,k+o/2-o/4)+h.line(y,k+o/2+o/4)+h.line(y,k+o/2)+h.line(C,k+o/2)+h.line(C,k+o)+h.line(R,k+o)+h.line(R,k)+h.line(C+c/2,k),h.move(R,k)+h.line(R,k+o)+h.line(S,k+o)+h.line(S,k+o/2)+h.line(b,k+o/2)+h.line(b,k+o-o/4)+h.line(b,k+o/4)+h.line(b,k+o/2)+h.line(S,k+o/2)+h.line(S,k)+h.line(R,k)+"z"],A+=h.move(C,k),u.globals.isXNumeric||(s+=a),{pathTo:w,pathFrom:A,x:S,y:s,goalX:this.barHelpers.getGoalValues("x",l,null,d,g),barYPosition:k,color:p}}},{key:"getOHLCValue",value:function(i,r){var s=this.w,a=new pt(this.ctx,s),o=a.getLogValAtSeriesIndex(s.globals.seriesCandleH[i][r],i),l=a.getLogValAtSeriesIndex(s.globals.seriesCandleO[i][r],i),c=a.getLogValAtSeriesIndex(s.globals.seriesCandleM[i][r],i),u=a.getLogValAtSeriesIndex(s.globals.seriesCandleC[i][r],i),h=a.getLogValAtSeriesIndex(s.globals.seriesCandleL[i][r],i);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t}(),w_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,i=e.config.plotOptions[e.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(r,s){r.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,i,r){var s=this.w,a=1,o=s.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,i);s.globals.hasNegs||r?a=s.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(a=1-l.percent/100,e==="treemap"&&(a=(1-l.percent/100)*(1.25*o)));var c=l.color,u=new O;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*a,l.color);c=O.hexToRgba(O.isColorHex(h)?h:O.rgb2hex(h),s.config.fill.opacity)}else{var d=u.shadeColor(a,l.color);c=O.hexToRgba(O.isColorHex(d)?d:O.rgb2hex(d),s.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,i){var r=this.w,s=r.globals.series[t][i],a=r.config.plotOptions[e],o=a.colorScale.inverse?i:t;a.distributed&&r.config.chart.type==="treemap"&&(o=i);var l=r.globals.colors[o],c=null,u=Math.min.apply(Math,Tt(r.globals.series[t])),h=Math.max.apply(Math,Tt(r.globals.series[t]));a.distributed||e!=="heatmap"||(u=r.globals.minY,h=r.globals.maxY),a.colorScale.min!==void 0&&(u=a.colorScale.min<r.globals.minY?a.colorScale.min:r.globals.minY,h=a.colorScale.max>r.globals.maxY?a.colorScale.max:r.globals.maxY);var d=Math.abs(h)+Math.abs(u),g=100*s/(d===0?d-1e-6:d);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(p,m){if(s>=p.from&&s<=p.to){l=p.color,c=p.foreColor?p.foreColor:null,u=p.from,h=p.to;var x=Math.abs(h)+Math.abs(u);g=100*s/(x===0?x-1e-6:x)}}),{color:l,foreColor:c,percent:g}}},{key:"calculateDataLabels",value:function(e){var t=e.text,i=e.x,r=e.y,s=e.i,a=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new U(this.ctx),h=new Ta(this.ctx),d=null;if(c.enabled){d=u.group({class:"apexcharts-data-labels"});var g=c.offsetX,p=c.offsetY,m=i+g,x=r+parseFloat(c.style.fontSize)/3+p;h.plotDataLabelsText({x:m,y:x,text:t,i:s,j:a,color:o.foreColor,parent:d,fontSize:l,dataLabelsConfig:c})}return d}},{key:"addListeners",value:function(e){var t=new U(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),n}(),cI=function(){function n(e,t){se(this,n),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new w_(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ae(n,[{key:"draw",value:function(e){var t=this.w,i=new U(this.ctx),r=i.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var h=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:O.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var d=t.config.chart.dropShadow;new Ht(this.ctx).dropShadow(h,d,u)}for(var g=0,p=t.config.plotOptions.heatmap.shadeIntensity,m=0,x=0;x<t.globals.dataPoints;x++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*x<t.globals.seriesX[u][m])g+=s;else{if(m>=c[u].length)break;var v=this.helpers.getShadeColor(t.config.chart.type,u,m,this.negRange),y=v.color,b=v.colorProps;t.config.fill.type==="image"&&(y=new ii(this.ctx).fillPath({seriesNumber:u,dataPointIndex:m,opacity:t.globals.hasNegs?b.percent<0?1-(1+b.percent/100):p+b.percent/100:b.percent/100,patternID:O.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:a}));var C=this.rectRadius,S=i.drawRect(g,o,s,a,C);if(S.attr({cx:g,cy:o}),S.node.classList.add("apexcharts-heatmap-rect"),h.add(S),S.attr({fill:y,i:u,index:u,j:m,val:e[u][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?y:t.globals.stroke.colors[0],color:y}),this.helpers.addListeners(S),t.config.chart.animations.enabled&&!t.globals.dataChanged){var R=1;t.globals.resized||(R=t.config.chart.animations.speed),this.animateHeatMap(S,g,o,s,a,R)}if(t.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){k=this.dynamicAnim.speed;var w=t.globals.previousPaths[u]&&t.globals.previousPaths[u][m]&&t.globals.previousPaths[u][m].color;w||(w="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,O.isColorHex(w)?w:O.rgb2hex(w),O.isColorHex(y)?y:O.rgb2hex(y),k)}}var A=(0,t.config.dataLabels.formatter)(t.globals.series[u][m],{value:t.globals.series[u][m],seriesIndex:u,dataPointIndex:m,w:t}),T=this.helpers.calculateDataLabels({text:A,x:g+s/2,y:o+a/2,i:u,j:m,colorProps:b,series:c});T!==null&&h.add(T),g+=s,m++}o+=a,r.add(h)}var P=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?P.unshift(""):P.push(""),t.globals.yAxisScale[0].result=P,r}},{key:"animateHeatMap",value:function(e,t,i,r,s,a){var o=new ja(this.ctx);o.animateRect(e,{x:t+r/2,y:i+s/2,width:0,height:0},{x:t,y:i,width:r,height:s},a,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,i,r){e.attr({fill:t}).animate(r).attr({fill:i})}}]),n}(),__=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"drawYAxisTexts",value:function(e,t,i,r){var s=this.w,a=s.config.yaxis[0],o=s.globals.yLabelFormatters[0];return new U(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:o(r,i),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[i]:a.labels.style.colors})}}]),n}(),k_=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var i=t.config.plotOptions.pie.customScale,r=t.globals.gridWidth/2,s=t.globals.gridHeight/2;this.translateX=r-r*i,this.translateY=s-s*i,this.dataLabelsGroup=new U(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ae(n,[{key:"draw",value:function(e){var t=this,i=this.w,r=new U(this.ctx),s=r.group({class:"apexcharts-pie"});if(i.globals.noData)return s;for(var a=0,o=0;o<e.length;o++)a+=O.negToZero(e[o]);var l=[],c=r.group();a===0&&(a=1e-5),e.forEach(function(b){t.maxY=Math.max(t.maxY,b)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var u=0;u<e.length;u++){var h=this.fullAngle*O.negToZero(e[u])/a;l.push(h),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(i.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var d,g=0,p=0;p<i.globals.previousPaths.length;p++)g+=O.negToZero(i.globals.previousPaths[p]);for(var m=0;m<i.globals.previousPaths.length;m++)d=this.fullAngle*O.negToZero(i.globals.previousPaths[m])/g,this.prevSectorAngleArr.push(d)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var x=r.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),c.add(x)}var v=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(b){v.add(b)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),c.add(v),s.add(c),this.donutDataLabels.show){var y=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(y)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var i=this.w,r=new Ht(this.ctx),s=new U(this.ctx),a=new ii(this.ctx),o=s.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var d=0;d<e.length;d++){var g=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:O.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});o.add(g),c=h,u=(l=u)+e[d],h=c+this.prevSectorAngleArr[d];var p=u<l?this.fullAngle+u-l:u-l,m=a.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:t[d]}),x=this.getChangedPath(c,h),v=s.drawPath({d:x,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(v.attr({index:0,j:d}),r.setSelectionFilter(v,0,d),i.config.chart.dropShadow.enabled){var y=i.config.chart.dropShadow;r.dropShadow(v,y,d)}this.addListeners(v,this.donutDataLabels),U.setAttrs(v.node,{"data:angle":p,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[d]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=O.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle):this.chartType==="donut"&&(b=O.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle)),g.add(v);var C=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((C=p/this.fullAngle*i.config.chart.animations.speed)===0&&(C=1),this.animDur=C+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(v,{size:this.sliceSizes[d],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(v,{size:this.sliceSizes[d],endAngle:u,startAngle:l,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:C}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&v.node.addEventListener("mouseup",this.pieClicked.bind(this,d)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),i.config.dataLabels.enabled){var S=b.x,R=b.y,k=100*p/this.fullAngle+"%";if(p!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var w=i.config.dataLabels.formatter;w!==void 0&&(k=w(i.globals.seriesPercent[d][0],{seriesIndex:d,w:i}));var A=i.globals.dataLabels.style.colors[d],T=s.group({class:"apexcharts-datalabels"}),P=s.drawText({x:S,y:R,text:k,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:A});if(T.add(P),i.config.dataLabels.dropShadow.enabled){var L=i.config.dataLabels.dropShadow;r.dropShadow(P,L)}P.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(P.node.classList.add("apexcharts-pie-label-delay"),P.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return o}},{key:"addListeners",value:function(e,t){var i=new U(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var i=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=r,a=t.startAngle,o=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(a=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===i.config.series.length-1&&(r+o>this.fullAngle?t.endAngle=t.endAngle-(r+o):r+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+o)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,a,o,r,s,t)}},{key:"animateArc",value:function(e,t,i,r,s,a){var o,l=this,c=this.w,u=new ja(this.ctx),h=a.size;(isNaN(t)||isNaN(s))&&(t=i,s=r,a.dur=0);var d=r,g=i,p=t<i?this.fullAngle+t-i:t-i;c.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:h}),e.attr({d:o})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),a.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(m){d=p+(r-p)*m,a.animateStartingPos&&(d=s+(r-s)*m,g=t-s+(i-(t-s))*m),o=l.getPiePath({me:l,startAngle:g,angle:d,size:h}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:g,angle:r,size:h}),a.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,i=this.w,r=this,s=r.sliceSizes[e]+(i.config.plotOptions.pie.expandOnClick?4:0),a=i.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(h){h.setAttribute("data:pieClicked","false");var d=h.getAttribute("data:pathOrig");d&&h.setAttribute("d",d)}),i.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var l=parseInt(a.attr("data:startAngle"),10),c=parseInt(a.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:l,angle:c,size:s}),c!==360&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var u=a.attr("data:pathOrig");a.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),i}},{key:"getPiePath",value:function(e){var t,i=e.me,r=e.startAngle,s=e.angle,a=e.size,o=new U(this.ctx),l=r,c=Math.PI*(l-90)/180,u=s+r;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,d=i.centerX+a*Math.cos(c),g=i.centerY+a*Math.sin(c),p=i.centerX+a*Math.cos(h),m=i.centerY+a*Math.sin(h),x=O.polarToCartesian(i.centerX,i.centerY,i.donutSize,u),v=O.polarToCartesian(i.centerX,i.centerY,i.donutSize,l),y=s>180?1:0,b=["M",d,g,"A",a,a,0,y,1,p,m];return t=i.chartType==="donut"?[].concat(b,["L",x.x,x.y,"A",i.donutSize,i.donutSize,0,y,0,v.x,v.y,"L",d,g,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(b,["L",i.centerX,i.centerY,"L",d,g]).join(" "):[].concat(b).join(" "),o.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,i=new m_(this.ctx),r=new U(this.ctx),s=new __(this.ctx),a=r.group(),o=r.group(),l=i.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var h=t.globals.radialSize,d=h/(u-1),g=0;g<u-1;g++){var p=r.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=s.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,g,c[g]);o.add(m)}a.add(p),h-=d}this.drawSpokes(e),e.add(a),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t,i){var r=this.w,s=new U(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=i.opacity;var o,l,c=i.centerX,u=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;o=t.name.color===void 0?r.globals.colors[0]:t.name.color;var h=t.name.fontSize,d=t.name.fontFamily,g=t.name.fontWeight;l=t.value.color===void 0?r.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",x="";if(a?(o=t.total.color,h=t.total.fontSize,d=t.total.fontFamily,g=t.total.fontWeight,x=this.donutDataLabels.total.label?t.total.label:"",m=t.total.formatter(r)):r.globals.series.length===1&&(m=p(r.globals.series[0],r),x=r.globals.seriesNames[0]),x&&(x=t.name.formatter(x,t.total.show,r)),t.name.show){var v=s.drawText({x:c,y:u+parseFloat(t.name.offsetY),text:x,textAnchor:"middle",foreColor:o,fontSize:h,fontWeight:g,fontFamily:d});v.node.classList.add("apexcharts-datalabel-label"),e.add(v)}if(t.value.show){var y=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,b=s.drawText({x:c,y:u+y,text:m,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,t,i,r){var s,a=this.w;r?s=e.name.color===void 0?a.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(s=e.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,e.value.formatter)(i,a),r||typeof e.total.formatter!="function"||(i=e.total.formatter(a));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,a):"",o!==null&&(o.textContent=t),l!==null&&(l.textContent=i),o!==null&&(o.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var i=this.w,r=e.getAttribute("data:value"),s=i.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(t,s,r,e);var a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,i=this.w,r=new U(this.ctx),s=i.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var a=[],o=360/i.globals.series.length,l=0;l<i.globals.series.length;l++)a.push(O.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+o*l));a.forEach(function(c,u){var h=r.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[u]:s.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),n}(),uI=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new U(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new pt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ae(n,[{key:"draw",value:function(e){var t=this,i=this.w,r=new ii(this.ctx),s=[],a=new Ta(this.ctx);e.length&&(this.dataPointsLen=e[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=o+i.config.plotOptions.radar.offsetX,u=l+i.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),d=[],g=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(x,v){var y=x.length===i.globals.dataPoints,b=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":y,seriesName:O.escapeString(i.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});t.dataRadiusOfPercent[v]=[],t.dataRadius[v]=[],t.angleArr[v]=[],x.forEach(function(N,V){var H=Math.abs(t.maxValue-t.minValue);N-=t.minValue,t.isLog&&(N=t.coreUtils.getLogVal(t.logBase,N,0)),t.dataRadiusOfPercent[v][V]=N/H,t.dataRadius[v][V]=t.dataRadiusOfPercent[v][V]*t.size,t.angleArr[v][V]=V*t.disAngle}),d=t.getDataPointsPos(t.dataRadius[v],t.angleArr[v]);var C=t.createPaths(d,{x:0,y:0});g=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":v}),i.globals.delayedElements.push({el:g.node,index:v});var S={i:v,realIndex:v,animationDelay:v,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[v],strokeLineCap:i.config.stroke.lineCap},R=null;i.globals.previousPaths.length>0&&(R=t.getPreviousPath(v));for(var k=0;k<C.linePathsTo.length;k++){var w=t.graphics.renderPaths(Q(Q({},S),{},{pathFrom:R===null?C.linePathsFrom[k]:R,pathTo:C.linePathsTo[k],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[v]:t.strokeWidth,fill:"none",drawShadow:!1}));b.add(w);var A=r.fillPath({seriesNumber:v}),T=t.graphics.renderPaths(Q(Q({},S),{},{pathFrom:R===null?C.areaPathsFrom[k]:R,pathTo:C.areaPathsTo[k],strokeWidth:0,fill:A,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var P=new Ht(t.ctx),L=i.config.chart.dropShadow;P.dropShadow(T,Object.assign({},L,{noUserSpaceOnUse:!0}),v)}b.add(T)}x.forEach(function(N,V){var H=new Ua(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:v,dataPointIndex:V}),W=t.graphics.drawMarker(d[V].x,d[V].y,H);W.attr("rel",V),W.attr("j",V),W.attr("index",v),W.node.setAttribute("default-marker-size",H.pSize);var q=t.graphics.group({class:"apexcharts-series-markers"});q&&q.add(W),g.add(q),b.add(g);var F=i.config.dataLabels;if(F.enabled){var Y=F.formatter(i.globals.series[v][V],{seriesIndex:v,dataPointIndex:V,w:i});a.plotDataLabelsText({x:d[V].x,y:d[V].y,text:Y,textAnchor:"middle",i:v,j:v,parent:p,offsetCorrection:!1,dataLabelsConfig:Q({},F)})}b.add(p)}),s.push(b)}),this.drawPolygons({parent:h}),i.config.xaxis.labels.show){var m=this.drawXAxisTexts();h.add(m)}return s.forEach(function(x){h.add(x)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,i=this.w,r=e.parent,s=new __(this.ctx),a=i.globals.yAxisScale[0].result.reverse(),o=a.length,l=[],c=this.size/(o-1),u=0;u<o;u++)l[u]=c*u;l.reverse();var h=[],d=[];l.forEach(function(g,p){var m=O.getPolygonPos(g,t.dataPointsLen),x="";m.forEach(function(v,y){if(p===0){var b=t.graphics.drawLine(v.x,v.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[y]:t.polygons.connectorColors);d.push(b)}y===0&&t.yaxisLabelsTextsPos.push({x:v.x,y:v.y}),x+=v.x+","+v.y+" "}),h.push(x)}),h.forEach(function(g,p){var m=t.polygons.strokeColors,x=t.polygons.strokeWidth,v=t.graphics.drawPolygon(g,Array.isArray(m)?m[p]:m,Array.isArray(x)?x[p]:x,i.globals.radarPolygons.fill.colors[p]);r.add(v)}),d.forEach(function(g){r.add(g)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(g,p){var m=s.drawYAxisTexts(g.x,g.y,p,a[p]);t.yaxisLabels.add(m)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,i=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),s=O.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,o){var l=t.config.xaxis.labels.formatter,c=new Ta(e.ctx);if(s[o]){var u=e.getTextPos(s[o],e.size),h=l(a,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:o,j:o,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:Q({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",function(d){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var g=Object.assign({},t,{labelIndex:o});t.config.chart.events.xAxisLabelClick(d,e.ctx,g)}})}}),r}},{key:"createPaths",value:function(e,t){var i=this,r=[],s=[],a=[],o=[];if(e.length){s=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){l+=i.graphics.line(u.x,u.y),c+=i.graphics.line(u.x,u.y),h===e.length-1&&(l+="Z",c+="Z")}),r.push(l),a.push(c)}return{linePathsFrom:s,linePathsTo:r,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var i="middle",r=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(i="start",r+=10):e.x<0&&(i="end",r-=10):i="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:i,newX:r,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,i=null,r=0;r<t.globals.previousPaths.length;r++){var s=t.globals.previousPaths[r];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[r].paths[0]!==void 0&&(i=t.globals.previousPaths[r].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],s=0;s<i;s++){var a={};a.x=e[s]*Math.sin(t[s]),a.y=-e[s]*Math.cos(t[s]),r.push(a)}return r}}]),n}(),hI=function(n){Vl(t,k_);var e=Fl(t);function t(i){var r;se(this,t),(r=e.call(this,i)).ctx=i,r.w=i.w,r.animBeginArr=[0],r.animDur=0;var s=r.w;return r.startAngle=s.config.plotOptions.radialBar.startAngle,r.endAngle=s.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),r.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),r.endAngle===360&&(r.endAngle=359.99),r.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(M1(r)),r}return ae(t,[{key:"draw",value:function(i){var r=this.w,s=new U(this.ctx),a=s.group({class:"apexcharts-radialbar"});if(r.globals.noData)return a;var o=s.group(),l=this.defaultSize/2,c=r.globals.gridWidth/2,u=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(u=u-r.config.stroke.width-r.config.chart.dropShadow.blur);var h=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var d=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:h,series:i});o.add(d)}var g=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:h,series:i}),p=360;r.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var m=(360-p)/360;if(r.globals.radialSize=u-u*m,this.radialDataLabels.value.show){var x=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=x*m}return o.add(g.g),r.config.plotOptions.radialBar.hollow.position==="front"&&(g.g.add(g.elHollow),g.dataLabels&&g.g.add(g.dataLabels)),a.add(o),a}},{key:"drawTracks",value:function(i){var r=this.w,s=new U(this.ctx),a=s.group({class:"apexcharts-tracks"}),o=new Ht(this.ctx),l=new ii(this.ctx),c=this.getStrokeWidth(i);i.size=i.size-c/2;for(var u=0;u<i.series.length;u++){var h=s.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(h),h.attr({rel:u+1}),i.size=i.size-c-this.margin;var d=r.config.plotOptions.radialBar.track,g=l.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(d.background)?d.background[u]:d.background,solid:!0}),p=this.trackStartAngle,m=this.trackEndAngle;Math.abs(m)+Math.abs(p)>=360&&(m=360-Math.abs(this.startAngle)-.1);var x=s.drawPath({d:"",stroke:g,strokeWidth:c*parseInt(d.strokeWidth,10)/100,fill:"none",strokeOpacity:d.opacity,classes:"apexcharts-radialbar-area"});if(d.dropShadow.enabled){var v=d.dropShadow;o.dropShadow(x,v)}h.add(x),x.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(x,{centerX:i.centerX,centerY:i.centerY,endAngle:m,startAngle:p,size:i.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(i){var r=this.w,s=new U(this.ctx),a=new ii(this.ctx),o=new Ht(this.ctx),l=s.group(),c=this.getStrokeWidth(i);i.size=i.size-c/2;var u=r.config.plotOptions.radialBar.hollow.background,h=i.size-c*i.series.length-this.margin*i.series.length-c*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,d=h-r.config.plotOptions.radialBar.hollow.margin;r.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(i,l,h,u));var g=this.drawHollow({size:d,centerX:i.centerX,centerY:i.centerY,fill:u||"transparent"});if(r.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=r.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(g,p)}var m=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(m=0);var x=null;if(this.radialDataLabels.show){var v=r.globals.dom.Paper.findOne(".apexcharts-datalabels-group");x=this.renderInnerDataLabels(v,this.radialDataLabels,{hollowSize:h,centerX:i.centerX,centerY:i.centerY,opacity:m})}r.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(g),x&&l.add(x));var y=!1;r.config.plotOptions.radialBar.inverseOrder&&(y=!0);for(var b=y?i.series.length-1:0;y?b>=0:b<i.series.length;y?b--:b++){var C=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:O.escapeString(r.globals.seriesNames[b])});l.add(C),C.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(C,b),i.size=i.size-c-this.margin;var S=a.fillPath({seriesNumber:b,size:i.size,value:i.series[b]}),R=this.startAngle,k=void 0,w=O.negToZero(i.series[b]>100?100:i.series[b])/100,A=Math.round(this.totalAngle*w)+this.startAngle,T=void 0;r.globals.dataChanged&&(k=this.startAngle,T=Math.round(this.totalAngle*O.negToZero(r.globals.previousPaths[b])/100)+k),Math.abs(A)+Math.abs(R)>360&&(A-=.01),Math.abs(T)+Math.abs(k)>360&&(T-=.01);var P=A-R,L=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[b]:r.config.stroke.dashArray,N=s.drawPath({d:"",stroke:S,strokeWidth:c,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:L});if(U.setAttrs(N.node,{"data:angle":P,"data:value":i.series[b]}),r.config.chart.dropShadow.enabled){var V=r.config.chart.dropShadow;o.dropShadow(N,V,b)}if(o.setSelectionFilter(N,0,b),this.addListeners(N,this.radialDataLabels),C.add(N),N.attr({index:0,j:b}),this.barLabels.enabled){var H=O.polarToCartesian(i.centerX,i.centerY,i.size,R),W=this.barLabels.formatter(r.globals.seriesNames[b],{seriesIndex:b,w:r}),q=["apexcharts-radialbar-label"];this.barLabels.onClick||q.push("apexcharts-no-click");var F=this.barLabels.useSeriesColors?r.globals.colors[b]:r.config.chart.foreColor;F||(F=r.config.chart.foreColor);var Y=H.x+this.barLabels.offsetX,G=H.y+this.barLabels.offsetY,ee=s.drawText({x:Y,y:G,text:W,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:F,cssClass:q.join(" ")});ee.on("click",this.onBarLabelClick),ee.attr({rel:b+1}),R!==0&&ee.attr({"transform-origin":"".concat(Y," ").concat(G),transform:"rotate(".concat(R," 0 0)")}),C.add(ee)}var oe=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(oe=r.config.chart.animations.speed),r.globals.dataChanged&&(oe=r.config.chart.animations.dynamicAnimation.speed),this.animDur=oe/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(N,{centerX:i.centerX,centerY:i.centerY,endAngle:A,startAngle:R,prevEndAngle:T,prevStartAngle:k,size:i.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:oe,shouldSetPrevPaths:!0})}return{g:l,elHollow:g,dataLabels:x}}},{key:"drawHollow",value:function(i){var r=new U(this.ctx).drawCircle(2*i.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),r}},{key:"drawHollowImage",value:function(i,r,s,a){var o=this.w,l=new ii(this.ctx),c=O.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:s,height:s,image:u,patternID:"pattern".concat(o.globals.cuid).concat(c)}),a="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var h=o.config.plotOptions.radialBar.hollow.imageWidth,d=o.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&d===void 0){var g=o.globals.dom.Paper.image(u,function(m){this.move(i.centerX-m.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-m.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});r.add(g)}else{var p=o.globals.dom.Paper.image(u,function(m){this.move(i.centerX-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-d/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,d)});r.add(p)}}return a}},{key:"getStrokeWidth",value:function(i){var r=this.w;return i.size*(100-parseInt(r.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var r=parseInt(i.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,a=this.w;s&&s(a.globals.seriesNames[r],{w:a,seriesIndex:r})}}]),t}(),dI=function(n){Vl(t,Ia);var e=Fl(t);function t(){return se(this,t),e.apply(this,arguments)}return ae(t,[{key:"draw",value:function(i,r){var s=this.w,a=new U(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var o=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<i.length;l++){var c,u,h,d,g=void 0,p=void 0,m=s.globals.comboCharts?r[l]:l,x=this.barHelpers.getGroupIndex(m).columnGroupIndex,v=a.group({class:"apexcharts-series",seriesName:O.escapeString(s.globals.seriesNames[m]),rel:l+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(v,m),i[l].length>0&&(this.visibleI=this.visibleI+1);var y=0,b=0,C=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[m][0],C=m);var S=this.barHelpers.initialPositions(m);p=S.y,d=S.zeroW,g=S.x,b=S.barWidth,y=S.barHeight,c=S.xDivision,u=S.yDivision,h=S.zeroH;for(var R=a.group({class:"apexcharts-datalabels","data:realIndex":m}),k=a.group({class:"apexcharts-rangebar-goals-markers"}),w=0;w<s.globals.dataPoints;w++){var A=this.barHelpers.getStrokeWidth(l,w,m),T=this.seriesRangeStart[l][w],P=this.seriesRangeEnd[l][w],L=null,N=null,V=null,H={x:g,y:p,strokeWidth:A,elSeries:v},W=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(W=1),s.config.series[l].data[w]===void 0)break;if(this.isHorizontal){V=p+y*this.visibleI;var q=(u-y*W)/2;if(s.config.series[l].data[w].x){var F=this.detectOverlappingBars({i:l,j:w,barYPosition:V,srty:q,barHeight:y,yDivision:u,initPositions:S});y=F.barHeight,V=F.barYPosition}b=(L=this.drawRangeBarPaths(Q({indexes:{i:l,j:w,realIndex:m},barHeight:y,barYPosition:V,zeroW:d,yDivision:u,y1:T,y2:P},H))).barWidth}else{s.globals.isXNumeric&&(g=(s.globals.seriesX[l][w]-s.globals.minX)/this.xRatio-b/2),N=g+b*this.visibleI;var Y=(c-b*W)/2;if(s.config.series[l].data[w].x){var G=this.detectOverlappingBars({i:l,j:w,barXPosition:N,srtx:Y,barWidth:b,xDivision:c,initPositions:S});b=G.barWidth,N=G.barXPosition}y=(L=this.drawRangeColumnPaths(Q({indexes:{i:l,j:w,realIndex:m,translationsIndex:C},barWidth:b,barXPosition:N,zeroH:h,xDivision:c},H))).barHeight}var ee=this.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:V,goalX:L.goalX,goalY:L.goalY,barHeight:y,barWidth:b});ee&&k.add(ee),p=L.y,g=L.x;var oe=this.barHelpers.getPathFillColor(i,l,w,m);this.renderSeries({realIndex:m,pathFill:oe.color,lineFill:oe.useRangeColor?oe.color:s.globals.stroke.colors[m],j:w,i:l,x:g,y:p,y1:T,y2:P,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:A,elSeries:v,series:i,barHeight:y,barWidth:b,barXPosition:N,barYPosition:V,columnGroupIndex:x,elDataLabelsWrap:R,elGoalsMarkers:k,visibleSeries:this.visibleI,type:"rangebar"})}o.add(v)}return o}},{key:"detectOverlappingBars",value:function(i){var r=i.i,s=i.j,a=i.barYPosition,o=i.barXPosition,l=i.srty,c=i.srtx,u=i.barHeight,h=i.barWidth,d=i.yDivision,g=i.xDivision,p=i.initPositions,m=this.w,x=[],v=m.config.series[r].data[s].rangeName,y=m.config.series[r].data[s].x,b=Array.isArray(y)?y.join(" "):y,C=m.globals.labels.map(function(R){return Array.isArray(R)?R.join(" "):R}).indexOf(b),S=m.globals.seriesRange[r].findIndex(function(R){return R.x===b&&R.overlaps.length>0});return this.isHorizontal?(a=m.config.plotOptions.bar.rangeBarGroupRows?l+d*C:l+u*this.visibleI+d*C,S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(x=m.globals.seriesRange[r][S].overlaps).indexOf(v)>-1&&(a=(u=p.barHeight/x.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+x.indexOf(v))+d*C)):(C>-1&&!m.globals.timescaleLabels.length&&(o=m.config.plotOptions.bar.rangeBarGroupRows?c+g*C:c+h*this.visibleI+g*C),S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(x=m.globals.seriesRange[r][S].overlaps).indexOf(v)>-1&&(o=(h=p.barWidth/x.length)*this.visibleI+g*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+x.indexOf(v))+g*C)),{barYPosition:a,barXPosition:o,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(i){var r=i.indexes,s=i.x,a=i.xDivision,o=i.barWidth,l=i.barXPosition,c=i.zeroH,u=this.w,h=r.i,d=r.j,g=r.realIndex,p=r.translationsIndex,m=this.yRatio[p],x=this.getRangeValue(g,d),v=Math.min(x.start,x.end),y=Math.max(x.start,x.end);this.series[h][d]===void 0||this.series[h][d]===null?v=c:(v=c-v/m,y=c-y/m);var b=Math.abs(y-v),C=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:v,y2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:g,i:g,j:d,w:u});if(u.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:s,j:d,realIndex:g,barWidth:o});s=S.x,l=S.barXPosition}else s+=a;return{pathTo:C.pathTo,pathFrom:C.pathFrom,barHeight:b,x:s,y:x.start<0&&x.end<0?v:y,goalY:this.barHelpers.getGoalValues("y",null,c,h,d,p),barXPosition:l}}},{key:"preventBarOverflow",value:function(i){var r=this.w;return i<0&&(i=0),i>r.globals.gridWidth&&(i=r.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var r=i.indexes,s=i.y,a=i.y1,o=i.y2,l=i.yDivision,c=i.barHeight,u=i.barYPosition,h=i.zeroW,d=this.w,g=r.realIndex,p=r.j,m=this.preventBarOverflow(h+a/this.invertedYRatio),x=this.preventBarOverflow(h+o/this.invertedYRatio),v=this.getRangeValue(g,p),y=Math.abs(x-m),b=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:m,x2:x,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:g,realIndex:g,j:p,w:d});return d.globals.isXNumeric||(s+=l),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:y,x:v.start<0&&v.end<0?m:x,goalX:this.barHelpers.getGoalValues("x",h,null,g,p),y:s}}},{key:"getRangeValue",value:function(i,r){var s=this.w;return{start:s.globals.seriesRangeStart[i][r],end:s.globals.seriesRangeEnd[i][r]}}}]),t}(),fI=function(){function n(e){se(this,n),this.w=e.w,this.lineCtx=e}return ae(n,[{key:"sameValueSeriesFix",value:function(e,t){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[e]==="gradient")&&new pt(this.lineCtx.ctx,i).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,i=e.realIndex,r=e.x,s=e.y,a=e.i,o=e.j,l=e.prevY,c=this.w,u=[],h=[],d=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(d=(c.globals.seriesX[i][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(u.push(d),h.push(O.isNumber(t[a][0])?l+c.config.markers.offsetY:null)),u.push(r+c.config.markers.offsetX),h.push(O.isNumber(t[a][o+1])?s+c.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,i=e.pathFromArea,r=e.realIndex,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(r,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[a].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=s.globals.previousPaths[a].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[a].paths[1]&&(t=s.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(e){var t,i,r,s=e.i,a=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,h=this.w,d=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[a])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[a])===null||i===void 0?void 0:i.type)==="column");if(((r=o[s])===null||r===void 0?void 0:r[0])!==void 0)l=(c=d&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-o[s][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[s][0]/this.lineCtx.yRatio[u]:0);else if(d&&s>0&&o[s][0]===void 0){for(var g=s-1;g>=0;g--)if(o[g][0]!==null&&o[g][0]!==void 0){l=c=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:l,lineYPosition:c}}}]),n}(),gI=function(n){for(var e,t,i,r,s=function(u){for(var h=[],d=u[0],g=u[1],p=h[0]=tf(d,g),m=1,x=u.length-1;m<x;m++)d=g,g=u[m+1],h[m]=.5*(p+(p=tf(d,g)));return h[m]=p,h}(n),a=n.length-1,o=[],l=0;l<a;l++)i=tf(n[l],n[l+1]),Math.abs(i)<1e-6?s[l]=s[l+1]=0:(r=(e=s[l]/i)*e+(t=s[l+1]/i)*t)>9&&(r=3*i/Math.sqrt(r),s[l]=r*e,s[l+1]=r*t);for(var c=0;c<=a;c++)r=(n[Math.min(a,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+s[c]*s[c])),o.push([r||0,s[c]*r||0]);return o},pI=function(n){var e=gI(n),t=n[1],i=n[0],r=[],s=e[1],a=e[0];r.push(i,[i[0]+a[0],i[1]+a[1],t[0]-s[0],t[1]-s[1],t[0],t[1]]);for(var o=2,l=e.length;o<l;o++){var c=n[o],u=e[o];r.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return r},mI=function(n,e,t){var i=n.slice(e,t);if(e){if(t-e>1&&i[1].length<6){var r=i[0].length;i[1]=[2*i[0][r-2]-i[0][r-4],2*i[0][r-1]-i[0][r-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function tf(n,e){return(e[1]-n[1])/(e[0]-n[0])}var nf=function(){function n(e,t,i){se(this,n),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new g_(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new fI(this),this.markers=new Ua(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ae(n,[{key:"draw",value:function(e,t,i,r){var s,a=this.w,o=new U(this.ctx),l=a.globals.comboCharts?t:a.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new pt(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],d=0;d<e.length;d++){e=this.lineHelpers.sameValueSeriesFix(d,e);var g=a.globals.comboCharts?i[d]:d,p=this.yRatio.length>1?g:0;this._initSerieVariables(e,d,g);var m=[],x=[],v=[],y=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,g),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(y=(a.globals.seriesX[g][0]-a.globals.minX)/this.xRatio),v.push(y);var b,C=y,S=void 0,R=C,k=this.zeroY,w=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:d,realIndex:g,series:e,prevY:k,lineYPosition:0,translationsIndex:p}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[d][0]===null?m.push(null):m.push(k),b=k,l==="rangeArea"&&(S=w=this.lineHelpers.determineFirstPrevY({i:d,realIndex:g,series:r,prevY:w,lineYPosition:0,translationsIndex:p}).prevY,x.push(m[0]!==null?w:null));var A=this._calculatePathsFrom({type:l,series:e,i:d,realIndex:g,translationsIndex:p,prevX:R,prevY:k,prevY2:w}),T=[m[0]],P=[x[0]],L={type:l,series:e,realIndex:g,translationsIndex:p,i:d,x:y,y:1,pX:C,pY:b,pathsFrom:A,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:v,yArrj:m,y2Arrj:x,seriesRangeEnd:r},N=this._iterateOverDataPoints(Q(Q({},L),{},{iterations:l==="rangeArea"?e[d].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var V=this._calculatePathsFrom({series:r,i:d,realIndex:g,prevX:R,prevY:w}),H=this._iterateOverDataPoints(Q(Q({},L),{},{series:r,xArrj:[y],yArrj:T,y2Arrj:P,pY:S,areaPaths:N.areaPaths,pathsFrom:V,iterations:r[d].length-1,isRangeStart:!1})),W=N.linePaths.length/2,q=0;q<W;q++)N.linePaths[q]=H.linePaths[q+W]+N.linePaths[q];N.linePaths.splice(W),N.pathFromLine=H.pathFromLine+N.pathFromLine}else N.pathFromArea+="z";this._handlePaths({type:l,realIndex:g,i:d,paths:N}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((s=a.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&h.sort(function(G,ee){return Number(G.node.getAttribute("zIndex"))-Number(ee.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var F=h.length-1;F>=0;F--)c.add(h[F]);else for(var Y=0;Y<h.length;Y++)c.add(h[Y]);return c}},{key:"_initSerieVariables",value:function(e,t,i){var r=this.w,s=new U(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-(r.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[i]:r.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[i],a=i),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[a]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||r.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:r.config.series[i].zIndex!==void 0?r.config.series[i].zIndex:i,seriesName:O.escapeString(r.globals.seriesNames[i])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),r.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[r.globals.gridHeight+r.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":i});var l=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,i,r,s,a=e.type,o=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,h=e.prevX,d=e.prevY,g=e.prevY2,p=this.w,m=new U(this.ctx);if(o[l][0]===null){for(var x=0;x<o[l].length;x++)if(o[l][x]!==null){h=this.xDivision*x,d=this.zeroY-o[l][x]/this.yRatio[u],t=m.move(h,d),i=m.move(h,this.areaBottomY);break}}else t=m.move(h,d),a==="rangeArea"&&(t=m.move(h,g)+m.line(h,d)),i=m.move(h,this.areaBottomY)+m.line(h,d);if(r=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),s=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var v=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:s,realIndex:c});r=v.pathFromLine,s=v.pathFromArea}return{prevX:h,prevY:d,linePath:t,areaPath:i,pathFromLine:r,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,i=e.realIndex,r=e.i,s=e.paths,a=this.w,o=new U(this.ctx),l=new ii(this.ctx);this.prevSeriesY.push(s.yArrj),a.globals.seriesXvalues[i]=s.xArrj,a.globals.seriesYvalues[i]=s.yArrj;var c=a.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var u=a.globals.seriesXvalues[i][a.globals.seriesXvalues[i].length-c.count-1],h=o.drawRect(u,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(h.node);var d=o.drawRect(0,0,u,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var g={i:r,realIndex:i,animationDelay:r,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var p=l.fillPath({seriesNumber:i}),m=0;m<s.areaPaths.length;m++){var x=o.renderPaths(Q(Q({},g),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(x)}if(a.config.stroke.show&&!this.pointsChart){var v=null;if(t==="line")v=l.fillPath({seriesNumber:i,i:r});else if(a.config.stroke.fill.type==="solid")v=a.globals.stroke.colors[i];else{var y=a.config.fill;a.config.fill=a.config.stroke.fill,v=l.fillPath({seriesNumber:i,i:r}),a.config.fill=y}for(var b=0;b<s.linePaths.length;b++){var C=v;t==="rangeArea"&&(C=l.fillPath({seriesNumber:i}));var S=Q(Q({},g),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:t==="rangeArea"?C:"none"}),R=o.renderPaths(S);if(this.elSeries.add(R),R.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var k=o.renderPaths(S);k.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&k.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),R.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,i,r=this,s=e.type,a=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,h=e.x,d=e.y,g=e.pX,p=e.pY,m=e.pathsFrom,x=e.linePaths,v=e.areaPaths,y=e.seriesIndex,b=e.lineYPosition,C=e.xArrj,S=e.yArrj,R=e.y2Arrj,k=e.isRangeStart,w=e.seriesRangeEnd,A=this.w,T=new U(this.ctx),P=this.yRatio,L=m.prevY,N=m.linePath,V=m.areaPath,H=m.pathFromLine,W=m.pathFromArea,q=O.isNumber(A.globals.minYArr[l])?A.globals.minYArr[l]:A.globals.minY;o||(o=A.globals.dataPoints>1?A.globals.dataPoints-1:A.globals.dataPoints);var F=function(Ve,He){return He-Ve/P[c]+2*(r.isReversed?Ve/P[c]:0)},Y=d,G=A.config.chart.stacked&&!A.globals.comboCharts||A.config.chart.stacked&&A.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[l])===null||i===void 0?void 0:i.type)==="column"),ee=A.config.stroke.curve;Array.isArray(ee)&&(ee=Array.isArray(y)?ee[y[u]]:ee[u]);for(var oe,ye=0,he=0;he<o&&a[u].length!==0;he++){var Ne=a[u][he+1]===void 0||a[u][he+1]===null;if(A.globals.isXNumeric){var pe=A.globals.seriesX[l][he+1];A.globals.seriesX[l][he+1]===void 0&&(pe=A.globals.seriesX[l][o-1]),h=(pe-A.globals.minX)/this.xRatio}else h+=this.xDivision;G?u>0&&A.globals.collapsedSeries.length<A.config.series.length-1?b=this.prevSeriesY[function(Ve){for(var He=Ve;He>0;He--){if(!(A.globals.collapsedSeriesIndices.indexOf((y==null?void 0:y[He])||He)>-1))return He;He--}return 0}(u-1)][he+1]:b=this.zeroY:b=this.zeroY,Ne?d=F(q,b):(d=F(a[u][he+1],b),s==="rangeArea"&&(Y=F(w[u][he+1],b))),C.push(a[u][he+1]===null?null:h),!Ne||A.config.stroke.curve!=="smooth"&&A.config.stroke.curve!=="monotoneCubic"?(S.push(d),R.push(Y)):(S.push(null),R.push(null));var me=this.lineHelpers.calculatePoints({series:a,x:h,y:d,realIndex:l,i:u,j:he,prevY:L}),Te=this._createPaths({type:s,series:a,i:u,realIndex:l,j:he,x:h,y:d,y2:Y,xArrj:C,yArrj:S,y2Arrj:R,pX:g,pY:p,pathState:ye,segmentStartX:oe,linePath:N,areaPath:V,linePaths:x,areaPaths:v,curve:ee,isRangeStart:k});v=Te.areaPaths,x=Te.linePaths,g=Te.pX,p=Te.pY,ye=Te.pathState,oe=Te.segmentStartX,V=Te.areaPath,N=Te.linePath,!this.appendPathFrom||A.globals.hasNullValues||ee==="monotoneCubic"&&s==="rangeArea"||(H+=T.line(h,this.areaBottomY),W+=T.line(h,this.areaBottomY)),this.handleNullDataPoints(a,me,u,he,l),this._handleMarkersAndLabels({type:s,pointsPos:me,i:u,j:he,realIndex:l,isRangeStart:k})}return{yArrj:S,xArrj:C,pathFromArea:W,areaPaths:v,pathFromLine:H,linePaths:x,linePath:N,areaPath:V}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,i=e.pointsPos,r=e.isRangeStart,s=e.i,a=e.j,o=e.realIndex,l=this.w,c=new Ta(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:o,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:i,seriesIndex:o,j:a+1});u!==null&&this.elPointsMain.add(u)}var h=c.drawDataLabel({type:t,isRangeStart:r,pos:i,i:o,j:a+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,i=e.series,r=e.i;e.realIndex;var s,a=e.j,o=e.x,l=e.y,c=e.xArrj,u=e.yArrj,h=e.y2,d=e.y2Arrj,g=e.pX,p=e.pY,m=e.pathState,x=e.segmentStartX,v=e.linePath,y=e.areaPath,b=e.linePaths,C=e.areaPaths,S=e.curve,R=e.isRangeStart,k=new U(this.ctx),w=this.areaBottomY,A=t==="rangeArea",T=t==="rangeArea"&&R;switch(S){case"monotoneCubic":var P=R?u:d;switch(m){case 0:if(P[a+1]===null)break;m=1;case 1:if(!(A?c.length===i[r].length:a===i[r].length-2))break;case 2:var L=R?c:c.slice().reverse(),N=R?P:P.slice().reverse(),V=(s=N,L.map(function(pe,me){return[pe,s[me]]}).filter(function(pe){return pe[1]!==null})),H=V.length>1?pI(V):V,W=[];A&&(T?C=V:W=C.reverse());var q=0,F=0;if(function(pe,me){for(var Te=function(yn){var tt=[],Rt=0;return yn.forEach(function(Un){Un!==null?Rt++:Rt>0&&(tt.push(Rt),Rt=0)}),Rt>0&&tt.push(Rt),tt}(pe),Ve=[],He=0,qe=0;He<Te.length;qe+=Te[He++])Ve[He]=mI(me,qe,qe+Te[He]);return Ve}(N,H).forEach(function(pe){q++;var me=function(He){for(var qe="",yn=0;yn<He.length;yn++){var tt=He[yn],Rt=tt.length;Rt>4?(qe+="C".concat(tt[0],", ").concat(tt[1]),qe+=", ".concat(tt[2],", ").concat(tt[3]),qe+=", ".concat(tt[4],", ").concat(tt[5])):Rt>2&&(qe+="S".concat(tt[0],", ").concat(tt[1]),qe+=", ".concat(tt[2],", ").concat(tt[3]))}return qe}(pe),Te=F,Ve=(F+=pe.length)-1;T?v=k.move(V[Te][0],V[Te][1])+me:A?v=k.move(W[Te][0],W[Te][1])+k.line(V[Te][0],V[Te][1])+me+k.line(W[Ve][0],W[Ve][1]):(v=k.move(V[Te][0],V[Te][1])+me,y=v+k.line(V[Ve][0],w)+k.line(V[Te][0],w)+"z",C.push(y)),b.push(v)}),A&&q>1&&!T){var Y=b.slice(q).reverse();b.splice(q),Y.forEach(function(pe){return b.push(pe)})}m=0}break;case"smooth":var G=.35*(o-g);if(i[r][a]===null)m=0;else switch(m){case 0:if(x=g,v=T?k.move(g,d[a])+k.line(g,p):k.move(g,p),y=k.move(g,p),i[r][a+1]===null||i[r][a+1]===void 0){b.push(v),C.push(y);break}if(m=1,a<i[r].length-2){var ee=k.curve(g+G,p,o-G,l,o,l);v+=ee,y+=ee;break}case 1:if(i[r][a+1]===null)v+=T?k.line(g,h):k.move(g,p),y+=k.line(g,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1;else{var oe=k.curve(g+G,p,o-G,l,o,l);v+=oe,y+=oe,a>=i[r].length-2&&(T&&(v+=k.curve(o,l,o,l,o,h)+k.move(o,h)),y+=k.curve(o,l,o,l,o,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1)}}g=o,p=l;break;default:var ye=function(pe,me,Te){var Ve=[];switch(pe){case"stepline":Ve=k.line(me,null,"H")+k.line(null,Te,"V");break;case"linestep":Ve=k.line(null,Te,"V")+k.line(me,null,"H");break;case"straight":Ve=k.line(me,Te)}return Ve};if(i[r][a]===null)m=0;else switch(m){case 0:if(x=g,v=T?k.move(g,d[a])+k.line(g,p):k.move(g,p),y=k.move(g,p),i[r][a+1]===null||i[r][a+1]===void 0){b.push(v),C.push(y);break}if(m=1,a<i[r].length-2){var he=ye(S,o,l);v+=he,y+=he;break}case 1:if(i[r][a+1]===null)v+=T?k.line(g,h):k.move(g,p),y+=k.line(g,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1;else{var Ne=ye(S,o,l);v+=Ne,y+=Ne,a>=i[r].length-2&&(T&&(v+=k.line(o,h)),y+=k.line(o,w)+k.line(x,w)+"z",b.push(v),C.push(y),m=-1)}}g=o,p=l}return{linePaths:b,areaPaths:C,pX:g,pY:p,pathState:m,segmentStartX:x,linePath:v,areaPath:y}}},{key:"handleNullDataPoints",value:function(e,t,i,r,s){var a=this.w;if(e[i][r]===null&&a.config.markers.showNullDataPoints||e[i].length===1){var o=this.strokeWidth-a.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:r+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),n}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function n(o,l,c,u){this.xoffset=o,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var d,g=[],p=this.xoffset,m=this.yoffset,x=s(h)/this.height,v=s(h)/this.width;if(this.width>=this.height)for(d=0;d<h.length;d++)g.push([p,m,p+x,m+h[d]/x]),m+=h[d]/x;else for(d=0;d<h.length;d++)g.push([p,m,p+h[d]/v,m+v]),p+=h[d]/v;return g},this.cutArea=function(h){var d;if(this.width>=this.height){var g=h/this.height,p=this.width-g;d=new n(this.xoffset+g,this.yoffset,p,this.height)}else{var m=h/this.width,x=this.height-m;d=new n(this.xoffset,this.yoffset+m,this.width,x)}return d}}function e(o,l,c,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var d=t(function(g,p){var m,x=[],v=p/s(g);for(m=0;m<g.length;m++)x[m]=g[m]*v;return x}(o,l*c),[],new n(u,h,l,c),[]);return function(g){var p,m,x=[];for(p=0;p<g.length;p++)for(m=0;m<g[p].length;m++)x.push(g[p][m]);return x}(d)}function t(o,l,c,u){var h,d,g;if(o.length!==0)return h=c.shortestEdge(),function(p,m,x){var v;if(p.length===0)return!0;(v=p.slice()).push(m);var y=i(p,x),b=i(v,x);return y>=b}(l,d=o[0],h)?(l.push(d),t(o.slice(1),l,c,u)):(g=c.cutArea(s(l),u),u.push(c.getCoordinates(l)),t(o,[],g,u)),u;u.push(c.getCoordinates(l))}function i(o,l){var c=Math.min.apply(Math,o),u=Math.max.apply(Math,o),h=s(o);return Math.max(Math.pow(l,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(l,2)*c))}function r(o){return o&&o.constructor===Array}function s(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function a(o){var l,c=0;if(r(o[0]))for(l=0;l<o.length;l++)c+=a(o[l]);else c=s(o);return c}return function o(l,c,u,h,d){h=h===void 0?0:h,d=d===void 0?0:d;var g,p,m=[],x=[];if(r(l[0])){for(p=0;p<l.length;p++)m[p]=a(l[p]);for(g=e(m,c,u,h,d),p=0;p<l.length;p++)x.push(o(l[p],g[p][2]-g[p][0],g[p][3]-g[p][1],g[p][0],g[p][1]))}else x=e(l,c,u,h,d);return x}}();var vI=function(){function n(e,t){se(this,n),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new w_(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ae(n,[{key:"draw",value:function(e){var t=this,i=this.w,r=new U(this.ctx),s=new ii(this.ctx),a=r.group({class:"apexcharts-treemap"});if(i.globals.noData)return a;var o=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(u.x)})}),window.TreemapSquared.generate(o,i.globals.gridWidth,i.globals.gridHeight).forEach(function(l,c){var u=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:O.escapeString(i.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(i.config.chart.dropShadow.enabled){var h=i.config.chart.dropShadow;new Ht(t.ctx).dropShadow(a,h,c)}var d=r.group({class:"apexcharts-data-labels"}),g={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(H,W){var q=H[0],F=H[1],Y=H[2],G=H[3];g.xMin=Math.min(g.xMin,q),g.yMin=Math.min(g.yMin,F),g.xMax=Math.max(g.xMax,Y),g.yMax=Math.max(g.yMax,G);var ee=t.helpers.getShadeColor(i.config.chart.type,c,W,t.negRange),oe=ee.color,ye=s.fillPath({color:oe,seriesNumber:c,dataPointIndex:W}),he=r.drawRect(q,F,Y-q,G-F,i.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?oe:i.globals.stroke.colors[c]);he.attr({cx:q,cy:F,index:c,i:c,j:W,width:Y-q,height:G-F,fill:ye}),he.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(he);var Ne={x:q+(Y-q)/2,y:F+(G-F)/2,width:0,height:0},pe={x:q,y:F,width:Y-q,height:G-F};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var me=1;i.globals.resized||(me=i.config.chart.animations.speed),t.animateTreemap(he,Ne,pe,me)}if(i.globals.dataChanged){var Te=1;t.dynamicAnim.enabled&&i.globals.shouldAnimate&&(Te=t.dynamicAnim.speed,i.globals.previousPaths[c]&&i.globals.previousPaths[c][W]&&i.globals.previousPaths[c][W].rect&&(Ne=i.globals.previousPaths[c][W].rect),t.animateTreemap(he,Ne,pe,Te))}var Ve=t.getFontSize(H),He=i.config.dataLabels.formatter(t.labels[c][W],{value:i.globals.series[c][W],seriesIndex:c,dataPointIndex:W,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Ve=parseInt(i.config.dataLabels.style.fontSize,10),He=t.truncateLabels(He,Ve,q,F,Y,G));var qe=null;i.globals.series[c][W]&&(qe=t.helpers.calculateDataLabels({text:He,x:(q+Y)/2,y:(F+G)/2+t.strokeWidth/2+Ve/3,i:c,j:W,colorProps:ee,fontSize:Ve,series:e})),i.config.dataLabels.enabled&&qe&&t.rotateToFitLabel(qe,Ve,He,q,F,Y,G),u.add(he),qe!==null&&u.add(qe)});var p=i.config.plotOptions.treemap.seriesTitle;if(i.config.series.length>1&&p&&p.show){var m=i.config.series[c].name||"";if(m&&g.xMin<1/0&&g.yMin<1/0){var x=p.offsetX,v=p.offsetY,y=p.borderColor,b=p.borderWidth,C=p.borderRadius,S=p.style,R=S.color||i.config.chart.foreColor,k={left:S.padding.left,right:S.padding.right,top:S.padding.top,bottom:S.padding.bottom},w=r.getTextRects(m,S.fontSize,S.fontFamily),A=w.width+k.left+k.right,T=w.height+k.top+k.bottom,P=g.xMin+(x||0),L=g.yMin+(v||0),N=r.drawRect(P,L,A,T,C,S.background,1,b,y),V=r.drawText({x:P+k.left,y:L+k.top+.75*w.height,text:m,fontSize:S.fontSize,fontFamily:S.fontFamily,fontWeight:S.fontWeight,foreColor:R,cssClass:S.cssClass||""});u.add(N),u.add(V)}}u.add(d),a.add(u)}),a}},{key:"getFontSize",value:function(e){var t=this.w,i=function r(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=r(s[a]);else for(a=0;a<s.length;a++)o+=s[a].length;return o}(this.labels)/function r(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=r(s[a]);else for(a=0;a<s.length;a++)o+=1;return o}(this.labels);return function(r,s){var a=r*s,o=Math.pow(a,.5);return Math.min(o/i,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,i,r,s,a,o){var l=new U(this.ctx),c=l.getTextRects(i,t);if(c.width+this.w.config.stroke.width+5>a-r&&c.width<=o-s){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,i,r,s,a){var o=new U(this.ctx),l=o.getTextRects(e,t).width+this.w.config.stroke.width+5>s-i&&a-r>s-i?a-r:s-i,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,i,r){var s=new ja(this.ctx);s.animateRect(e,t,i,r,function(){s.animationCompleted(e)})}}]),n}(),A_=86400,yI=10/A_,xI=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ae(n,[{key:"calculateTimeScaleTicks",value:function(e,t){var i=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var s=new zt(this.ctx),a=(t-e)/864e5;this.determineInterval(a),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,a<yI?r.globals.disableZoomIn=!0:a>5e4&&(r.globals.disableZoomOut=!0);var o=s.getTimeUnitsfromTimestamp(e,t,this.utc),l=r.globals.gridWidth/a,c=l/24,u=c/60,h=u/60,d=Math.floor(24*a),g=Math.floor(1440*a),p=Math.floor(a*A_),m=Math.floor(a),x=Math.floor(a/30),v=Math.floor(a/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:g,numberOfHours:d,numberOfDays:m,numberOfMonths:x,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var C=this.timeScaleArray.map(function(S){var R={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?Q(Q({},R),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?Q(Q({},R),{},{value:S.value}):S.unit==="minute"?Q(Q({},R),{},{value:S.value,minute:S.value}):S.unit==="second"?Q(Q({},R),{},{value:S.value,minute:S.minute,second:S.second}):S});return C.filter(function(S){var R=1,k=Math.ceil(r.globals.gridWidth/120),w=S.value;r.config.xaxis.tickAmount!==void 0&&(k=r.config.xaxis.tickAmount),C.length>k&&(R=Math.floor(C.length/k));var A=!1,T=!1;switch(i.tickInterval){case"years":S.unit==="year"&&(A=!0);break;case"half_year":R=7,S.unit==="year"&&(A=!0);break;case"months":R=1,S.unit==="year"&&(A=!0);break;case"months_fortnight":R=15,S.unit!=="year"&&S.unit!=="month"||(A=!0),w===30&&(T=!0);break;case"months_days":R=10,S.unit==="month"&&(A=!0),w===30&&(T=!0);break;case"week_days":R=8,S.unit==="month"&&(A=!0);break;case"days":R=1,S.unit==="month"&&(A=!0);break;case"hours":S.unit==="day"&&(A=!0);break;case"minutes_fives":case"seconds_fives":w%5!=0&&(T=!0);break;case"seconds_tens":w%10!=0&&(T=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!T)return!0}else if((w%R==0||A)&&!T)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var i=this.w,r=this.formatDates(e),s=this.removeOverlappingTS(r);i.globals.timescaleLabels=s.slice(),new Gu(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,i=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,i=e.currentMonth,r=e.currentYear,s=e.daysWidthOnXAxis,a=e.numberOfYears,o=t.minYear,l=0,c=new zt(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-h+1)*s,o=t.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:u,year:o,month:O.monthMod(i+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:u,year:r,month:O.monthMod(i+1)});for(var d=o,g=l,p=0;p<a;p++)d++,g=c.determineDaysOfYear(d-1)*s+g,this.timeScaleArray.push({position:g,value:d,unit:u,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,i=e.currentMonthDate,r=e.currentMonth,s=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfMonths,l=r,c=0,u=new zt(this.ctx),h="month",d=0;if(t.minDate>1){c=(u.determineDaysOfMonths(r+1,t.minYear)-i+1)*a,l=O.monthMod(r+1);var g=s+d,p=O.monthMod(l),m=l;l===0&&(h="year",m=g,p=1,g+=d+=1),this.timeScaleArray.push({position:c,value:m,unit:h,year:g,month:p})}else this.timeScaleArray.push({position:c,value:l,unit:h,year:s,month:O.monthMod(r)});for(var x=l+1,v=c,y=0,b=1;y<o;y++,b++){(x=O.monthMod(x))===0?(h="year",d+=1):h="month";var C=this._getYear(s,x,d);v=u.determineDaysOfMonths(x,C)*a+v;var S=x===0?C:x;this.timeScaleArray.push({position:v,value:S,unit:h,year:C,month:x===0?1:x}),x++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,i=e.currentMonth,r=e.currentYear,s=e.hoursWidthOnXAxis,a=e.numberOfDays,o=new zt(this.ctx),l="day",c=t.minDate+1,u=c,h=function(b,C,S){return b>o.determineDaysOfMonths(C+1,S)&&(u=1,l="month",g=C+=1),C},d=(24-t.minHour)*s,g=c,p=h(u,i,r);t.minHour===0&&t.minDate===1?(d=0,g=O.monthMod(t.minMonth),l="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(d=0,c=t.minDate,g=c,p=h(u=c,i,r),g!==1&&(l="day")),this.timeScaleArray.push({position:d,value:g,unit:l,year:this._getYear(r,p,0),month:O.monthMod(p),day:u});for(var m=d,x=0;x<a;x++){l="day",p=h(u+=1,p,this._getYear(r,p,0));var v=this._getYear(r,p,0);m=24*s+m;var y=u===1?O.monthMod(p):u;this.timeScaleArray.push({position:m,value:y,unit:l,year:v,month:O.monthMod(p),day:y})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,i=e.currentDate,r=e.currentMonth,s=e.currentYear,a=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new zt(this.ctx),c="hour",u=function(R,k){return R>l.determineDaysOfMonths(k+1,s)&&(x=1,k+=1),{month:k,date:x}},h=function(R,k){return R>l.determineDaysOfMonths(k+1,s)?k+=1:k},d=60-(t.minMinute+t.minSecond/60),g=d*a,p=t.minHour+1,m=p;d===60&&(g=0,m=p=t.minHour);var x=i;m>=24&&(m=0,c="day",p=x+=1);var v=u(x,r).month;v=h(x,v),p>31&&(p=x=1),this.timeScaleArray.push({position:g,value:p,unit:c,day:x,hour:m,year:s,month:O.monthMod(v)}),m++;for(var y=g,b=0;b<o;b++){c="hour",m>=24&&(m=0,c="day",v=u(x+=1,v).month,v=h(x,v));var C=this._getYear(s,v,0);y=60*a+y;var S=m===0?x:m;this.timeScaleArray.push({position:y,value:S,unit:c,hour:m,day:x,year:C,month:O.monthMod(v)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,r=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,d=r+1,g=a,p=o,m=l,x=s,v=(60-i-t/1e3)*u,y=0;y<h;y++)d>=60&&(d=0,(x+=1)===24&&(x=0)),this.timeScaleArray.push({position:v,value:d,unit:"minute",hour:x,minute:d,day:g,year:this._getYear(m,p,0),month:O.monthMod(p)}),v+=c,d++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,r=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=i+1,d=r,g=a,p=o,m=l,x=s,v=(1e3-t)/1e3*c,y=0;y<u;y++)h>=60&&(h=0,++d>=60&&(d=0,++x===24&&(x=0))),this.timeScaleArray.push({position:v,value:h,unit:"second",hour:x,minute:d,second:h,day:g,year:this._getYear(m,p,0),month:O.monthMod(p)}),v+=c,h++}},{key:"createRawDateString",value:function(e,t){var i=e.year;return e.month===0&&(e.month=1),i+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?i+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":i+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?i+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":i+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?i+=":"+("0"+t).slice(-2):i+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?i+=":"+("0"+t).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(e){var t=this,i=this.w;return e.map(function(r){var s=r.value.toString(),a=new zt(t.ctx),o=t.createRawDateString(r,s),l=a.getDate(a.parseDate(o));if(t.utc||(l=a.getDate(a.parseDateWithTimezone(o))),i.config.xaxis.labels.format===void 0){var c="dd MMM",u=i.config.xaxis.labels.datetimeFormatter;r.unit==="year"&&(c=u.year),r.unit==="month"&&(c=u.month),r.unit==="day"&&(c=u.day),r.unit==="hour"&&(c=u.hour),r.unit==="minute"&&(c=u.minute),r.unit==="second"&&(c=u.second),s=a.formatDate(l,c)}else s=a.formatDate(l,i.config.xaxis.labels.format);return{dateString:o,position:r.position,value:s,unit:r.unit,year:r.year,month:r.month}})}},{key:"removeOverlappingTS",value:function(e){var t,i=this,r=new U(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(s=!0,t=r.getTextRects(e[0].value).width);var a=0,o=e.map(function(l,c){if(c>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var u=s?t:r.getTextRects(e[a].value).width,h=e[a].position;return l.position>h+u+10?(a=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,i){return e+Math.floor(t/12)+i}}]),n}(),bI=function(){function n(e,t){se(this,n),this.ctx=t,this.w=t.w,this.el=e}return ae(n,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,i=e.config,r=i.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&i.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),U.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),t.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),U.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var i=this.w,r=this.ctx,s=i.config,a=i.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=s.chart.type||"line",c=null,u=0;a.series.forEach(function(R,k){var w=e[k].type==="column"?"bar":e[k].type||(l==="column"?"bar":l);o[w]?(w==="rangeArea"?(o[w].series.push(a.seriesRangeStart[k]),o[w].seriesRangeEnd.push(a.seriesRangeEnd[k])):o[w].series.push(R),o[w].i.push(k),w==="bar"&&(i.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(w)?c=w:console.warn("You have specified an unrecognized series type (".concat(w,").")),l!==w&&w!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&s.plotOptions.bar.horizontal&&(u-=o.bar.series.length,o.bar={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=u>0);var h=new nf(r,t),d=new ef(r,t);r.pie=new k_(r);var g=new hI(r);r.rangeBar=new dI(r,t);var p=new uI(r),m=[];if(a.comboCharts){var x,v,y=new pt(r);if(o.area.series.length>0&&(x=m).push.apply(x,Tt(y.drawSeriesByGroup(o.area,a.areaGroups,"area",h))),o.bar.series.length>0)if(s.chart.stacked){var b=new Px(r,t);m.push(b.draw(o.bar.series,o.bar.i))}else r.bar=new Ia(r,t),m.push(r.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&m.push(h.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(v=m).push.apply(v,Tt(y.drawSeriesByGroup(o.line,a.lineGroups,"line",h))),o.candlestick.series.length>0&&m.push(d.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&m.push(d.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&m.push(r.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var C=new nf(r,t,!0);m.push(C.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var S=new nf(r,t,!0);m.push(S.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(s.chart.type){case"line":m=h.draw(a.series,"line");break;case"area":m=h.draw(a.series,"area");break;case"bar":s.chart.stacked?m=new Px(r,t).draw(a.series):(r.bar=new Ia(r,t),m=r.bar.draw(a.series));break;case"candlestick":m=new ef(r,t).draw(a.series,"candlestick");break;case"boxPlot":m=new ef(r,t).draw(a.series,s.chart.type);break;case"rangeBar":m=r.rangeBar.draw(a.series);break;case"rangeArea":m=h.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":m=new cI(r,t).draw(a.series);break;case"treemap":m=new vI(r,t).draw(a.series);break;case"pie":case"donut":case"polarArea":m=r.pie.draw(a.series);break;case"radialBar":m=g.draw(a.series);break;case"radar":m=p.draw(a.series);break;default:m=h.draw(a.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,i=e.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",t.svgWidth=i.chart.width,t.svgHeight=i.chart.height;var r=O.getDimensions(this.el),s=i.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?O.isNumber(r[0])&&(r[0].width===0&&(r=O.getDimensions(this.el.parentNode)),t.svgWidth=r[0]*parseInt(i.chart.width,10)/100):s!=="px"&&s!==""||(t.svgWidth=parseInt(i.chart.width,10));var a=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(a==="%"){var o=O.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(i.chart.height,10)/100}else t.svgHeight=parseInt(i.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),U.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),a!=="%"){var l=i.chart.sparkline.enabled?0:t.axisCharts?i.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,i=e.translateX;U.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(i=new v_(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=O.getBoundingClientRect(s);a=o.bottom;var l=o.bottom-o.top;a=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(a+t.translateY+i+r);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),U.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new Cg(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},i=new f_,r=this.w.globals;i.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Eg(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Eg(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new xI(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new pt(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var r=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];r.forEach(function(s){var a=t.constructor.getChartByID(s);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),i.config.chart.events.selection=function(s,a){r.forEach(function(o){t.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),n}(),wI=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"_updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[t.ctx];s&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var h=c.w;if(h.globals.shouldAnimate=r,i||(h.globals.resized=!0,h.globals.dataChanged=!0,r&&c.series.getPreviousPaths()),e&&Ea(e)==="object"&&(c.config=new vl(e),e=pt.extendArrayProps(c.config,e,h),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=O.extend(h.config,e),a&&(h.globals.lastXAxis=e.xaxis?O.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?O.clone(e.yaxis):[],h.globals.initialConfig=O.extend({},h.config),h.globals.initialSeries=O.clone(h.config.series),e.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var g=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?g.data.slice():g}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?m.data.slice():m}c.series.emptyCollapsedSeries(h.config.series)}return c.update(e).then(function(){u===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,t){var i=this,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var a,o=i.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&i.ctx.series.getPreviousPaths(),o.globals.axisCharts?((a=e.map(function(l,c){return i._extendSeries(l,c)})).length===0&&(a=[{data:[]}]),o.config.series=a):o.config.series=e.slice(),r&&(o.globals.initialConfig.series=O.clone(o.config.series),o.globals.initialSeries=O.clone(o.config.series)),i.ctx.update().then(function(){s(i.ctx)})})}},{key:"_extendSeries",value:function(e,t){var i=this.w,r=i.config.series[t];return Q(Q({},i.config.series[t]),{},{name:e.name?e.name:r==null?void 0:r.name,color:e.color?e.color:r==null?void 0:r.color,type:e.type?e.type:r==null?void 0:r.type,group:e.group?e.group:r==null?void 0:r.group,hidden:e.hidden!==void 0?e.hidden:r==null?void 0:r.hidden,data:e.data?e.data:r==null?void 0:r.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var i=this.w,r=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return i.globals.axisCharts?r=i.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):t===void 0&&(r=i.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),r?(new U(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(r){e.xaxis[r]!==void 0&&(t.config.xaxis[r]=e.xaxis[r],t.globals.lastXAxis[r]=e.xaxis[r])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var i=new ml(e);e=i.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,i){e.yaxis[i].min=0,e.yaxis[i].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,i=this.w,r=i.globals.lastXAxis,s=i.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(s=e.yaxis),i.config.xaxis.min=r.min,i.config.xaxis.max=r.max;var a=function(o){s[o]!==void 0&&(i.config.yaxis[o].min=s[o].min,i.config.yaxis[o].max=s[o].max)};i.config.yaxis.map(function(o,l){i.globals.zoomed||s[l]!==void 0?a(l):t.ctx.opts.yaxis[l]!==void 0&&(o.min=t.ctx.opts.yaxis[l].min,o.max=t.ctx.opts.yaxis[l].max)})}}]),n}();(function(){function n(){for(var s=arguments.length>0&&arguments[0]!==h?arguments[0]:[],a=arguments.length>1?arguments[1]:h,o=arguments.length>2?arguments[2]:h,l=arguments.length>3?arguments[3]:h,c=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,d=s.slice(a,o||h),g=l.slice(c,u||h),p=0,m={pos:[0,0],start:[0,0]},x={pos:[0,0],start:[0,0]};d[p]=e.call(m,d[p]),g[p]=e.call(x,g[p]),d[p][0]!=g[p][0]||d[p][0]=="M"||d[p][0]=="A"&&(d[p][4]!=g[p][4]||d[p][5]!=g[p][5])?(Array.prototype.splice.apply(d,[p,1].concat(i.call(m,d[p]))),Array.prototype.splice.apply(g,[p,1].concat(i.call(x,g[p])))):(d[p]=t.call(m,d[p]),g[p]=t.call(x,g[p])),!(++p==d.length&&p==g.length);)p==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),p==g.length&&g.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]);return{start:d,dest:g}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function t(s){var a=s.length;return this.pos=[s[a-2],s[a-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[a-4],2*this.pos[1]-s[a-3]]),s}function i(s){var a=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],a;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":a=function(o,l){var c,u,h,d,g,p,m,x,v,y,b,C,S,R,k,w,A,T,P,L,N,V,H,W,q,F,Y=Math.abs(l[1]),G=Math.abs(l[2]),ee=l[3]%360,oe=l[4],ye=l[5],he=l[6],Ne=l[7],pe=new Ue(o),me=new Ue(he,Ne),Te=[];if(Y===0||G===0||pe.x===me.x&&pe.y===me.y)return[["C",pe.x,pe.y,me.x,me.y,me.x,me.y]];for(c=new Ue((pe.x-me.x)/2,(pe.y-me.y)/2).transform(new de().rotate(ee)),u=c.x*c.x/(Y*Y)+c.y*c.y/(G*G),u>1&&(Y*=u=Math.sqrt(u),G*=u),h=new de().rotate(ee).scale(1/Y,1/G).rotate(-ee),pe=pe.transform(h),me=me.transform(h),d=[me.x-pe.x,me.y-pe.y],p=d[0]*d[0]+d[1]*d[1],g=Math.sqrt(p),d[0]/=g,d[1]/=g,m=p<4?Math.sqrt(1-p/4):0,oe===ye&&(m*=-1),x=new Ue((me.x+pe.x)/2+m*-d[1],(me.y+pe.y)/2+m*d[0]),v=new Ue(pe.x-x.x,pe.y-x.y),y=new Ue(me.x-x.x,me.y-x.y),b=Math.acos(v.x/Math.sqrt(v.x*v.x+v.y*v.y)),v.y<0&&(b*=-1),C=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(C*=-1),ye&&b>C&&(C+=2*Math.PI),!ye&&b<C&&(C-=2*Math.PI),R=Math.ceil(2*Math.abs(b-C)/Math.PI),w=[],A=b,S=(C-b)/R,k=4*Math.tan(S/4)/3,N=0;N<=R;N++)P=Math.cos(A),T=Math.sin(A),L=new Ue(x.x+P,x.y+T),w[N]=[new Ue(L.x+k*T,L.y-k*P),L,new Ue(L.x-k*T,L.y+k*P)],A+=S;for(w[0][0]=w[0][1].clone(),w[w.length-1][2]=w[w.length-1][1].clone(),h=new de().rotate(ee).scale(Y,G).rotate(-ee),N=0,V=w.length;N<V;N++)w[N][0]=w[N][0].transform(h),w[N][1]=w[N][1].transform(h),w[N][2]=w[N][2].transform(h);for(N=1,V=w.length;N<V;N++)H=(L=w[N-1][2]).x,W=L.y,q=(L=w[N][0]).x,F=L.y,he=(L=w[N][1]).x,Ne=L.y,Te.push(["C",H,W,q,F,he,Ne]);return Te}(this.pos,s),s=a[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],a}function r(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var o=a,l=s.length;o<l;++o)if(s[o][0]=="M")return o;return!1}ve(Zn,{morph:function(s,a,o,l,c){for(var u=this.parse(s),h=this.parse(a),d=0,g=0,p=!1,m=!1;d!==!1||g!==!1;){var x;p=r(u,d!==!1&&d+1),m=r(h,g!==!1&&g+1),d===!1&&(d=(x=new Zn(v.start).bbox()).height==0||x.width==0?u.push(u[0])-1:u.push(["M",x.x+x.width/2,x.y+x.height/2])-1),g===!1&&(g=(x=new Zn(v.dest).bbox()).height==0||x.width==0?h.push(h[0])-1:h.push(["M",x.x+x.width/2,x.y+x.height/2])-1);var v=n(u,d,p,h,g,m);u=u.slice(0,d).concat(v.start,p===!1?[]:u.slice(p)),h=h.slice(0,g).concat(v.dest,m===!1?[]:h.slice(m)),d=p!==!1&&d+v.start.length,g=m!==!1&&g+v.dest.length}this._array=u,this.destination=new Zn,this.destination._array=h;var y=this.fromArray(u.map(function(b,C){var S=h[C].map(function(R,k){return k===0?R:l.step(b[k],h[C][k],o,c[C],c)});return S}));return y}})})();const Rx=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY});class _I{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Rx(e));const i=(t?"mouseup":"touchend")+".drag";Ii(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ii(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:i}=this,r=this.el.point(Rx(e)),s=r.x-i.x,a=r.y-i.y;if(!s&&!a)return t;const o=t.x+s,l=t.y+a;this.box=new gt(o,l,t.w,t.h),this.lastClick=r,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,t){this.el.type==="svg"?wr.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Vn(window,"mousemove.drag"),Vn(window,"touchmove.drag"),Vn(window,"mouseup.drag"),Vn(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Tg(n,e,t,i=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,a=r.pageY||r.touches[0].pageY;e.fire(n,{x:s,y:a,event:r,index:i,points:t})}}function Ig([n,e],{a:t,b:i,c:r,d:s,e:a,f:o}){return[n*t+e*r+a,n*i+e*s+o]}ve(Ut,{draggable(n=!0){return(this.remember("_draggable")||new _I(this)).init(n),this}});let S_=class{constructor(n){this.el=n,n.remember("_selectHandler",this),this.selection=new wr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=zl();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.createRot=n.createRot||this.createRotFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.updateRot=n.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const i=this.order[e];this.createHandle.call(this,this.selection,n,e,t,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",Tg(i,this.el,this.handlePoints,e))})}createHandleFn(n){n.polyline()}updateHandleFn(n,e,t,i){const r=i.at(t-1),s=i[(t+1)%i.length],a=e,o=[a[0]-r[0],a[1]-r[1]],l=[a[0]-s[0],a[1]-s[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[o[0]/c,o[1]/c],d=[l[0]/u,l[1]/u],g=[a[0]-10*h[0],a[1]-10*h[1]],p=[a[0]-10*d[0],a[1]-10*d[1]];n.plot([g,a,p])}updateResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),n,e,t,i)})}createRotFn(n){n.line(),n.circle(5)}getPoint(n){return this.handlePoints[this.order.indexOf(n)]}getPointHandle(n){return this.selection.get(this.order.indexOf(n)+1)}updateRotFn(n,e){const t=this.getPoint("t");n.get(0).plot(t[0],t[1],e[0],e[1]),n.get(1).center(e[0],e[1])}createRotationHandle(){const n=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Tg("rot",this.el,this.handlePoints));this.createRot.call(this,n)}updateRotationHandle(){const n=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(n,this.rotationPoint,this.handlePoints)}updatePoints(){const n=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(n).map(t=>Ig(t,e)),this.rotationPoint=Ig(this.getRotationPoint(n),e)}getHandlePoints({x:n,x2:e,y:t,y2:i,cx:r,cy:s}=this.el.bbox()){return[[n,t],[r,t],[e,t],[e,s],[e,i],[r,i],[n,i],[n,s]]}getRotationPoint({y:n,cx:e}=this.el.bbox()){return[e,n-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Nx=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+n.name);return i||(e.prototype instanceof S_?(i=new e(this),e=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Pg(n,e,t,i=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,a=r.pageY||r.touches[0].pageY;e.fire(n,{x:s,y:a,event:r,index:i,points:t})}}function Rg([n,e],{a:t,b:i,c:r,d:s,e:a,f:o}){return[n*t+e*r+a,n*i+e*s+o]}ve(Ut,{select:Nx(S_)}),ve([ls,cs,os],{pointSelect:Nx(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new wr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=zl();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Tg("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Ig(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class C_{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new wr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=zl();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,i)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,i,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Pg(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,i,r){const s=r.at(i-1),a=r[(i+1)%r.length],o=t,l=[o[0]-s[0],o[1]-s[1]],c=[o[0]-a[0],o[1]-a[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/u,l[1]/u],g=[c[0]/h,c[1]/h],p=[o[0]-10*d[0],o[1]-10*d[1]],m=[o[0]-10*g[0],o[1]-10*g[1]];e.plot([p,o,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,i)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,i,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const i=this.getPoint("t");e.get(0).plot(i[0],i[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Pg("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(i=>Rg(i,t)),this.rotationPoint=Rg(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:i,y2:r,cx:s,cy:a}=this.el.bbox()){return[[e,i],[s,i],[t,i],[t,a],[t,r],[s,r],[e,r],[e,a]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Lx=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+n.name);return i||(e.prototype instanceof C_?(i=new e(this),e=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(e,t),this};ve(Ut,{select:Lx(C_)}),ve([ls,cs,os],{pointSelect:Lx(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new wr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=zl();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Pg("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Rg(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Vc=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY}),Mx=n=>{let e=1/0,t=1/0,i=-1/0,r=-1/0;for(let s=0;s<n.length;s++){const a=n[s];e=Math.min(e,a[0]),t=Math.min(t,a[1]),i=Math.max(i,a[0]),r=Math.max(r,a[1])}return new gt(e,t,i-e,r-t)};class Ox{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:i,points:r}=e.detail,s=!t.type.indexOf("mouse");if(s&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Vc(t)),this.index=i,this.points=r.slice();const a=(s?"mousemove":"touchmove")+".resize",o=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Ii(window,a,this.movePoint):e.type==="rot"?Ii(window,a,this.rotate):Ii(window,a,this.resize),Ii(window,o,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(Vc(e)));let i=t.x-this.startPoint.x,r=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,r*=2);const s=this.box.x+i,a=this.box.y+r,o=this.box.x2+i,l=this.box.y2+r;let c=new gt(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(s,this.box.x2),c.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(a,this.box.y2),c.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,h=c.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],g=(d.indexOf(this.eventType)+4)%d.length,p=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[g];let m=this.eventType.includes("t")||this.eventType.includes("b")?h:u;m=this.eventType.length===2?Math.max(u,h):m,c=function(x,v,y){const b=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]].map(([C,S])=>{const R=C-v[0],k=(S-v[1])*y;return[R*y+v[0],k+v[1]]});return Mx(b)}(this.box,p,m)}this.el.dispatch("resize",{box:new gt(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:i}=this.snapToGrid(this.el.point(Vc(e))),r=this.el.array().slice();r[this.index]=[t,i],this.el.dispatch("resize",{box:Mx(r),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(r)}rotate(e){this.lastEvent=e;const t=this.startPoint,i=this.el.point(Vc(e)),{cx:r,cy:s}=this.box,a=t.x-r,o=t.y-s,l=i.x-r,c=i.y-s,u=Math.sqrt(a*a+o*o)*Math.sqrt(l*l+c*c);if(u===0)return;let h=Math.acos((a*l+o*c)/u)/Math.PI*180;if(!h)return;i.x<t.x&&(h=-h);const d=new de(this.el),{x:g,y:p}=new Ue(r,s).transformO(d),{rotate:m}=d.decompose(),x=this.snapToAngle(m+h)-m;this.el.dispatch("resize",{box:this.box,angle:x,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(d.rotateO(x,g,p))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Vn(window,"mousemove.resize touchmove.resize"),Vn(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}ve(Ut,{resize:function(n=!0,e={}){typeof n=="object"&&(e=n,n=!0);let t=this.remember("_ResizeHandler");return t||(n.prototype instanceof Ox?(t=new n(this),n=!0):t=new Ox(this),this.remember("_resizeHandler",t)),t.active(n,e),this}}),window.SVG===void 0&&(window.SVG=FT),window.Apex===void 0&&(window.Apex={});var Dx=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ja(this.ctx),this.ctx.axes=new $T(this.ctx),this.ctx.core=new bI(this.ctx.el,this.ctx),this.ctx.config=new vl({}),this.ctx.data=new pm(this.ctx),this.ctx.grid=new p_(this.ctx),this.ctx.graphics=new U(this.ctx),this.ctx.coreUtils=new pt(this.ctx),this.ctx.crosshairs=new Eg(this.ctx),this.ctx.events=new XT(this.ctx),this.ctx.exports=new Wo(this.ctx),this.ctx.fill=new ii(this.ctx),this.ctx.localization=new YT(this.ctx),this.ctx.options=new is,this.ctx.responsive=new GT(this.ctx),this.ctx.series=new jn(this.ctx),this.ctx.theme=new qT(this.ctx),this.ctx.formatters=new Bl(this.ctx),this.ctx.titleSubtitle=new KT(this.ctx),this.ctx.legend=new v_(this.ctx),this.ctx.toolbar=new y_(this.ctx),this.ctx.tooltip=new Ix(this.ctx),this.ctx.dimensions=new Gu(this.ctx),this.ctx.updateHelpers=new wI(this.ctx),this.ctx.zoomPanSelection=new nI(this.ctx),this.ctx.w.globals.tooltip=new Ix(this.ctx)}}]),n}(),Fx=function(){function n(e){se(this,n),this.ctx=e,this.w=e.w}return ae(n,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,i=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!i&&(r.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(o){s.removeEventListener(o,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),n}(),rf=new WeakMap,kI=function(){function n(e,t){se(this,n),this.opts=t,this.ctx=this,this.w=new UT(t).init(),this.el=e,this.w.globals.cuid=O.randomId(),this.w.globals.chartID=this.w.config.chart.id?O.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Dx(this).initModules(),this.lastUpdateOptions=null,this.create=O.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ae(n,[{key:"render",value:function(){var e=this;return new Promise(function(t,i){if(O.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;typeof r=="function"&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(d,g){var p=!1;if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var m=d.getBoundingClientRect();d.style.display!=="none"&&m.width!==0||(p=!0)}var x=new ResizeObserver(function(v){p&&g.call(d,v),p=!0});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(d.children).forEach(function(v){return x.observe(v)}):x.observe(d),rf.set(g,x)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),a=O.is("ShadowRoot",s),o=e.el.ownerDocument,l=a?s.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),a?s.prepend(l):o.head.appendChild(l)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)}).catch(function(d){i(d)})}else i(new Error("Element not found"))})}},{key:"create",value:function(e,t){var i=this,r=this.w;new Dx(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!O.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),r.config.xaxis.convertedCatToNumeric&&new ml(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),r.config.chart.type==="treemap"&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),s.svgWidth===0))return s.animationEnded=!0,null;var a=e;e.forEach(function(d,g){d.hidden&&(a=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:g}))});var o=pt.checkComboSeries(a,r.config.chart.type);s.comboCharts=o.comboCharts,s.comboBarCount=o.comboBarCount;var l=a.every(function(d){return d.data&&d.data.length===0});(a.length===0||l&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Ua(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),r.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new pt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(a,c),h=new Ta(this);return h.bringForward(),r.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),r.globals.dataPoints>50&&r.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:c,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,r=i.w;return new Promise(function(s,a){if(i.el===null)return a(new Error("Not enough data to display or target element not found"));(t===null||r.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new p_(i);var o,l,c=i.grid.drawGrid();if(i.annotations=new WT(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),r.config.grid.position==="back"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)r.globals.dom.elGraphical.add(t.elGraph[u]);else r.globals.dom.elGraphical.add(t.elGraph);r.config.grid.position==="front"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),r.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),r.config.chart.type!=="treemap"&&i.axes.drawAxis(r.config.chart.type,c);var h=new yl(e.ctx,c),d=new mm(e.ctx,c);if(c!==null&&(h.xAxisLabelCorrections(c.xAxisTickWidth),d.setYAxisTextAlignments(),r.config.yaxis.map(function(p,m){r.globals.ignoreYAxisIndexes.indexOf(m)===-1&&d.yAxisTitleRotate(m,p.opposite)})),i.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&i.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:t.xyRatios});else{var g=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(p){g[p]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(p){p.method(p.params,!1,p.context)}),r.globals.axisCharts||r.globals.noData||i.core.resizeNonAxisCharts(),s(i)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,i){var r=rf.get(i);r&&(r.disconnect(),rf.delete(i))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,i){t.id===O.escapeString(e)&&Apex._chartInstances.splice(i,1)}),new Fx(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(this.lastUpdateOptions=O.clone(e),e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,i,r,s,a))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,i)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,i)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var r=i.w.config.series.slice(),s=0;s<r.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var a=0;a<e[s].data.length;a++)r[s].data.push(e[s].data[a]);return i.w.config.series=r,t&&(i.w.globals.initialSeries=O.clone(i.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(i,r){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return i(t);t.lastUpdateOptions=O.clone(e),new Fx(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return i(t);t.mount(s).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,i(t)}).catch(function(a){r(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(i){t.push(i)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;t&&(i=t),i.annotations.removeAnnotation(i,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Cg(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Cg(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Wo(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Wo(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Wo(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=O.escapeString(e);if(Apex._chartInstances){var i=Apex._chartInstances.filter(function(r){return r.id===t})[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new n(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var i=this.getChartByID(e);if(i){i.w.globals.isExecCalled=!0;var r=null;if(i.publicMethods.indexOf(t)!==-1){for(var s=arguments.length,a=new Array(s>2?s-2:0),o=2;o<s;o++)a[o-2]=arguments[o];r=i[t].apply(i,a)}return r}}},{key:"merge",value:function(e,t){return O.extend(e,t)}}]),n}(),E_={exports:{}},AI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SI=AI,CI=SI;function T_(){}function I_(){}I_.resetWarningCache=T_;var EI=function(){function n(i,r,s,a,o,l){if(l!==CI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I_,resetWarningCache:T_};return t.PropTypes=t,t};E_.exports=EI();var TI=E_.exports;const $n=x0(TI);function II(n,e,t){return(e=function(i){var r=function(s,a){if(typeof s!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var l=o.call(s,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}(i,"string");return typeof r=="symbol"?r:r+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ng(){return Ng=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ng.apply(null,arguments)}function Vx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function P_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(t),!0).forEach(function(i){II(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xl(n){return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(n)}var PI=["type","width","height","series","options","chartRef"];function sf(n){return n&&xl(n)==="object"&&!Array.isArray(n)}function R_(n,e){var t=P_({},n);return sf(n)&&sf(e)&&Object.keys(e).forEach(function(i){sf(e[i])?t[i]=i in n?R_(n[i],e[i]):e[i]:t[i]=e[i]}),t}function Lg(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(n===e)return!0;if(xl(n)!=="object"||n===null||xl(e)!=="object"||e===null)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);var i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(var s=0,a=i;s<a.length;s++){var o=a[s];if(!r.includes(o)||!Lg(n[o],e[o],t))return!1}return!0}var RI=["type","series","options","width","height","chartRef"];function N_(n){var e=n.type,t=e===void 0?"line":e,i=n.width,r=i===void 0?"100%":i,s=n.height,a=s===void 0?"auto":s,o=n.series,l=n.options,c=n.chartRef,u=function(b,C){if(b==null)return{};var S,R,k=function(A,T){if(A==null)return{};var P={};for(var L in A)if({}.hasOwnProperty.call(A,L)){if(T.includes(L))continue;P[L]=A[L]}return P}(b,C);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(b);for(R=0;R<w.length;R++)S=w[R],C.includes(S)||{}.propertyIsEnumerable.call(b,S)&&(k[S]=b[S])}return k}(n,PI),h=J.useRef(null),d=J.useRef(null),g=J.useRef(null),p=c||g,m=function(){return R_(l,{chart:{type:t,height:a,width:r},series:o})};J.useEffect(function(){return p.current=new kI(h.current,m()),p.current.render(),d.current=l,function(){p.current&&typeof p.current.destroy=="function"&&p.current.destroy()}},[]),J.useEffect(function(){if(p.current&&p.current.w){var b=!Lg(p.current.w.config.series,o),C=!Lg(d.current,l)||a!==p.current.opts.chart.height||r!==p.current.opts.chart.width;(b||C)&&(b?C?p.current.updateOptions(m()):p.current.updateSeries(o):p.current.updateOptions(m())),d.current=l}},[l,o,a,r]);var x,v,y=(x=RI,v=P_({},u),x.forEach(function(b){delete v[b]}),v);return P0.createElement("div",Ng({ref:h},y))}N_.propTypes={type:$n.string.isRequired,series:$n.array.isRequired,options:$n.object.isRequired,width:$n.oneOfType([$n.string,$n.number]),height:$n.oneOfType([$n.string,$n.number]),chartRef:$n.shape({current:$n.any})};const NI=()=>{};var zx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},LI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},M_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),i.push(t[u],t[h],t[d],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||c==null||h==null)throw new MI;const d=s<<2|o>>4;if(i.push(d),c!==64){const g=o<<4&240|c>>2;if(i.push(g),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OI=function(n){const e=L_(n);return M_.encodeByteArray(e,!0)},qu=function(n){return OI(n).replace(/\./g,"")},O_=function(n){try{return M_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=()=>DI().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof zx>"u")return;const n=zx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&O_(n[1]);return e&&JSON.parse(e)},Rh=()=>{try{return NI()||FI()||VI()||zI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D_=n=>{var e,t;return(t=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jI=n=>{const e=D_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},F_=()=>{var n;return(n=Rh())===null||n===void 0?void 0:n.config},V_=n=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qu(JSON.stringify(t)),qu(JSON.stringify(a)),""].join(".")}const Uo={};function WI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uo))Uo[e]?n.emulator.push(e):n.prod.push(e);return n}function UI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jx=!1;function j_(n,e){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||Uo[n]===e||Uo[n]||jx)return;Uo[n]=e;function t(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=WI().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{jx=!0,a()},d}function u(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=UI(i),g=t("text"),p=document.getElementById(g)||document.createElement("span"),m=t("learnmore"),x=document.getElementById(m)||document.createElement("a"),v=t("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;o(b),u(x,m);const C=c();l(y,v),b.append(y,p,x,C),document.body.appendChild(b)}s?(p.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function YI(){var n;const e=(n=Rh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KI(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QI(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="FirebaseError";class Yi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=eP,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?tP(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Yi(r,o,i)}}function tP(n,e){return n.replace(nP,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const nP=/\{\$([^}]+)}/g;function iP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _s(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(Hx(s)&&Hx(a)){if(!_s(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Hx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Eo(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function To(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function rP(n,e){const t=new sP(n,e);return t.subscribe.bind(t)}class sP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");aP(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=af),r.error===void 0&&(r.error=af),r.complete===void 0&&(r.complete=af);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n){return n&&n._delegate?n._delegate:n}class ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new HI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cP(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lP(n){return n===ts?void 0:n}function cP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const hP={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},dP=Pe.INFO,fP={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},gP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=fP[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=dP,this._logHandler=gP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const pP=(n,e)=>e.some(t=>n instanceof t);let Bx,Wx;function mP(){return Bx||(Bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return Wx||(Wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Mg=new WeakMap,B_=new WeakMap,of=new WeakMap,ym=new WeakMap;function yP(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(_r(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&H_.set(t,n)}).catch(()=>{}),ym.set(e,n),e}function xP(n){if(Mg.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Mg.set(n,e)}let Og={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||B_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _r(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bP(n){Og=n(Og)}function wP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lf(this),e,...t);return B_.set(i,e.sort?e.sort():[e]),_r(i)}:vP().includes(n)?function(...e){return n.apply(lf(this),e),_r(H_.get(this))}:function(...e){return _r(n.apply(lf(this),e))}}function _P(n){return typeof n=="function"?wP(n):(n instanceof IDBTransaction&&xP(n),pP(n,mP())?new Proxy(n,Og):n)}function _r(n){if(n instanceof IDBRequest)return yP(n);if(of.has(n))return of.get(n);const e=_P(n);return e!==n&&(of.set(n,e),ym.set(e,n)),e}const lf=n=>ym.get(n);function kP(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=_r(a);return i&&a.addEventListener("upgradeneeded",l=>{i(_r(a.result),l.oldVersion,l.newVersion,_r(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const AP=["get","getKey","getAll","getAllKeys","count"],SP=["put","add","delete","clear"],cf=new Map;function Ux(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=SP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||AP.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),r&&l.done]))[0]};return cf.set(e,s),s}bP(n=>({...n,get:(e,t,i)=>Ux(e,t)||n.get(e,t,i),has:(e,t)=>!!Ux(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function EP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",Xx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new vm("@firebase/app"),TP="@firebase/app-compat",IP="@firebase/analytics-compat",PP="@firebase/analytics",RP="@firebase/app-check-compat",NP="@firebase/app-check",LP="@firebase/auth",MP="@firebase/auth-compat",OP="@firebase/database",DP="@firebase/data-connect",FP="@firebase/database-compat",VP="@firebase/functions",zP="@firebase/functions-compat",jP="@firebase/installations",HP="@firebase/installations-compat",BP="@firebase/messaging",WP="@firebase/messaging-compat",UP="@firebase/performance",XP="@firebase/performance-compat",YP="@firebase/remote-config",$P="@firebase/remote-config-compat",GP="@firebase/storage",qP="@firebase/storage-compat",KP="@firebase/firestore",QP="@firebase/ai",ZP="@firebase/firestore-compat",JP="firebase",eR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",tR={[Dg]:"fire-core",[TP]:"fire-core-compat",[PP]:"fire-analytics",[IP]:"fire-analytics-compat",[NP]:"fire-app-check",[RP]:"fire-app-check-compat",[LP]:"fire-auth",[MP]:"fire-auth-compat",[OP]:"fire-rtdb",[DP]:"fire-data-connect",[FP]:"fire-rtdb-compat",[VP]:"fire-fn",[zP]:"fire-fn-compat",[jP]:"fire-iid",[HP]:"fire-iid-compat",[BP]:"fire-fcm",[WP]:"fire-fcm-compat",[UP]:"fire-perf",[XP]:"fire-perf-compat",[YP]:"fire-rc",[$P]:"fire-rc-compat",[GP]:"fire-gcs",[qP]:"fire-gcs-compat",[KP]:"fire-fst",[ZP]:"fire-fst-compat",[QP]:"fire-vertex","fire-js":"fire-js",[JP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,nR=new Map,Vg=new Map;function Yx(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pa(n){const e=n.name;if(Vg.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,n);for(const t of Ku.values())Yx(t,n);for(const t of nR.values())Yx(t,n);return!0}function xm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Wl("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=eR;function W_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Fg,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw kr.create("bad-app-name",{appName:String(r)});if(t||(t=F_()),!t)throw kr.create("no-options");const s=Ku.get(r);if(s){if(_s(t,s.options)&&_s(i,s.config))return s;throw kr.create("duplicate-app",{appName:r})}const a=new uP(r);for(const l of Vg.values())a.addComponent(l);const o=new rR(t,i,a);return Ku.set(r,o),o}function U_(n=Fg){const e=Ku.get(n);if(!e&&n===Fg&&F_())return W_();if(!e)throw kr.create("no-app",{appName:n});return e}function Ar(n,e,t){var i;let r=(i=tR[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(o.join(" "));return}Pa(new ks(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",aR=1,bl="firebase-heartbeat-store";let uf=null;function X_(){return uf||(uf=kP(sR,aR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw kr.create("idb-open",{originalErrorMessage:n.message})})),uf}async function oR(n){try{const t=(await X_()).transaction(bl),i=await t.objectStore(bl).get(Y_(n));return await t.done,i}catch(e){if(e instanceof Yi)zi.warn(e.message);else{const t=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(t.message)}}}async function $x(n,e){try{const i=(await X_()).transaction(bl,"readwrite");await i.objectStore(bl).put(e,Y_(n)),await i.done}catch(t){if(t instanceof Yi)zi.warn(t.message);else{const i=kr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}function Y_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,cR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>cR){const a=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){zi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gx(),{heartbeatsToSend:i,unsentEntries:r}=hR(this._heartbeatsCache.heartbeats),s=qu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return zi.warn(t),""}}}function Gx(){return new Date().toISOString().substring(0,10)}function hR(n,e=lR){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),qx(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),qx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class dR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return $x(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return $x(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qx(n){return qu(JSON.stringify({version:2,heartbeats:n})).length}function fR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){Pa(new ks("platform-logger",e=>new CP(e),"PRIVATE")),Pa(new ks("heartbeat",e=>new uR(e),"PRIVATE")),Ar(Dg,Xx,n),Ar(Dg,Xx,"esm2017"),Ar("fire-js","")}gR("");var pR="firebase",mR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(pR,mR,"app");const mt=typeof window<"u"?window.__FIREBASE_CONFIG__:void 0,vR={apiKey:mt==null?void 0:mt.apiKey,authDomain:mt==null?void 0:mt.authDomain,projectId:mt==null?void 0:mt.projectId,storageBucket:mt==null?void 0:mt.storageBucket,messagingSenderId:mt==null?void 0:mt.messagingSenderId,appId:mt==null?void 0:mt.appId,measurementId:mt==null?void 0:mt.measurementId},bi=W_(vR);var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,$_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function A(){}A.prototype=w.prototype,k.D=w.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(T,P,L){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return w.prototype[P].apply(T,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,w,A){A||(A=0);var T=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)T[P]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(P=0;16>P;++P)T[P]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=k.g[0],A=k.g[1],P=k.g[2];var L=k.g[3],N=w+(L^A&(P^L))+T[0]+3614090360&4294967295;w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[1]+3905402710&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[3]+3250441966&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(L^A&(P^L))+T[4]+4118548399&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[5]+1200080426&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[7]+4249261313&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(L^A&(P^L))+T[8]+1770035416&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[9]+2336552879&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[11]+2304563134&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(L^A&(P^L))+T[12]+1804603682&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(P^w&(A^P))+T[13]+4254626195&4294967295,L=w+(N<<12&4294967295|N>>>20),N=P+(A^L&(w^A))+T[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=A+(w^P&(L^w))+T[15]+1236535329&4294967295,A=P+(N<<22&4294967295|N>>>10),N=w+(P^L&(A^P))+T[1]+4129170786&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[6]+3225465664&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[0]+3921069994&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(P^L&(A^P))+T[5]+3593408605&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[10]+38016083&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[4]+3889429448&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(P^L&(A^P))+T[9]+568446438&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[14]+3275163606&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[8]+1163531501&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(P^L&(A^P))+T[13]+2850285829&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^P&(w^A))+T[2]+4243563512&4294967295,L=w+(N<<9&4294967295|N>>>23),N=P+(w^A&(L^w))+T[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(P^L))+T[12]+2368359562&4294967295,A=P+(N<<20&4294967295|N>>>12),N=w+(A^P^L)+T[5]+4294588738&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[8]+2272392833&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[14]+4259657740&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(A^P^L)+T[1]+2763975236&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[4]+1272893353&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[10]+3200236656&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(A^P^L)+T[13]+681279174&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[0]+3936430074&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[6]+76029189&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(A^P^L)+T[9]+3654602809&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^P)+T[12]+3873151461&4294967295,L=w+(N<<11&4294967295|N>>>21),N=P+(L^w^A)+T[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=A+(P^L^w)+T[2]+3299628645&4294967295,A=P+(N<<23&4294967295|N>>>9),N=w+(P^(A|~L))+T[0]+4096336452&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[7]+1126891415&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[5]+4237533241&4294967295,A=P+(N<<21&4294967295|N>>>11),N=w+(P^(A|~L))+T[12]+1700485571&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[3]+2399980690&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[1]+2240044497&4294967295,A=P+(N<<21&4294967295|N>>>11),N=w+(P^(A|~L))+T[8]+1873313359&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[15]+4264355552&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[13]+1309151649&4294967295,A=P+(N<<21&4294967295|N>>>11),N=w+(P^(A|~L))+T[4]+4149444226&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~P))+T[11]+3174756917&4294967295,L=w+(N<<10&4294967295|N>>>22),N=P+(w^(L|~A))+T[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=A+(L^(P|~w))+T[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+L&4294967295}i.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var A=w-this.blockSize,T=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=A;)r(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<w;)if(T[P++]=k.charCodeAt(L++),P==this.blockSize){r(this,T),P=0;break}}else for(;L<w;)if(T[P++]=k[L++],P==this.blockSize){r(this,T),P=0;break}}this.h=P,this.o+=w},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var A=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=A&255,A/=256;for(this.u(k),k=Array(16),w=A=0;4>w;++w)for(var T=0;32>T;T+=8)k[A++]=this.g[w]>>>T&255;return k};function s(k,w){var A=o;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=w(k)}function a(k,w){this.h=w;for(var A=[],T=!0,P=k.length-1;0<=P;P--){var L=k[P]|0;T&&L==w||(A[P]=L,T=!1)}this.g=A}var o={};function l(k){return-128<=k&&128>k?s(k,function(w){return new a([w|0],0>w?-1:0)}):new a([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return x(c(-k));for(var w=[],A=1,T=0;k>=A;T++)w[T]=k/A|0,A*=4294967296;return new a(w,0)}function u(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return x(u(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(w,8)),T=h,P=0;P<k.length;P+=8){var L=Math.min(8,k.length-P),N=parseInt(k.substring(P,P+L),w);8>L?(L=c(Math.pow(w,L)),T=T.j(L).add(c(N))):(T=T.j(A),T=T.add(c(N)))}return T}var h=l(0),d=l(1),g=l(16777216);n=a.prototype,n.m=function(){if(m(this))return-x(this).m();for(var k=0,w=1,A=0;A<this.g.length;A++){var T=this.i(A);k+=(0<=T?T:4294967296+T)*w,w*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(p(this))return"0";if(m(this))return"-"+x(this).toString(k);for(var w=c(Math.pow(k,6)),A=this,T="";;){var P=C(A,w).g;A=v(A,P.j(w));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=P,p(A))return L+T;for(;6>L.length;)L="0"+L;T=L+T}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function p(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function m(k){return k.h==-1}n.l=function(k){return k=v(this,k),m(k)?-1:p(k)?0:1};function x(k){for(var w=k.g.length,A=[],T=0;T<w;T++)A[T]=~k.g[T];return new a(A,~k.h).add(d)}n.abs=function(){return m(this)?x(this):this},n.add=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0,P=0;P<=w;P++){var L=T+(this.i(P)&65535)+(k.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);T=N>>>16,L&=65535,N&=65535,A[P]=N<<16|L}return new a(A,A[A.length-1]&-2147483648?-1:0)};function v(k,w){return k.add(x(w))}n.j=function(k){if(p(this)||p(k))return h;if(m(this))return m(k)?x(this).j(x(k)):x(x(this).j(k));if(m(k))return x(this.j(x(k)));if(0>this.l(g)&&0>k.l(g))return c(this.m()*k.m());for(var w=this.g.length+k.g.length,A=[],T=0;T<2*w;T++)A[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<k.g.length;P++){var L=this.i(T)>>>16,N=this.i(T)&65535,V=k.i(P)>>>16,H=k.i(P)&65535;A[2*T+2*P]+=N*H,y(A,2*T+2*P),A[2*T+2*P+1]+=L*H,y(A,2*T+2*P+1),A[2*T+2*P+1]+=N*V,y(A,2*T+2*P+1),A[2*T+2*P+2]+=L*V,y(A,2*T+2*P+2)}for(T=0;T<w;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=w;T<2*w;T++)A[T]=0;return new a(A,0)};function y(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function b(k,w){this.g=k,this.h=w}function C(k,w){if(p(w))throw Error("division by zero");if(p(k))return new b(h,h);if(m(k))return w=C(x(k),w),new b(x(w.g),x(w.h));if(m(w))return w=C(k,x(w)),new b(x(w.g),w.h);if(30<k.g.length){if(m(k)||m(w))throw Error("slowDivide_ only works with positive integers.");for(var A=d,T=w;0>=T.l(k);)A=S(A),T=S(T);var P=R(A,1),L=R(T,1);for(T=R(T,2),A=R(A,2);!p(T);){var N=L.add(T);0>=N.l(k)&&(P=P.add(A),L=N),T=R(T,1),A=R(A,1)}return w=v(k,P.j(w)),new b(P,w)}for(P=h;0<=k.l(w);){for(A=Math.max(1,Math.floor(k.m()/w.m())),T=Math.ceil(Math.log(A)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),L=c(A),N=L.j(w);m(N)||0<N.l(k);)A-=T,L=c(A),N=L.j(w);p(L)&&(L=d),P=P.add(L),k=v(k,N)}return new b(P,k)}n.A=function(k){return C(this,k).h},n.and=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)&k.i(T);return new a(A,this.h&k.h)},n.or=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)|k.i(T);return new a(A,this.h|k.h)},n.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)^k.i(T);return new a(A,this.h^k.h)};function S(k){for(var w=k.g.length+1,A=[],T=0;T<w;T++)A[T]=k.i(T)<<1|k.i(T-1)>>>31;return new a(A,k.h)}function R(k,w){var A=w>>5;w%=32;for(var T=k.g.length-A,P=[],L=0;L<T;L++)P[L]=0<w?k.i(L+A)>>>w|k.i(L+A+1)<<32-w:k.i(L+A);return new a(P,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$_=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Sr=a}).apply(typeof Kx<"u"?Kx:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G_,Io,q_,cu,zg,K_,Q_,Z_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function r(f,_){if(_)e:{var E=i;f=f.split(".");for(var M=0;M<f.length-1;M++){var D=f[M];if(!(D in E))break e;E=E[D]}f=f[f.length-1],M=E[f],_=_(M),_!=M&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}function s(f,_){f instanceof String&&(f+="");var E=0,M=!1,D={next:function(){if(!M&&E<f.length){var z=E++;return{value:_(z,f[z]),done:!1}}return M=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(f){return f||function(){return s(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function c(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function u(f,_,E){return f.call.apply(f.bind,arguments)}function h(f,_,E){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,M),f.apply(_,D)}}return function(){return f.apply(_,arguments)}}function d(f,_,E){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function p(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(M,D,z){for(var ne=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ne[Ke-2]=arguments[Ke];return _.prototype[D].apply(M,ne)}}function m(f){const _=f.length;if(0<_){const E=Array(_);for(let M=0;M<_;M++)E[M]=f[M];return E}return[]}function x(f,_){for(let E=1;E<arguments.length;E++){const M=arguments[E];if(l(M)){const D=f.length||0,z=M.length||0;f.length=D+z;for(let ne=0;ne<z;ne++)f[D+ne]=M[ne]}else f.push(M)}}class v{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var S=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function R(f,_,E){for(const M in f)_.call(E,f[M],M,f)}function k(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function w(f){const _={};for(const E in f)_[E]=f[E];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,_){let E,M;for(let D=1;D<arguments.length;D++){M=arguments[D];for(E in M)f[E]=M[E];for(let z=0;z<A.length;z++)E=A[z],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function P(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function L(f){o.setTimeout(()=>{throw f},0)}function N(){var f=Y;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,E){const M=H.get();M.set(_,E),this.h?this.h.next=M:this.g=M,this.h=M}}var H=new v(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,Y=new V,G=()=>{const f=o.Promise.resolve(void 0);q=()=>{f.then(ee)}};var ee=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){L(E)}var _=H;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}F=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};o.addEventListener("test",E,_),o.removeEventListener("test",E,_)}catch{}return f}();function Ne(f,_){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(S){e:{try{C(_.nodeName);var D=!0;break e}catch{}D=!1}D||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:pe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ne.aa.h.call(this)}}p(Ne,ye);var pe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ve(f,_,E,M,D){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!M,this.ha=D,this.key=++Te,this.da=this.fa=!1}function He(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function qe(f){this.src=f,this.g={},this.h=0}qe.prototype.add=function(f,_,E,M,D){var z=f.toString();f=this.g[z],f||(f=this.g[z]=[],this.h++);var ne=tt(f,_,M,D);return-1<ne?(_=f[ne],E||(_.fa=!1)):(_=new Ve(_,this.src,z,!!M,D),_.fa=E,f.push(_)),_};function yn(f,_){var E=_.type;if(E in f.g){var M=f.g[E],D=Array.prototype.indexOf.call(M,_,void 0),z;(z=0<=D)&&Array.prototype.splice.call(M,D,1),z&&(He(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function tt(f,_,E,M){for(var D=0;D<f.length;++D){var z=f[D];if(!z.da&&z.listener==_&&z.capture==!!E&&z.ha==M)return D}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Un={};function $(f,_,E,M,D){if(Array.isArray(_)){for(var z=0;z<_.length;z++)$(f,_[z],E,M,D);return null}return E=Ye(E),f&&f[me]?f.K(_,E,c(M)?!!M.capture:!1,D):re(f,_,E,!1,M,D)}function re(f,_,E,M,D,z){if(!_)throw Error("Invalid event type");var ne=c(D)?!!D.capture:!!D,Ke=te(f);if(Ke||(f[Rt]=Ke=new qe(f)),E=Ke.add(_,E,M,ne,z),E.proxy)return E;if(M=ke(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)he||(D=ne),D===void 0&&(D=!1),f.addEventListener(_.toString(),M,D);else if(f.attachEvent)f.attachEvent(ue(_.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ke(){function f(E){return _.call(f.src,f.listener,E)}const _=Z;return f}function xe(f,_,E,M,D){if(Array.isArray(_))for(var z=0;z<_.length;z++)xe(f,_[z],E,M,D);else M=c(M)?!!M.capture:!!M,E=Ye(E),f&&f[me]?(f=f.i,_=String(_).toString(),_ in f.g&&(z=f.g[_],E=tt(z,E,M,D),-1<E&&(He(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete f.g[_],f.h--)))):f&&(f=te(f))&&(_=f.g[_.toString()],f=-1,_&&(f=tt(_,E,M,D)),(E=-1<f?_[f]:null)&&fe(E))}function fe(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[me])yn(_.i,f);else{var E=f.type,M=f.proxy;_.removeEventListener?_.removeEventListener(E,M,f.capture):_.detachEvent?_.detachEvent(ue(E),M):_.addListener&&_.removeListener&&_.removeListener(M),(E=te(_))?(yn(E,f),E.h==0&&(E.src=null,_[Rt]=null)):He(f)}}}function ue(f){return f in Un?Un[f]:Un[f]="on"+f}function Z(f,_){if(f.da)f=!0;else{_=new Ne(_,this);var E=f.listener,M=f.ha||f.src;f.fa&&fe(f),f=E.call(M,_)}return f}function te(f){return f=f[Rt],f instanceof qe?f:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(f){return typeof f=="function"?f:(f[Se]||(f[Se]=function(_){return f.handleEvent(_)}),f[Se])}function je(){oe.call(this),this.i=new qe(this),this.M=this,this.F=null}p(je,oe),je.prototype[me]=!0,je.prototype.removeEventListener=function(f,_,E,M){xe(this,f,_,E,M)};function Ze(f,_){var E,M=f.F;if(M)for(E=[];M;M=M.F)E.push(M);if(f=f.M,M=_.type||_,typeof _=="string")_=new ye(_,f);else if(_ instanceof ye)_.target=_.target||f;else{var D=_;_=new ye(M,f),T(_,D)}if(D=!0,E)for(var z=E.length-1;0<=z;z--){var ne=_.g=E[z];D=cn(ne,M,!0,_)&&D}if(ne=_.g=f,D=cn(ne,M,!0,_)&&D,D=cn(ne,M,!1,_)&&D,E)for(z=0;z<E.length;z++)ne=_.g=E[z],D=cn(ne,M,!1,_)&&D}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],M=0;M<E.length;M++)He(E[M]);delete f.g[_],f.h--}}this.F=null},je.prototype.K=function(f,_,E,M){return this.i.add(String(f),_,!1,E,M)},je.prototype.L=function(f,_,E,M){return this.i.add(String(f),_,!0,E,M)};function cn(f,_,E,M){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var D=!0,z=0;z<_.length;++z){var ne=_[z];if(ne&&!ne.da&&ne.capture==E){var Ke=ne.listener,Ot=ne.ha||ne.src;ne.fa&&yn(f.i,ne),D=Ke.call(Ot,M)!==!1&&D}}return D&&!M.defaultPrevented}function Yr(f,_,E){if(typeof f=="function")E&&(f=d(f,E));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:o.setTimeout(f,_||0)}function Os(f){f.g=Yr(()=>{f.g=null,f.i&&(f.i=!1,Os(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class rc extends oe{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(f){oe.call(this),this.h=f,this.g={}}p(Za,oe);var gv=[];function pv(f){R(f.g,function(_,E){this.g.hasOwnProperty(E)&&fe(_)},f),f.g={}}Za.prototype.N=function(){Za.aa.N.call(this),pv(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zh=o.JSON.stringify,uS=o.JSON.parse,hS=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Jh(){}Jh.prototype.h=null;function mv(f){return f.h||(f.h=f.i())}function vv(){}var Ja={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ed(){ye.call(this,"d")}p(ed,ye);function td(){ye.call(this,"c")}p(td,ye);var $r={},yv=null;function sc(){return yv=yv||new je}$r.La="serverreachability";function xv(f){ye.call(this,$r.La,f)}p(xv,ye);function eo(f){const _=sc();Ze(_,new xv(_))}$r.STAT_EVENT="statevent";function bv(f,_){ye.call(this,$r.STAT_EVENT,f),this.stat=_}p(bv,ye);function nn(f){const _=sc();Ze(_,new bv(_,f))}$r.Ma="timingevent";function wv(f,_){ye.call(this,$r.Ma,f),this.size=_}p(wv,ye);function to(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},_)}function no(){this.g=!0}no.prototype.xa=function(){this.g=!1};function dS(f,_,E,M,D,z){f.info(function(){if(f.g)if(z)for(var ne="",Ke=z.split("&"),Ot=0;Ot<Ke.length;Ot++){var ze=Ke[Ot].split("=");if(1<ze.length){var Yt=ze[0];ze=ze[1];var $t=Yt.split("_");ne=2<=$t.length&&$t[1]=="type"?ne+(Yt+"="+ze+"&"):ne+(Yt+"=redacted&")}}else ne=null;else ne=z;return"XMLHTTP REQ ("+M+") [attempt "+D+"]: "+_+`
`+E+`
`+ne})}function fS(f,_,E,M,D,z,ne){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+D+"]: "+_+`
`+E+`
`+z+" "+ne})}function Ds(f,_,E,M){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+pS(f,E)+(M?" "+M:"")})}function gS(f,_){f.info(function(){return"TIMEOUT: "+_})}no.prototype.info=function(){};function pS(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var M=E[f];if(!(2>M.length)){var D=M[1];if(Array.isArray(D)&&!(1>D.length)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ne=1;ne<D.length;ne++)D[ne]=""}}}}return Zh(E)}catch{return _}}var ac={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_v={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nd;function oc(){}p(oc,Jh),oc.prototype.g=function(){return new XMLHttpRequest},oc.prototype.i=function(){return{}},nd=new oc;function qi(f,_,E,M){this.j=f,this.i=_,this.l=E,this.R=M||1,this.U=new Za(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kv}function kv(){this.i=null,this.g="",this.h=!1}var Av={},id={};function rd(f,_,E){f.L=1,f.v=hc(_i(_)),f.m=E,f.P=!0,Sv(f,null)}function Sv(f,_){f.F=Date.now(),lc(f),f.A=_i(f.v);var E=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),zv(E.i,"t",M),f.C=0,E=f.j.J,f.h=new kv,f.g=iy(f.j,E?_:null,!f.m),0<f.O&&(f.M=new rc(d(f.Y,f,f.g),f.O)),_=f.U,E=f.g,M=f.ca;var D="readystatechange";Array.isArray(D)||(D&&(gv[0]=D.toString()),D=gv);for(var z=0;z<D.length;z++){var ne=$(E,D[z],M||_.handleEvent,!1,_.h||_);if(!ne)break;_.g[ne.key]=ne}_=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),eo(),dS(f.i,f.u,f.A,f.l,f.R,f.m)}qi.prototype.ca=function(f){f=f.target;const _=this.M;_&&ki(f)==3?_.j():this.Y(f)},qi.prototype.Y=function(f){try{if(f==this.g)e:{const $t=ki(this.g);var _=this.g.Ba();const zs=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Yv(this.g)))){this.J||$t!=4||_==7||(_==8||0>=zs?eo(3):eo(2)),sd(this);var E=this.g.Z();this.X=E;t:if(Cv(this)){var M=Yv(this.g);f="";var D=M.length,z=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),io(this);var ne="";break t}this.h.i=new o.TextDecoder}for(_=0;_<D;_++)this.h.h=!0,f+=this.h.i.decode(M[_],{stream:!(z&&_==D-1)});M.length=0,this.h.g+=f,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=E==200,fS(this.i,this.u,this.A,this.l,this.R,$t,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ot=this.g;if((Ke=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ke)){var ze=Ke;break t}}ze=null}if(E=ze)Ds(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ad(this,E);else{this.o=!1,this.s=3,nn(12),Gr(this),io(this);break e}}if(this.P){E=!0;let Xn;for(;!this.J&&this.C<ne.length;)if(Xn=mS(this,ne),Xn==id){$t==4&&(this.s=4,nn(14),E=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==Av){this.s=4,nn(15),Ds(this.i,this.l,ne,"[Invalid Chunk]"),E=!1;break}else Ds(this.i,this.l,Xn,null),ad(this,Xn);if(Cv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ne.length!=0||this.h.h||(this.s=1,nn(16),E=!1),this.o=this.o&&E,!E)Ds(this.i,this.l,ne,"[Invalid Chunked Response]"),Gr(this),io(this);else if(0<ne.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),dd(Yt),Yt.M=!0,nn(11))}}else Ds(this.i,this.l,ne,null),ad(this,ne);$t==4&&Gr(this),this.o&&!this.J&&($t==4?Jv(this.j,this):(this.o=!1,lc(this)))}else LS(this.g),E==400&&0<ne.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),Gr(this),io(this)}}}catch{}finally{}};function Cv(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function mS(f,_){var E=f.C,M=_.indexOf(`
`,E);return M==-1?id:(E=Number(_.substring(E,M)),isNaN(E)?Av:(M+=1,M+E>_.length?id:(_=_.slice(M,M+E),f.C=M+E,_)))}qi.prototype.cancel=function(){this.J=!0,Gr(this)};function lc(f){f.S=Date.now()+f.I,Ev(f,f.I)}function Ev(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=to(d(f.ba,f),_)}function sd(f){f.B&&(o.clearTimeout(f.B),f.B=null)}qi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(gS(this.i,this.A),this.L!=2&&(eo(),nn(17)),Gr(this),this.s=2,io(this)):Ev(this,this.S-f)};function io(f){f.j.G==0||f.J||Jv(f.j,f)}function Gr(f){sd(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,pv(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function ad(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||od(E.h,f))){if(!f.K&&od(E.h,f)&&E.G==3){try{var M=E.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var D=M;if(D[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)vc(E),pc(E);else break e;hd(E),nn(18)}}else E.za=D[1],0<E.za-E.T&&37500>D[2]&&E.F&&E.v==0&&!E.C&&(E.C=to(d(E.Za,E),6e3));if(1>=Pv(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Kr(E,11)}else if((f.K||E.g==f)&&vc(E),!y(_))for(D=E.Da.g.parse(_),_=0;_<D.length;_++){let ze=D[_];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Yt=ze[3];Yt!=null&&(E.la=Yt,E.j.info("VER="+E.la));const $t=ze[4];$t!=null&&(E.Aa=$t,E.j.info("SVER="+E.Aa));const zs=ze[5];zs!=null&&typeof zs=="number"&&0<zs&&(M=1.5*zs,E.L=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Xn=f.g;if(Xn){const xc=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var z=M.h;z.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ld(z,z.h),z.h=null))}if(M.D){const fd=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;fd&&(M.ya=fd,nt(M.I,M.D,fd))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),M=E;var ne=f;if(M.qa=ny(M,M.J?M.ia:null,M.W),ne.K){Rv(M.h,ne);var Ke=ne,Ot=M.L;Ot&&(Ke.I=Ot),Ke.B&&(sd(Ke),lc(Ke)),M.g=ne}else Qv(M);0<E.i.length&&mc(E)}else ze[0]!="stop"&&ze[0]!="close"||Kr(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Kr(E,7):ud(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}eo(4)}catch{}}var vS=class{constructor(f,_){this.g=f,this.map=_}};function Tv(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Pv(f){return f.h?1:f.g?f.g.size:0}function od(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ld(f,_){f.g?f.g.add(_):f.h=_}function Rv(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Tv.prototype.cancel=function(){if(this.i=Nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nv(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return m(f.i)}function yS(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],E=f.length,M=0;M<E;M++)_.push(f[M]);return _}_=[],E=0;for(M in f)_[E++]=f[M];return _}function xS(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const M in f)_[E++]=M;return _}}}function Lv(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=xS(f),M=yS(f),D=M.length,z=0;z<D;z++)_.call(void 0,M[z],E&&E[z],f)}var Mv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bS(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var M=f[E].indexOf("="),D=null;if(0<=M){var z=f[E].substring(0,M);D=f[E].substring(M+1)}else z=f[E];_(z,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function qr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qr){this.h=f.h,cc(this,f.j),this.o=f.o,this.g=f.g,uc(this,f.s),this.l=f.l;var _=f.i,E=new ao;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ov(this,E),this.m=f.m}else f&&(_=String(f).match(Mv))?(this.h=!1,cc(this,_[1]||"",!0),this.o=ro(_[2]||""),this.g=ro(_[3]||"",!0),uc(this,_[4]),this.l=ro(_[5]||"",!0),Ov(this,_[6]||"",!0),this.m=ro(_[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}qr.prototype.toString=function(){var f=[],_=this.j;_&&f.push(so(_,Dv,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(so(_,Dv,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(so(E,E.charAt(0)=="/"?kS:_S,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",so(E,SS)),f.join("")};function _i(f){return new qr(f)}function cc(f,_,E){f.j=E?ro(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function uc(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Ov(f,_,E){_ instanceof ao?(f.i=_,CS(f.i,f.h)):(E||(_=so(_,AS)),f.i=new ao(_,f.h))}function nt(f,_,E){f.i.set(_,E)}function hc(f){return nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ro(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function so(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,wS),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wS(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Dv=/[#\/\?@]/g,_S=/[#\?:]/g,kS=/[#\?]/g,AS=/[#\?@]/g,SS=/#/g;function ao(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Ki(f){f.g||(f.g=new Map,f.h=0,f.i&&bS(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=ao.prototype,n.add=function(f,_){Ki(this),this.i=null,f=Fs(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Fv(f,_){Ki(f),_=Fs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Vv(f,_){return Ki(f),_=Fs(f,_),f.g.has(_)}n.forEach=function(f,_){Ki(this),this.g.forEach(function(E,M){E.forEach(function(D){f.call(_,D,M,this)},this)},this)},n.na=function(){Ki(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let M=0;M<_.length;M++){const D=f[M];for(let z=0;z<D.length;z++)E.push(_[M])}return E},n.V=function(f){Ki(this);let _=[];if(typeof f=="string")Vv(this,f)&&(_=_.concat(this.g.get(Fs(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},n.set=function(f,_){return Ki(this),this.i=null,f=Fs(this,f),Vv(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function zv(f,_,E){Fv(f,_),0<E.length&&(f.i=null,f.g.set(Fs(f,_),m(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var M=_[E];const z=encodeURIComponent(String(M)),ne=this.V(M);for(M=0;M<ne.length;M++){var D=z;ne[M]!==""&&(D+="="+encodeURIComponent(String(ne[M]))),f.push(D)}}return this.i=f.join("&")};function Fs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function CS(f,_){_&&!f.j&&(Ki(f),f.i=null,f.g.forEach(function(E,M){var D=M.toLowerCase();M!=D&&(Fv(this,M),zv(this,D,E))},f)),f.j=_}function ES(f,_){const E=new no;if(o.Image){const M=new Image;M.onload=g(Qi,E,"TestLoadImage: loaded",!0,_,M),M.onerror=g(Qi,E,"TestLoadImage: error",!1,_,M),M.onabort=g(Qi,E,"TestLoadImage: abort",!1,_,M),M.ontimeout=g(Qi,E,"TestLoadImage: timeout",!1,_,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else _(!1)}function TS(f,_){const E=new no,M=new AbortController,D=setTimeout(()=>{M.abort(),Qi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:M.signal}).then(z=>{clearTimeout(D),z.ok?Qi(E,"TestPingServer: ok",!0,_):Qi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(D),Qi(E,"TestPingServer: error",!1,_)})}function Qi(f,_,E,M,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),M(E)}catch{}}function IS(){this.g=new hS}function PS(f,_,E){const M=E||"";try{Lv(f,function(D,z){let ne=D;c(D)&&(ne=Zh(D)),_.push(M+z+"="+encodeURIComponent(ne))})}catch(D){throw _.push(M+"type="+encodeURIComponent("_badmap")),D}}function dc(f){this.l=f.Ub||null,this.j=f.eb||!1}p(dc,Jh),dc.prototype.g=function(){return new fc(this.l,this.j)},dc.prototype.i=function(f){return function(){return f}}({});function fc(f,_){je.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(fc,je),n=fc.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,lo(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||o).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jv(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jv(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?oo(this):lo(this),this.readyState==3&&jv(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,oo(this))},n.Qa=function(f){this.g&&(this.response=f,oo(this))},n.ga=function(){this.g&&oo(this)};function oo(f){f.readyState=4,f.l=null,f.j=null,f.v=null,lo(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function lo(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hv(f){let _="";return R(f,function(E,M){_+=M,_+=":",_+=E,_+=`\r
`}),_}function cd(f,_,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=Hv(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):nt(f,_,E))}function dt(f){je.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(dt,je);var RS=/^https?$/i,NS=["POST","PUT"];n=dt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nd.g(),this.v=this.o?mv(this.o):mv(nd),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(z){Bv(this,z);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var D in M)E.set(D,M[D]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const z of M.keys())E.set(z,M.get(z));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(z=>z.toLowerCase()=="content-type"),D=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(NS,_,void 0))||M||D||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ne]of E)this.g.setRequestHeader(z,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xv(this),this.u=!0,this.g.send(f),this.u=!1}catch(z){Bv(this,z)}};function Bv(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Wv(f),gc(f)}function Wv(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ze(this,"complete"),Ze(this,"abort"),gc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Uv(this):this.bb())},n.bb=function(){Uv(this)};function Uv(f){if(f.h&&typeof a<"u"&&(!f.v[1]||ki(f)!=4||f.Z()!=2)){if(f.u&&ki(f)==4)Yr(f.Ea,0,f);else if(Ze(f,"readystatechange"),ki(f)==4){f.h=!1;try{const ne=f.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var M;if(M=ne===0){var D=String(f.D).match(Mv)[1]||null;!D&&o.self&&o.self.location&&(D=o.self.location.protocol.slice(0,-1)),M=!RS.test(D?D.toLowerCase():"")}E=M}if(E)Ze(f,"complete"),Ze(f,"success");else{f.m=6;try{var z=2<ki(f)?f.g.statusText:""}catch{z=""}f.l=z+" ["+f.Z()+"]",Wv(f)}}finally{gc(f)}}}}function gc(f,_){if(f.g){Xv(f);const E=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ze(f,"ready");try{E.onreadystatechange=M}catch{}}}function Xv(f){f.I&&(o.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function ki(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),uS(_)}};function Yv(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function LS(f){const _={};f=(f.g&&2<=ki(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(y(f[M]))continue;var E=P(f[M]);const D=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const z=_[D]||[];_[D]=z,z.push(E)}k(_,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function $v(f){this.Aa=0,this.i=[],this.j=new no,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,f),this.cb=co("retryDelaySeedMs",1e4,f),this.Wa=co("forwardChannelMaxRetries",2,f),this.wa=co("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Tv(f&&f.concurrentRequestLimit),this.Da=new IS,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$v.prototype,n.la=8,n.G=1,n.connect=function(f,_,E,M){nn(0),this.W=f,this.H=_||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.I=ny(this,null,this.W),mc(this)};function ud(f){if(Gv(f),f.G==3){var _=f.U++,E=_i(f.I);if(nt(E,"SID",f.K),nt(E,"RID",_),nt(E,"TYPE","terminate"),uo(f,E),_=new qi(f,f.j,_),_.L=2,_.v=hc(_i(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=_.v,E=!0),E||(_.g=iy(_.j,null),_.g.ea(_.v)),_.F=Date.now(),lc(_)}ty(f)}function pc(f){f.g&&(dd(f),f.g.cancel(),f.g=null)}function Gv(f){pc(f),f.u&&(o.clearTimeout(f.u),f.u=null),vc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function mc(f){if(!Iv(f.h)&&!f.s){f.s=!0;var _=f.Ga;q||G(),F||(q(),F=!0),Y.add(_,f),f.B=0}}function MS(f,_){return Pv(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=to(d(f.Ga,f,_),ey(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const D=new qi(this,this.j,f);let z=this.o;if(this.S&&(z?(z=w(z),T(z,this.S)):z=this.S),this.m!==null||this.O||(D.H=z,z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Kv(this,D,_),E=_i(this.I),nt(E,"RID",f),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),uo(this,E),z&&(this.O?_="headers="+encodeURIComponent(String(Hv(z)))+"&"+_:this.m&&cd(E,this.m,z)),ld(this.h,D),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",_),nt(E,"SID","null"),D.T=!0,rd(D,E,null)):rd(D,E,_),this.G=2}}else this.G==3&&(f?qv(this,f):this.i.length==0||Iv(this.h)||qv(this))};function qv(f,_){var E;_?E=_.l:E=f.U++;const M=_i(f.I);nt(M,"SID",f.K),nt(M,"RID",E),nt(M,"AID",f.T),uo(f,M),f.m&&f.o&&cd(M,f.m,f.o),E=new qi(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Kv(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ld(f.h,E),rd(E,M,_)}function uo(f,_){f.H&&R(f.H,function(E,M){nt(_,M,E)}),f.l&&Lv({},function(E,M){nt(_,M,E)})}function Kv(f,_,E){E=Math.min(f.i.length,E);var M=f.l?d(f.l.Na,f.l,f):null;e:{var D=f.i;let z=-1;for(;;){const ne=["count="+E];z==-1?0<E?(z=D[0].g,ne.push("ofs="+z)):z=0:ne.push("ofs="+z);let Ke=!0;for(let Ot=0;Ot<E;Ot++){let ze=D[Ot].g;const Yt=D[Ot].map;if(ze-=z,0>ze)z=Math.max(0,D[Ot].g-100),Ke=!1;else try{PS(Yt,ne,"req"+ze+"_")}catch{M&&M(Yt)}}if(Ke){M=ne.join("&");break e}}}return f=f.i.splice(0,E),_.D=f,M}function Qv(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;q||G(),F||(q(),F=!0),Y.add(_,f),f.v=0}}function hd(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=to(d(f.Fa,f),ey(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Zv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=to(d(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),pc(this),Zv(this))};function dd(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function Zv(f){f.g=new qi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=_i(f.qa);nt(_,"RID","rpc"),nt(_,"SID",f.K),nt(_,"AID",f.T),nt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&nt(_,"TO",f.ja),nt(_,"TYPE","xmlhttp"),uo(f,_),f.m&&f.o&&cd(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=hc(_i(_)),E.m=null,E.P=!0,Sv(E,f)}n.Za=function(){this.C!=null&&(this.C=null,pc(this),hd(this),nn(19))};function vc(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Jv(f,_){var E=null;if(f.g==_){vc(f),dd(f),f.g=null;var M=2}else if(od(f.h,_))E=_.D,Rv(f.h,_),M=1;else return;if(f.G!=0){if(_.o)if(M==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var D=f.B;M=sc(),Ze(M,new wv(M,E)),mc(f)}else Qv(f);else if(D=_.s,D==3||D==0&&0<_.X||!(M==1&&MS(f,_)||M==2&&hd(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),D){case 1:Kr(f,5);break;case 4:Kr(f,10);break;case 3:Kr(f,6);break;default:Kr(f,2)}}}function ey(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function Kr(f,_){if(f.j.info("Error code "+_),_==2){var E=d(f.fb,f),M=f.Xa;const D=!M;M=new qr(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cc(M,"https"),hc(M),D?ES(M.toString(),E):TS(M.toString(),E)}else nn(2);f.G=0,f.l&&f.l.sa(_),ty(f),Gv(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function ty(f){if(f.G=0,f.ka=[],f.l){const _=Nv(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ka,_),x(f.ka,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.ra()}}function ny(f,_,E){var M=E instanceof qr?_i(E):new qr(E);if(M.g!="")_&&(M.g=_+"."+M.g),uc(M,M.s);else{var D=o.location;M=D.protocol,_=_?_+"."+D.hostname:D.hostname,D=+D.port;var z=new qr(null);M&&cc(z,M),_&&(z.g=_),D&&uc(z,D),E&&(z.l=E),M=z}return E=f.D,_=f.ya,E&&_&&nt(M,E,_),nt(M,"VER",f.la),uo(f,M),M}function iy(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new dt(new dc({eb:E})):new dt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ry(){}n=ry.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yc(){}yc.prototype.g=function(f,_){return new xn(f,_)};function xn(f,_){je.call(this),this.g=new $v(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!y(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Vs(this)}p(xn,je),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){ud(this.g)},xn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Zh(f),f=E);_.i.push(new vS(_.Ya++,f)),_.G==3&&mc(_)},xn.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,xn.aa.N.call(this)};function sy(f){ed.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}p(sy,ed);function ay(){td.call(this),this.status=1}p(ay,td);function Vs(f){this.g=f}p(Vs,ry),Vs.prototype.ua=function(){Ze(this.g,"a")},Vs.prototype.ta=function(f){Ze(this.g,new sy(f))},Vs.prototype.sa=function(f){Ze(this.g,new ay)},Vs.prototype.ra=function(){Ze(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Z_=function(){return new yc},Q_=function(){return sc()},K_=$r,zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ac.NO_ERROR=0,ac.TIMEOUT=8,ac.HTTP_ERROR=6,cu=ac,_v.COMPLETE="complete",q_=_v,vv.EventType=Ja,Ja.OPEN="a",Ja.CLOSE="b",Ja.ERROR="c",Ja.MESSAGE="d",je.prototype.listen=je.prototype.K,Io=vv,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,G_=dt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Zx="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new vm("@firebase/firestore");function Ws(){return As.logLevel}function le(n,...e){if(As.logLevel<=Pe.DEBUG){const t=e.map(bm);As.debug(`Firestore (${$a}): ${n}`,...t)}}function ji(n,...e){if(As.logLevel<=Pe.ERROR){const t=e.map(bm);As.error(`Firestore (${$a}): ${n}`,...t)}}function Nr(n,...e){if(As.logLevel<=Pe.WARN){const t=e.map(bm);As.warn(`Firestore (${$a}): ${n}`,...t)}}function bm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,J_(n,i,t)}function J_(n,e,t){let i=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ji(i),new Error(i)}function We(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||J_(e,r,i)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class xR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},o=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new ek(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class wR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new wR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=AR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Ee(n,e){return n<e?-1:n>e?1:0}function jg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Ee(i,r);{const s=tk(),a=SR(s.encode(eb(n,t)),s.encode(eb(e,t)));return a!==0?a:Ee(i,r)}}t+=i>65535?2:1}return Ee(n.length,e.length)}function eb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function SR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ee(n[t],e[t]);return Ee(n.length,e.length)}function Ra(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__name__";class ci{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=ci.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Ee(e.length,t.length)}static compareSegments(e,t){const i=ci.isNumericId(e),r=ci.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?ci.extractNumericId(e).compare(ci.extractNumericId(t)):jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Qe extends ci{construct(e,t,i){return new Qe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const CR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ci{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return CR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tb}static keyField(){return new jt([tb])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Qe.fromString(e))}static fromName(e){return new ge(Qe.fromString(e).popFirst(5))}static empty(){return new ge(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e,t){if(!t)throw new ie(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ER(n,e,t,i){if(e===!0&&i===!0)throw new ie(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nb(n){if(!ge.isDocumentKey(n))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ib(n){if(ge.isDocumentKey(n))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Hi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nh(n);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TR(n,e){if(e<=0)throw new ie(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n,e){const t={typeString:n};return e&&(t.value=e),t}function Xl(n,e){if(!nk(n))throw new ie(B.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new ie(B.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-62135596800,sb=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*sb);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rb)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sb}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:_t("string",rt._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new rt(0,0))}static max(){return new _e(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function IR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new Lr(r,ge.empty(),e)}function PR(n){return new Lr(n.readTime,n.key,wl)}class Lr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Lr(_e.min(),ge.empty(),wl)}static max(){return new Lr(_e.max(),ge.empty(),wl)}}function RR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ee(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==NR)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let r=0,s=0,a=!1;e.forEach(o=>{++r,o.next(()=>{++s,a&&s===r&&t()},l=>i(l))}),a=!0,s===r&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(r=>r?X.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new X((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{a[c]=u,++o,o===s&&i(a)},u=>r(u))}})}static doWhile(e,t){return new X((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function MR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Lh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-1;function Mh(n){return n==null}function Qu(n){return n===0&&1/n==-1/0}function OR(n){return typeof n=="number"&&Number.isInteger(n)&&!Qu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="";function DR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ab(e)),e=FR(n.get(t),e);return ab(e)}function FR(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case ik:t+="";break;default:t+=s}}return t}function ab(n){return n+ik+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Br(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=r??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ft(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Ft.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lb(this.data.getIterator())}getIteratorFrom(e){return new lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new _n([])}unionWith(e){let t=new It(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sk("Invalid base64 string: "+s):s}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=VR.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="server_timestamp",ok="__type__",lk="__previous_value__",ck="__local_write_time__";function Am(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ok])===null||t===void 0?void 0:t.stringValue)===ak}function Oh(n){const e=n.mapValue.fields[lk];return Am(e)?Oh(e):e}function _l(n){const e=Mr(n.mapValue.fields[ck].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,i,r,s,a,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Zu="(default)";class kl{constructor(e,t){this.projectId=e,this.database=t||Zu}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="__type__",jR="__max__",Hc={mapValue:{}},hk="__vector__",Ju="value";function Dr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Am(n)?4:BR(n)?9007199254740991:HR(n)?10:11:we(28295,{value:n})}function wi(n,e){if(n===e)return!0;const t=Dr(n);if(t!==Dr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Mr(r.timestampValue),o=Mr(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Or(r.bytesValue).isEqual(Or(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return vt(r.geoPointValue.latitude)===vt(s.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return vt(r.integerValue)===vt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=vt(r.doubleValue),o=vt(s.doubleValue);return a===o?Qu(a)===Qu(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(ob(a)!==ob(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!wi(a[l],o[l])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function Al(n,e){return(n.values||[]).find(t=>wi(t,e))!==void 0}function Na(n,e){if(n===e)return 0;const t=Dr(n),i=Dr(e);if(t!==i)return Ee(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ee(n.booleanValue,e.booleanValue);case 2:return function(s,a){const o=vt(s.integerValue||s.doubleValue),l=vt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return cb(n.timestampValue,e.timestampValue);case 4:return cb(_l(n),_l(e));case 5:return jg(n.stringValue,e.stringValue);case 6:return function(s,a){const o=Or(s),l=Or(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ee(o[c],l[c]);if(u!==0)return u}return Ee(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ee(vt(s.latitude),vt(a.latitude));return o!==0?o:Ee(vt(s.longitude),vt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ub(n.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,u;const h=s.fields||{},d=a.fields||{},g=(o=h[Ju])===null||o===void 0?void 0:o.arrayValue,p=(l=d[Ju])===null||l===void 0?void 0:l.arrayValue,m=Ee(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:ub(g,p)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Hc.mapValue&&a===Hc.mapValue)return 0;if(s===Hc.mapValue)return 1;if(a===Hc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=jg(l[h],u[h]);if(d!==0)return d;const g=Na(o[l[h]],c[u[h]]);if(g!==0)return g}return Ee(l.length,u.length)}(n.mapValue,e.mapValue);default:throw we(23264,{le:t})}}function cb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ee(n,e);const t=Mr(n),i=Mr(e),r=Ee(t.seconds,i.seconds);return r!==0?r:Ee(t.nanos,i.nanos)}function ub(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=Na(t[r],i[r]);if(s)return s}return Ee(t.length,i.length)}function La(n){return Hg(n)}function Hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Mr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Or(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=Hg(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Hg(t.fields[a])}`;return r+"}"}(n.mapValue):we(61005,{value:n})}function uu(n){switch(Dr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(n);return e?16+uu(e):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+uu(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Br(i.fields,(s,a)=>{r+=s.length+uu(a)}),r}(n.mapValue);default:throw we(13486,{value:n})}}function hb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bg(n){return!!n&&"integerValue"in n}function Sm(n){return!!n&&"arrayValue"in n}function db(n){return!!n&&"nullValue"in n}function fb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hu(n){return!!n&&"mapValue"in n}function HR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uk])===null||t===void 0?void 0:t.stringValue)===hk}function Xo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Br(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Xo(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(t)}setAll(e){let t=jt.emptyPath(),i={},r=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=Xo(a):r.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());hu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];hu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Br(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new fn(Xo(this.value))}}function dk(n){const e=[];return Br(n.fields,(t,i)=>{const r=new jt([t]);if(hu(i)){const s=dk(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Jt(e,0,_e.min(),_e.min(),_e.min(),fn.empty(),0)}static newFoundDocument(e,t,i,r){return new Jt(e,1,t,_e.min(),i,r,0)}static newNoDocument(e,t){return new Jt(e,2,t,_e.min(),_e.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,_e.min(),_e.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.position=e,this.inclusive=t}}function gb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=ge.comparator(ge.fromName(a.referenceValue),t.key):i=Na(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function pb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t="asc"){this.field=e,this.dir=t}}function WR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{}class wt extends fk{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new XR(e,t,i):t==="array-contains"?new GR(e,i):t==="in"?new qR(e,i):t==="not-in"?new KR(e,i):t==="array-contains-any"?new QR(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new YR(e,i):new $R(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Na(t,this.value)):t!==null&&Dr(this.value)===Dr(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends fk{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new si(e,t)}matches(e){return gk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gk(n){return n.op==="and"}function pk(n){return UR(n)&&gk(n)}function UR(n){for(const e of n.filters)if(e instanceof si)return!1;return!0}function Wg(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+La(n.value);if(pk(n))return n.filters.map(e=>Wg(e)).join(",");{const e=n.filters.map(t=>Wg(t)).join(",");return`${n.op}(${e})`}}function mk(n,e){return n instanceof wt?function(i,r){return r instanceof wt&&i.op===r.op&&i.field.isEqual(r.field)&&wi(i.value,r.value)}(n,e):n instanceof si?function(i,r){return r instanceof si&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,o)=>s&&mk(a,r.filters[o]),!0):!1}(n,e):void we(19439)}function vk(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${La(t.value)}`}(n):n instanceof si?function(t){return t.op.toString()+" {"+t.getFilters().map(vk).join(" ,")+"}"}(n):"Filter"}class XR extends wt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class YR extends wt{constructor(e,t){super(e,"in",t),this.keys=yk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $R extends wt{constructor(e,t){super(e,"not-in",t),this.keys=yk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class GR extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sm(t)&&Al(t.arrayValue,this.value)}}class qR extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class KR extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Al(this.value.arrayValue,t)}}class QR extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function mb(n,e=null,t=[],i=[],r=null,s=null,a=null){return new ZR(n,e,t,i,r,s,a)}function Cm(n){const e=Ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>La(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>La(i)).join(",")),e.Pe=t}return e.Pe}function Em(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pb(n.startAt,e.startAt)&&pb(n.endAt,e.endAt)}function Ug(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JR(n,e,t,i,r,s,a,o){return new Rs(n,e,t,i,r,s,a,o)}function Tm(n){return new Rs(n)}function vb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xk(n){return n.collectionGroup!==null}function Yo(n){const e=Ae(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new It(jt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Sl(s,i))}),t.has(jt.keyField().canonicalString())||e.Te.push(new Sl(jt.keyField(),i))}return e.Te}function fi(n){const e=Ae(n);return e.Ie||(e.Ie=e2(e,Yo(n))),e.Ie}function e2(n,e){if(n.limitType==="F")return mb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Sl(r.field,s)});const t=n.endAt?new eh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new eh(n.startAt.position,n.startAt.inclusive):null;return mb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Xg(n,e){const t=n.filters.concat([e]);return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function th(n,e,t){return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dh(n,e){return Em(fi(n),fi(e))&&n.limitType===e.limitType}function bk(n){return`${Cm(fi(n))}|lt:${n.limitType}`}function Us(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>vk(r)).join(", ")}]`),Mh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>La(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>La(r)).join(",")),`Target(${i})`}(fi(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ge.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of Yo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,o,l){const c=gb(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,Yo(i),r)||i.endAt&&!function(a,o,l){const c=gb(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,Yo(i),r))}(n,e)}function t2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wk(n){return(e,t)=>{let i=!1;for(const r of Yo(n)){const s=n2(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function n2(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Na(l,c):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return rk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new ht(ge.comparator);function Bi(){return i2}const _k=new ht(ge.comparator);function Po(...n){let e=_k;for(const t of n)e=e.insert(t.key,t);return e}function kk(n){let e=_k;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function us(){return $o()}function Ak(){return $o()}function $o(){return new Ns(n=>n.toString(),(n,e)=>n.isEqual(e))}const r2=new ht(ge.comparator),s2=new It(ge.comparator);function Re(...n){let e=s2;for(const t of n)e=e.add(t);return e}const a2=new It(Ee);function o2(){return a2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function Sk(n){return{integerValue:""+n}}function Ck(n,e){return OR(e)?Sk(e):Im(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function l2(n,e,t){return n instanceof Cl?function(r,s){const a={fields:{[ok]:{stringValue:ak},[ck]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Am(s)&&(s=Oh(s)),s&&(a.fields[lk]=s),{mapValue:a}}(t,e):n instanceof El?Tk(n,e):n instanceof Tl?Ik(n,e):function(r,s){const a=Ek(r,s),o=yb(a)+yb(r.Ee);return Bg(a)&&Bg(r.Ee)?Sk(o):Im(r.serializer,o)}(n,e)}function c2(n,e,t){return n instanceof El?Tk(n,e):n instanceof Tl?Ik(n,e):t}function Ek(n,e){return n instanceof Il?function(i){return Bg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Cl extends Vh{}class El extends Vh{constructor(e){super(),this.elements=e}}function Tk(n,e){const t=Pk(e);for(const i of n.elements)t.some(r=>wi(r,i))||t.push(i);return{arrayValue:{values:t}}}class Tl extends Vh{constructor(e){super(),this.elements=e}}function Ik(n,e){let t=Pk(e);for(const i of n.elements)t=t.filter(r=>!wi(r,i));return{arrayValue:{values:t}}}class Il extends Vh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function yb(n){return vt(n.integerValue||n.doubleValue)}function Pk(n){return Sm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.field=e,this.transform=t}}function u2(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof El&&r instanceof El||i instanceof Tl&&r instanceof Tl?Ra(i.elements,r.elements,wi):i instanceof Il&&r instanceof Il?wi(i.Ee,r.Ee):i instanceof Cl&&r instanceof Cl}(n.transform,e.transform)}class h2{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zh{}function Nk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pm(n.key,Hn.none()):new Yl(n.key,n.data,Hn.none());{const t=n.data,i=fn.empty();let r=new It(jt.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Wr(n.key,i,new _n(r.toArray()),Hn.none())}}function d2(n,e,t){n instanceof Yl?function(r,s,a){const o=r.value.clone(),l=bb(r.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Wr?function(r,s,a){if(!du(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=bb(r.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Lk(r)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Go(n,e,t,i){return n instanceof Yl?function(s,a,o,l){if(!du(s.precondition,a))return o;const c=s.value.clone(),u=wb(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Wr?function(s,a,o,l){if(!du(s.precondition,a))return o;const c=wb(s.fieldTransforms,l,a),u=a.data;return u.setAll(Lk(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,a,o){return du(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function f2(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Ek(i.transform,r||null);s!=null&&(t===null&&(t=fn.empty()),t.set(i.field,s))}return t||null}function xb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ra(i,r,(s,a)=>u2(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yl extends zh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wr extends zh{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Lk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bb(n,e,t){const i=new Map;We(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,c2(a,o,t[r]))}return i}function wb(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,l2(s,a,e))}return i}class Pm extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&d2(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Go(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Go(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Ak();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const l=Nk(a,o);l!==null&&i.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(_e.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(t,i)=>xb(t,i))&&Ra(this.baseMutations,e.baseMutations,(t,i)=>xb(t,i))}}class Rm{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){We(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return r2}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Rm(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Le;function y2(n){switch(n){case B.OK:return we(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function Mk(n){if(n===void 0)return ji("GRPC error has no .code"),B.UNKNOWN;switch(n){case xt.OK:return B.OK;case xt.CANCELLED:return B.CANCELLED;case xt.UNKNOWN:return B.UNKNOWN;case xt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case xt.INTERNAL:return B.INTERNAL;case xt.UNAVAILABLE:return B.UNAVAILABLE;case xt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case xt.NOT_FOUND:return B.NOT_FOUND;case xt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case xt.ABORTED:return B.ABORTED;case xt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case xt.DATA_LOSS:return B.DATA_LOSS;default:return we(39323,{code:n})}}(Le=xt||(xt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Sr([4294967295,4294967295],0);function _b(n){const e=tk().encode(n),t=new $_;return t.update(e),new Uint8Array(t.digest())}function kb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sr([t,i],0),new Sr([r,s],0)]}class Nm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ro(`Invalid padding: ${t}`);if(i<0)throw new Ro(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Sr.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(Sr.fromNumber(i)));return r.compare(x2)===1&&(r=new Sr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=_b(e),[i,r]=kb(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Nm(s,r,t);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const t=_b(e),[i,r]=kb(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new jh(_e.min(),r,new ht(Ee),Bi(),Re())}}class $l{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $l(i,t,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}}class Ok{constructor(e,t){this.targetId=e,this.De=t}}class Dk{constructor(e,t,i=Xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ab{constructor(){this.ve=0,this.Ce=Sb(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Re(),t=Re(),i=Re();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:we(38017,{changeType:s})}}),new $l(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=Sb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class b2{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=Bc(),this.Je=Bc(),this.He=new ht(Ee)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,r)=>{this.nt(r)&&t(r)})}it(e){const t=e.targetId,i=e.De.count,r=this.st(t);if(r){const s=r.target;if(Ug(s))if(i===0){const a=new ge(s.path);this.Xe(t,a,Jt.newNoDocument(a,_e.min()))}else We(i===1,20013,{expectedCount:i});else{const a=this.ot(t);if(a!==i){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,c)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=Or(i).toUint8Array()}catch(l){if(l instanceof sk)return Nr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Nm(a,r,s)}catch(l){return Nr(l instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&Ug(o.target)){const l=new ge(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Jt.newNoDocument(l,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}});let i=Re();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const r=new jh(e,t,this.He,this.ze,i);return this.ze=Bi(),this.je=Bc(),this.Je=Bc(),this.He=new ht(Ee),r}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Ab,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new It(Ee),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new It(Ee),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Ab),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Bc(){return new ht(ge.comparator)}function Sb(){return new ht(ge.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"};class A2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yg(n,e){return n.useProto3Json||Mh(e)?e:{value:e}}function nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S2(n,e){return nh(n,e.toTimestamp())}function gi(n){return We(!!n,49232),_e.fromTimestamp(function(t){const i=Mr(t);return new rt(i.seconds,i.nanos)}(n))}function Lm(n,e){return $g(n,e).canonicalString()}function $g(n,e){const t=function(r){return new Qe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Vk(n){const e=Qe.fromString(n);return We(Wk(e),10190,{key:e.toString()}),e}function Gg(n,e){return Lm(n.databaseId,e.path)}function hf(n,e){const t=Vk(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(jk(t))}function zk(n,e){return Lm(n.databaseId,e)}function C2(n){const e=Vk(n);return e.length===4?Qe.emptyPath():jk(e)}function qg(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jk(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Cb(n,e,t){return{name:Gg(n,e),fields:t.value.mapValue.fields}}function E2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:we(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),Xt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Xt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?B.UNKNOWN:Mk(c.code);return new ie(u,c.message||"")}(a);t=new Dk(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=hf(n,i.document.name),s=gi(i.document.updateTime),a=i.document.createTime?gi(i.document.createTime):_e.min(),o=new fn({mapValue:{fields:i.document.fields}}),l=Jt.newFoundDocument(r,s,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];t=new fu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=hf(n,i.document),s=i.readTime?gi(i.readTime):_e.min(),a=Jt.newNoDocument(r,s),o=i.removedTargetIds||[];t=new fu([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=hf(n,i.document),s=i.removedTargetIds||[];t=new fu([],s,r,null)}else{if(!("filter"in e))return we(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new v2(r,s),o=i.targetId;t=new Ok(o,a)}}return t}function T2(n,e){let t;if(e instanceof Yl)t={update:Cb(n,e.key,e.value)};else if(e instanceof Pm)t={delete:Gg(n,e.key)};else if(e instanceof Wr)t={update:Cb(n,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof g2))return we(16599,{Rt:e.type});t={verify:Gg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const o=a.transform;if(o instanceof Cl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof El)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Il)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw we(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:S2(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:we(27497)}(n,e.precondition)),t}function I2(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(r,s){let a=r.updateTime?gi(r.updateTime):gi(s);return a.isEqual(_e.min())&&(a=gi(s)),new h2(a,r.transformResults||[])}(t,e))):[]}function P2(n,e){return{documents:[zk(n,e.path)]}}function R2(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=zk(n,r);const s=function(c){if(c.length!==0)return Bk(si.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Xs(d.field),direction:M2(d.dir)}}(u))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=Yg(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:t,parent:r}}function N2(n){let e=C2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){We(i===1,65062);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=Hk(h);return d instanceof si&&pk(d)?d.getFilters():[d]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(d=>function(p){return new Sl(Ys(p.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(t.orderBy));let o=null;t.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Mh(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,g=h.values||[];return new eh(g,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,g=h.values||[];return new eh(g,d)}(t.endAt)),JR(e,r,a,s,o,"F",l,c)}function L2(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Hk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ys(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ys(t.unaryFilter.field);return wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(t.unaryFilter.field);return wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ys(t.unaryFilter.field);return wt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return wt.create(Ys(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return si.create(t.compositeFilter.filters.map(i=>Hk(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function M2(n){return w2[n]}function O2(n){return _2[n]}function D2(n){return k2[n]}function Xs(n){return{fieldPath:n.canonicalString()}}function Ys(n){return jt.fromServerFormat(n.fieldPath)}function Bk(n){return n instanceof wt?function(t){if(t.op==="=="){if(fb(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NAN"}};if(db(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fb(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NAN"}};if(db(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(t.field),op:O2(t.op),value:t.value}}}(n):n instanceof si?function(t){const i=t.getFilters().map(r=>Bk(r));return i.length===1?i[0]:{compositeFilter:{op:D2(t.op),filters:i}}}(n):we(54877,{filter:n})}function F2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t,i,r,s=_e.min(),a=_e.min(),o=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.gt=e}}function z2(n){const e=N2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Dn=new H2}addToCollectionParentIndex(e,t){return this.Dn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Lr.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class H2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new It(Qe.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new It(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uk=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Uk,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ma(0)}static ur(){return new Ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",B2=1048576;function Ib([n,e],[t,i]){const r=Ee(n,t);return r===0?Ee(e,i):r}class W2{constructor(e){this.Tr=e,this.buffer=new It(Ib),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ib(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){le(Tb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qa(t)?le(Tb,"Ignoring IndexedDB error during garbage collection: ",t):await Ga(t)}await this.Rr(3e5)})}}class X2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Lh.ue);const i=new W2(t);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Eb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,o=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),Ws()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}}function Y2(n,e){return new X2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.changes=new Ns(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Go(i.mutation,r,_n.empty(),rt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Re()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Re()){const r=us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=Po();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Re()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,i,r){let s=Bi();const a=$o(),o=function(){return $o()}();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Wr)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Go(u.mutation,c,u.mutation.getFieldMask(),rt.now())):a.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),t.forEach((c,u)=>{var h;return o.set(c,new G2(u,(h=a.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,t){const i=$o();let r=new ht((a,o)=>a-o),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=i.get(l)||_n.empty();u=o.applyToLocalView(c,u),i.set(l,u);const h=(r.get(o.batchId)||Re()).add(l);r=r.insert(o.batchId,h)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=Ak();u.forEach(d=>{if(!s.has(d)){const g=Nk(t.get(d),i.get(d));g!==null&&h.set(d,g),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return X.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):X.resolve(us());let o=wl,l=s;return a.next(c=>X.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(u)?X.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:o,changes:kk(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=Po();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=Po();return this.indexManager.getCollectionParents(e,s).next(o=>X.forEach(o,l=>{const c=function(h,d){return new Rs(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Jt.newInvalidDocument(u)))});let o=Po();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Go(u.mutation,c,_n.empty(),rt.now()),Fh(t,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return X.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(r){return{id:r.id,version:r.version,createTime:gi(r.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(r){return{name:r.name,query:z2(r.bundledQuery),readTime:gi(r.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.overlays=new ht(ge.comparator),this.kr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=us();return X.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.wt(e,t,s)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const r=us(),s=t.length+1,a=new ge(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return X.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ht((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=us(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=r)););return X.resolve(o)}wt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new m2(t,i));let s=this.kr.get(t);s===void 0&&(s=Re(),this.kr.set(t,s)),this.kr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.qr=new It(Nt.Qr),this.$r=new It(Nt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Nt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Nt(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new ge(new Qe([])),i=new Nt(t,e),r=new Nt(t,e+1),s=[];return this.$r.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new Qe([])),i=new Nt(t,e),r=new Nt(t,e+1);let s=Re();return this.$r.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Nt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ee(e.Hr,t.Hr)}static Ur(e,t){return Ee(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new It(Nt.Qr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new p2(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new Nt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,t){return X.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),s=r<0?0:r;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?km:this.er-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nt(t,0),r=new Nt(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],a=>{const o=this.Zr(a.Hr);s.push(o)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(Ee);return t.forEach(r=>{const s=new Nt(r,0),a=new Nt(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{i=i.add(o.Hr)})}),X.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ge.isDocumentKey(s)||(s=s.child(""));const a=new Nt(new ge(s),0);let o=new It(Ee);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(o=o.add(l.Hr)),!0)},a),X.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){We(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return X.forEach(t.mutations,r=>{const s=new Nt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Nt(t,0),r=this.Yr.firstAfterOrEqual(i);return X.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.ni=e,this.docs=function(){return new ht(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let i=Bi();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Jt.newInvalidDocument(r))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Bi();const a=t.path,o=new ge(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||RR(PR(u),i)<=0||(r.has(u.key)||Fh(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,t,i,r){we(9500)}ri(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tN(this)}getSize(e){return X.resolve(this.size)}}class tN extends $2{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.persistence=e,this.ii=new Ns(t=>Cm(t),Em),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.si=0,this.oi=new Mm,this.targetCount=0,this._i=Ma.ar()}forEachTarget(e,t){return this.ii.forEach((i,r)=>t(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),X.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ma(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.hr(t),X.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),X.waitFor(s).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.ai={},this.overlays={},this.ui=new Lh(0),this.ci=!1,this.ci=!0,this.li=new Z2,this.referenceDelegate=e(this),this.hi=new nN(this),this.indexManager=new j2,this.remoteDocumentCache=function(r){return new eN(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new V2(t),this.Ti=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new J2(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new iN(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,t){return X.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class iN extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Ai=new Mm,this.Ri=null}static Vi(e){return new Om(e)}get mi(){if(this.Ri)return this.Ri;throw we(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,i=>{const r=ge.fromPath(i);return this.fi(e,r).next(s=>{s||t.removeEntry(r,_e.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return X.or([()=>X.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.gi=new Ns(i=>DR(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Y2(this,t)}static Vi(e,t){return new ih(e,t)}Ii(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return X.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(s=>s?X.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,a=>this.Sr(e,a,t).next(o=>{o||(i++,s.removeEntry(a,_e.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),X.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uu(e.data.value)),t}Sr(e,t,i){return X.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.gi.get(t);return X.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=Re(),r=Re();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Dm(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return QI()?8:MR(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ps(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new rN;return this.ws(e,t,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)})}).next(()=>s.result)}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(Ws()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ws()<=Pe.DEBUG&&le("QueryEngine","Query:",Us(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Ws()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(t))):X.resolve())}ps(e,t){if(vb(t))return X.resolve(null);let i=fi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=th(t,null,"F"),i=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Re(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.bs(t,o);return this.Ds(t,c,a,l.readTime)?this.ps(e,th(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,i,r){return vb(t)||r.isEqual(_e.min())?X.resolve(null):this.gs.getDocuments(e,i).next(s=>{const a=this.bs(t,s);return this.Ds(t,a,i,r)?X.resolve(null):(Ws()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Us(t)),this.vs(e,a,t,IR(r,wl)).next(o=>o))})}bs(e,t){let i=new It(wk(e));return t.forEach((r,s)=>{Fh(e,s)&&(i=i.add(s))}),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,i){return Ws()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Us(t)),this.gs.getDocumentsMatchingQuery(e,t,Lr.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",aN=3e8;class oN{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ht(Ee),this.Ms=new Ns(s=>Cm(s),Em),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function lN(n,e,t,i){return new oN(n,e,t,i)}async function Yk(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],o=[];let l=Re();for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function cN(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let g=X.resolve();return d.forEach(p=>{g=g.next(()=>u.getEntry(l,p)).next(m=>{const x=c.docVersions.get(p);We(x!==null,48541),m.version.compareTo(x)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Re();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function $k(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function uN(n,e){const t=Ae(n),i=e.snapshotVersion;let r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;const o=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;o.push(t.hi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.hi.addMatchingKeys(s,u.addedDocuments,h)));let g=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Xt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(h,g),function(m,x,v){return m.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=aN?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,g,u)&&o.push(t.hi.updateTargetData(s,g))});let l=Bi(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(hN(s,a,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!i.isEqual(_e.min())){const u=t.hi.getLastRemoteSnapshotVersion(s).next(h=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(u)}return X.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Fs=r,s))}function hN(n,e,t){let i=Re(),r=Re();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=Bi();return t.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(o)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):le(Fm,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:a,ks:r}})}function dN(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=km),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fN(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.hi.getTargetData(i,e).next(s=>s?(r=s,X.resolve(r)):t.hi.allocateTargetId(i).next(a=>(r=new hr(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function Kg(n,e,t){const i=Ae(n),r=i.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!qa(a))throw a;le(Fm,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function Pb(n,e,t){const i=Ae(n);let r=_e.min(),s=Re();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const h=Ae(l),d=h.Ms.get(u);return d!==void 0?X.resolve(h.Fs.get(d)):h.hi.getTargetData(c,u)}(i,a,fi(e)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:_e.min(),t?s:Re())).next(o=>(gN(i,t2(e),o),{documents:o,qs:s})))}function gN(n,e,t){let i=n.xs.get(e)||_e.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.xs.set(e,i)}class Rb{constructor(){this.activeTargetIds=o2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pN{constructor(){this.Fo=new Rb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Rb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="ConnectivityMonitor";class Lb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){le(Nb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){le(Nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Qg(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Zu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,s){const a=Qg(),o=this.Go(e,t.toUriEncodedString());le(df,`Sending RPC '${e}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,r,s);const{host:c}=new URL(o),u=Xa(c);return this.jo(e,o,l,i,u).then(h=>(le(df,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Nr(df,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",i),h})}Jo(e,t,i,r,s,a){return this.Wo(e,t,i,r,s)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Go(e,t){const i=vN[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class bN extends yN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,s){const a=Qg();return new Promise((o,l)=>{const c=new G_;c.setWithCredentials(!0),c.listenOnce(q_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const h=c.getResponseJson();le(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case cu.TIMEOUT:le(Kt,`RPC '${e}' ${a} timed out`),l(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const d=c.getStatus();if(le(Kt,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(p.status);l(new ie(m,p.message))}else l(new ie(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ie(B.UNAVAILABLE,"Connection failed."));break;default:we(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{le(Kt,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(r);le(Kt,`RPC '${e}' ${a} sending request:`,r),c.send(t,"POST",u,i,15)})}P_(e,t,i){const r=Qg(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Z_(),o=Q_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=s.join("");le(Kt,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=a.createWebChannel(u,l);this.T_(h);let d=!1,g=!1;const p=new xN({Ho:x=>{g?le(Kt,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(d||(le(Kt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),le(Kt,`RPC '${e}' stream ${r} sending:`,x),h.send(x))},Yo:()=>h.close()}),m=(x,v,y)=>{x.listen(v,b=>{try{y(b)}catch(C){setTimeout(()=>{throw C},0)}})};return m(h,Io.EventType.OPEN,()=>{g||(le(Kt,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),m(h,Io.EventType.CLOSE,()=>{g||(g=!0,le(Kt,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(h))}),m(h,Io.EventType.ERROR,x=>{g||(g=!0,Nr(Kt,`RPC '${e}' stream ${r} transport errored. Name:`,x.name,"Message:",x.message),p.__(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),m(h,Io.EventType.MESSAGE,x=>{var v;if(!g){const y=x.data[0];We(!!y,16349);const b=y,C=(b==null?void 0:b.error)||((v=b[0])===null||v===void 0?void 0:v.error);if(C){le(Kt,`RPC '${e}' stream ${r} received error:`,C);const S=C.status;let R=function(A){const T=xt[A];if(T!==void 0)return Mk(T)}(S),k=C.message;R===void 0&&(R=B.INTERNAL,k="Unknown error status: "+S+" with message "+C.message),g=!0,p.__(new ie(R,k)),h.close()}else le(Kt,`RPC '${e}' stream ${r} received:`,y),p.a_(y)}}),m(o,K_.STAT_EVENT,x=>{x.stat===zg.PROXY?le(Kt,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===zg.NOPROXY&&le(Kt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){return new A2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="PersistentStream";class qk{constructor(e,t,i,r,s,a,o,l){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Gk(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===t&&this.W_(i,r)},i=>{e(()=>{const r=new ie(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return le(Mb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(le(Mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wN extends qk{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=E2(this.serializer,e),i=function(s){if(!("targetChange"in s))return _e.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?gi(a.readTime):_e.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=qg(this.serializer),t.addTarget=function(s,a){let o;const l=a.target;if(o=Ug(l)?{documents:P2(s,l)}:{query:R2(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Fk(s,a.resumeToken);const c=Yg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(_e.min())>0){o.readTime=nh(s,a.snapshotVersion.toTimestamp());const c=Yg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const i=L2(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=qg(this.serializer),t.removeTarget=e,this.k_(t)}}class _N extends qk{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=I2(e.writeResults,e.commitTime),i=gi(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=qg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>T2(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{}class AN extends kN{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,$g(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(B.UNKNOWN,s.toString())})}Jo(e,t,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,$g(t,i),r,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ie(B.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class SN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ji(t),this._a=!1):le("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class CN{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{Ls(this)&&(le(Ss,"Restarting streams for network reachability change."),await async function(l){const c=Ae(l);c.Ia.add(4),await Gl(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Bh(c)}(this))})}),this.Aa=new SN(i,r)}}async function Bh(n){if(Ls(n))for(const e of n.da)await e(!0)}async function Gl(n){for(const e of n.da)await e(!1)}function Kk(n,e){const t=Ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Hm(t)?jm(t):Ka(t).x_()&&zm(t,e))}function Vm(n,e){const t=Ae(n),i=Ka(t);t.Ta.delete(e),i.x_()&&Qk(t,e),t.Ta.size===0&&(i.x_()?i.B_():Ls(t)&&t.Aa.set("Unknown"))}function zm(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).H_(e)}function Qk(n,e){n.Ra.$e(e),Ka(n).Y_(e)}function jm(n){n.Ra=new b2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.Aa.aa()}function Hm(n){return Ls(n)&&!Ka(n).M_()&&n.Ta.size>0}function Ls(n){return Ae(n).Ia.size===0}function Zk(n){n.Ra=void 0}async function EN(n){n.Aa.set("Online")}async function TN(n){n.Ta.forEach((e,t)=>{zm(n,e)})}async function IN(n,e){Zk(n),Hm(n)?(n.Aa.la(e),jm(n)):n.Aa.set("Unknown")}async function PN(n,e,t){if(n.Aa.set("Online"),e instanceof Dk&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ta.delete(o),r.Ra.removeTarget(o))}(n,e)}catch(i){le(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rh(n,i)}else if(e instanceof fu?n.Ra.Ye(e):e instanceof Ok?n.Ra.it(e):n.Ra.et(e),!t.isEqual(_e.min()))try{const i=await $k(n.localStore);t.compareTo(i)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ta.get(c);u&&s.Ta.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ta.get(l);if(!u)return;s.Ta.set(l,u.withResumeToken(Xt.EMPTY_BYTE_STRING,u.snapshotVersion)),Qk(s,l);const h=new hr(u.target,l,c,u.sequenceNumber);zm(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(i){le(Ss,"Failed to raise snapshot:",i),await rh(n,i)}}async function rh(n,e,t){if(!qa(e))throw e;n.Ia.add(1),await Gl(n),n.Aa.set("Offline"),t||(t=()=>$k(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Ss,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Bh(n)})}function Jk(n,e){return e().catch(t=>rh(n,t,e))}async function Wh(n){const e=Ae(n),t=Fr(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:km;for(;RN(e);)try{const r=await dN(e.localStore,i);if(r===null){e.Pa.length===0&&t.B_();break}i=r.batchId,NN(e,r)}catch(r){await rh(e,r)}eA(e)&&tA(e)}function RN(n){return Ls(n)&&n.Pa.length<10}function NN(n,e){n.Pa.push(e);const t=Fr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function eA(n){return Ls(n)&&!Fr(n).M_()&&n.Pa.length>0}function tA(n){Fr(n).start()}async function LN(n){Fr(n).na()}async function MN(n){const e=Fr(n);for(const t of n.Pa)e.X_(t.mutations)}async function ON(n,e,t){const i=n.Pa.shift(),r=Rm.from(i,e,t);await Jk(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Wh(n)}async function DN(n,e){e&&Fr(n).Z_&&await async function(i,r){if(function(a){return y2(a)&&a!==B.ABORTED}(r.code)){const s=i.Pa.shift();Fr(i).N_(),await Jk(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Wh(i)}}(n,e),eA(n)&&tA(n)}async function Ob(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),le(Ss,"RemoteStore received new credentials");const i=Ls(t);t.Ia.add(3),await Gl(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Bh(t)}async function FN(n,e){const t=Ae(n);e?(t.Ia.delete(2),await Bh(t)):e||(t.Ia.add(2),await Gl(t),t.Aa.set("Unknown"))}function Ka(n){return n.Va||(n.Va=function(t,i,r){const s=Ae(t);return s.ia(),new wN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Zo:EN.bind(null,n),e_:TN.bind(null,n),n_:IN.bind(null,n),J_:PN.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Hm(n)?jm(n):n.Aa.set("Unknown")):(await n.Va.stop(),Zk(n))})),n.Va}function Fr(n){return n.ma||(n.ma=function(t,i,r){const s=Ae(t);return s.ia(),new _N(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:LN.bind(null,n),n_:DN.bind(null,n),ea:MN.bind(null,n),ta:ON.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Wh(n)):(await n.ma.stop(),n.Pa.length>0&&(le(Ss,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new Bm(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(n,e){if(ji("AsyncQueue",`${e}: ${n}`),qa(n))return new ie(B.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Po(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new pa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.fa=new ht(ge.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):we(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Oa{constructor(e,t,i,r,s,a,o,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Oa(e,t,pa.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class zN{constructor(){this.queries=Fb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const r=Ae(t),s=r.queries;r.queries=Fb(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(i)})})(this,new ie(B.ABORTED,"Firestore shutting down"))}}function Fb(){return new Ns(n=>bk(n),Dh)}async function nA(n,e){const t=Ae(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new VN,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await t.onListen(r,!0);break;case 1:s.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=Wm(a,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&Um(t)}async function iA(n,e){const t=Ae(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function jN(n,e){const t=Ae(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(r)&&(i=!0);a.ya=r}}i&&Um(t)}function HN(n,e,t){const i=Ae(n),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(t);i.queries.delete(e)}function Um(n){n.Da.forEach(e=>{e.next()})}var Zg,Vb;(Vb=Zg||(Zg={})).Fa="default",Vb.Cache="cache";class rA{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Oa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class BN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Re(),this.mutatedKeys=Re(),this.Xa=wk(e),this.eu=new pa(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Db,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),g=Fh(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;d&&g?d.data.isEqual(g.data)?p!==m&&(i.track({type:3,doc:g}),x=!0):this.iu(d,g)||(i.track({type:2,doc:g}),x=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(o=!0)):!d&&g?(i.track({type:0,doc:g}),x=!0):d&&!g&&(i.track({type:1,doc:d}),x=!0,(l||c)&&(o=!0)),x&&(g?(a=a.add(g),s=m?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{eu:a,ru:i,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((u,h)=>function(g,p){const m=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{At:x})}};return m(g)-m(p)}(u.type,h.type)||this.Xa(u.doc,h.doc)),this.su(i),r=r!=null&&r;const o=t&&!r?this.ou():[],l=this.Za.size===0&&this.current&&!r?1:0,c=l!==this.Ya;return this.Ya=l,a.length!==0||c?{snapshot:new Oa(this.query,e.eu,s,a,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Db,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Re(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new aA(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new sA(i))}),t}uu(e){this.Ha=e.qs,this.Za=Re();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Oa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Xm="SyncEngine";class WN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UN{constructor(e){this.key=e,this.lu=!1}}class XN{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Ns(o=>bk(o),Dh),this.Tu=new Map,this.Iu=new Set,this.du=new ht(ge.comparator),this.Eu=new Map,this.Au=new Mm,this.Ru={},this.Vu=new Map,this.mu=Ma.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function YN(n,e,t=!0){const i=dA(n);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await oA(i,e,t,!0),r}async function $N(n,e){const t=dA(n);await oA(t,e,!0,!1)}async function oA(n,e,t,i){const r=await fN(n.localStore,fi(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await GN(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&Kk(n.remoteStore,r),o}async function GN(n,e,t,i,r){n.gu=(h,d,g)=>async function(m,x,v,y){let b=x.view.nu(v);b.Ds&&(b=await Pb(m.localStore,x.query,!1).then(({documents:k})=>x.view.nu(k,b)));const C=y&&y.targetChanges.get(x.targetId),S=y&&y.targetMismatches.get(x.targetId)!=null,R=x.view.applyChanges(b,m.isPrimaryClient,C,S);return jb(m,x.targetId,R._u),R.snapshot}(n,h,d,g);const s=await Pb(n.localStore,e,!0),a=new BN(e,s.qs),o=a.nu(s.documents),l=$l.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=a.applyChanges(o,n.isPrimaryClient,l);jb(n,t,c._u);const u=new WN(e,t,a);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot}async function qN(n,e,t){const i=Ae(n),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(a=>!Dh(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Kg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Vm(i.remoteStore,r.targetId),Jg(i,r.targetId)}).catch(Ga)):(Jg(i,r.targetId),await Kg(i.localStore,r.targetId,!0))}async function KN(n,e){const t=Ae(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Vm(t.remoteStore,i.targetId))}async function QN(n,e,t){const i=rL(n);try{const r=await function(a,o){const l=Ae(a),c=rt.now(),u=o.reduce((g,p)=>g.add(p.key),Re());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let p=Bi(),m=Re();return l.Os.getEntries(g,u).next(x=>{p=x,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,p)).next(x=>{h=x;const v=[];for(const y of o){const b=f2(y,h.get(y.key).overlayedDocument);b!=null&&v.push(new Wr(y.key,b,dk(b.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,v,o)}).next(x=>{d=x;const v=x.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(g,x.batchId,v)})}).then(()=>({batchId:d.batchId,changes:kk(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,o,l){let c=a.Ru[a.currentUser.toKey()];c||(c=new ht(Ee)),c=c.insert(o,l),a.Ru[a.currentUser.toKey()]=c}(i,r.batchId,t),await ql(i,r.changes),await Wh(i.remoteStore)}catch(r){const s=Wm(r,"Failed to persist write");t.reject(s)}}async function lA(n,e){const t=Ae(n);try{const i=await uN(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.Eu.get(s);a&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?We(a.lu,14607):r.removedDocuments.size>0&&(We(a.lu,42227),a.lu=!1))}),await ql(t,i,e)}catch(i){await Ga(i)}}function zb(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)}),function(a,o){const l=Ae(a);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.wa)d.va(o)&&(c=!0)}),c&&Um(l)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ZN(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ht(ge.comparator);a=a.insert(s,Jt.newNoDocument(s,_e.min()));const o=Re().add(s),l=new jh(_e.min(),new Map,new ht(Ee),a,o);await lA(i,l),i.du=i.du.remove(s),i.Eu.delete(e),Ym(i)}else await Kg(i.localStore,e,!1).then(()=>Jg(i,e,t)).catch(Ga)}async function JN(n,e){const t=Ae(n),i=e.batch.batchId;try{const r=await cN(t.localStore,e);uA(t,i,null),cA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ql(t,r)}catch(r){await Ga(r)}}async function eL(n,e,t){const i=Ae(n);try{const r=await function(a,o){const l=Ae(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(We(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);uA(i,e,t),cA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ql(i,r)}catch(r){await Ga(r)}}function cA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function uA(n,e,t){const i=Ae(n);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function Jg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||hA(n,i)})}function hA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Vm(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ym(n))}function jb(n,e,t){for(const i of t)i instanceof sA?(n.Au.addReference(i.key,e),tL(n,i)):i instanceof aA?(le(Xm,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||hA(n,i.key)):we(19791,{yu:i})}function tL(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(le(Xm,"New document in limbo: "+t),n.Iu.add(i),Ym(n))}function Ym(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ge(Qe.fromString(e)),i=n.mu.next();n.Eu.set(i,new UN(t)),n.du=n.du.insert(t,i),Kk(n.remoteStore,new hr(fi(Tm(t.path)),i,"TargetPurposeLimboResolution",Lh.ue))}}async function ql(n,e,t){const i=Ae(n),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((o,l)=>{a.push(i.gu(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);const h=Dm.Es(l.targetId,c);s.push(h)}}))}),await Promise.all(a),i.hu.J_(r),await async function(l,c){const u=Ae(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(c,d=>X.forEach(d.Is,g=>u.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>X.forEach(d.ds,g=>u.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!qa(h))throw h;le(Fm,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const g=u.Fs.get(d),p=g.snapshotVersion,m=g.withLastLimboFreeSnapshotVersion(p);u.Fs=u.Fs.insert(d,m)}}}(i.localStore,s))}async function nL(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){le(Xm,"User change. New user:",e.toKey());const i=await Yk(t.localStore,e);t.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new ie(B.CANCELLED,a))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ql(t,i.Bs)}}function iL(n,e){const t=Ae(n),i=t.Eu.get(e);if(i&&i.lu)return Re().add(i.key);{let r=Re();const s=t.Tu.get(e);if(!s)return r;for(const a of s){const o=t.Pu.get(a);r=r.unionWith(o.view.tu)}return r}}function dA(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,e),e.hu.J_=jN.bind(null,e.eventManager),e.hu.pu=HN.bind(null,e.eventManager),e}function rL(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eL.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return lN(this.persistence,new sN,e.initialUser,this.serializer)}Du(e){return new Xk(Om.Vi,this.serializer)}bu(e){return new pN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class sL extends sh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){We(this.persistence.referenceDelegate instanceof ih,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U2(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Xk(i=>ih.Vi(i,t),this.serializer)}}class ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nL.bind(null,this.syncEngine),await FN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zN}()}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),i=function(s){return new bN(s)}(e.databaseInfo);return function(s,a,o,l){return new AN(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,a,o){return new CN(i,r,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>zb(this.syncEngine,t,0),function(){return Lb.C()?new Lb:new mN}())}createSyncEngine(e,t){return function(r,s,a,o,l,c,u){const h=new XN(r,s,a,o,l,c);return u&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Ae(r);le(Ss,"RemoteStore shutting down."),s.Ia.add(5),await Gl(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class aL{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qt.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{le(Vr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(le(Vr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Wm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),le(Vr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Yk(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{Nr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{le("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Nr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=e}async function Hb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await oL(n);le(Vr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Ob(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Ob(e.remoteStore,r)),n._onlineComponents=e}async function oL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Vr,"Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Nr("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new sh)}}else le(Vr,"Using default OfflineComponentProvider"),await gf(n,new sL(void 0));return n._offlineComponents}async function gA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Vr,"Using user provided OnlineComponentProvider"),await Hb(n,n._uninitializedComponentsProvider._online)):(le(Vr,"Using default OnlineComponentProvider"),await Hb(n,new ep))),n._onlineComponents}function lL(n){return gA(n).then(e=>e.syncEngine)}async function pA(n){const e=await gA(n),t=e.eventManager;return t.onListen=YN.bind(null,e.syncEngine),t.onUnlisten=qN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$N.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KN.bind(null,e.syncEngine),t}function cL(n,e,t={}){const i=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new fA({next:d=>{u.Ou(),a.enqueueAndForget(()=>iA(s,h));const g=d.docs.has(o);!g&&d.fromCache?c.reject(new ie(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?c.reject(new ie(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new rA(Tm(o.path),u,{includeMetadataChanges:!0,ka:!0});return nA(s,h)}(await pA(n),n.asyncQueue,e,t,i)),i.promise}function uL(n,e,t={}){const i=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new fA({next:d=>{u.Ou(),a.enqueueAndForget(()=>iA(s,h)),d.fromCache&&l.source==="server"?c.reject(new ie(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new rA(o,u,{includeMetadataChanges:!0,ka:!0});return nA(s,h)}(await pA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",Wb=!0;class Ub{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=Wb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B2)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ER("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kl{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yR;switch(i.type){case"firstParty":return new _R(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Bb.get(t);i&&(le("ComponentProvider","Removing Datastore"),Bb.delete(t),i.terminate())}(this),Promise.resolve()}}function hL(n,e,t,i={}){var r;n=Hi(n,Kl);const s=Xa(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(z_(`https://${l}`),j_("Firestore",!0)),a.host!==vA&&a.host!==l&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:i});if(!_s(c,o)&&(n._setSettings(c),i.mockUserToken)){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=Qt.MOCK_USER;else{u=BI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qt(d)}n._authCredentials=new xR(new ek(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Xl(t,kt._jsonSchema))return new kt(e,i||null,new ge(Qe.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:_t("string",kt._jsonSchemaVersion),referencePath:_t("string")};class Cr extends $i{constructor(e,t,i){super(e,t,Tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ge(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function Ct(n,e,...t){if(n=Pt(n),_m("collection","path",e),n instanceof Kl){const i=Qe.fromString(e,...t);return ib(i),new Cr(n,null,i)}{if(!(n instanceof kt||n instanceof Cr))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qe.fromString(e,...t));return ib(i),new Cr(n.firestore,null,i)}}function dr(n,e){if(n=Hi(n,Kl),_m("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $i(n,null,function(i){return new Rs(Qe.emptyPath(),i)}(e))}function Vt(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=wm.newId()),_m("doc","path",e),n instanceof Kl){const i=Qe.fromString(e,...t);return nb(i),new kt(n,null,new ge(i))}{if(!(n instanceof kt||n instanceof Cr))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qe.fromString(e,...t));return nb(i),new kt(n.firestore,n instanceof Cr?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="AsyncQueue";class Yb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Gk(this,"async_queue_retry"),this.oc=()=>{const i=ff();i&&le(Xb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=ff();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ff();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Li;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qa(e))throw e;le(Xb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,ji("INTERNAL UNHANDLED ERROR: ",$b(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Bm.createAndSchedule(this,e,t,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&we(47125,{hc:$b(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function $b(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ql extends Kl{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Yb,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yb(e),this._firestoreClient=void 0,await e}}}function Gi(n,e){const t=typeof n=="object"?n:U_(),i=typeof n=="string"?n:Zu,r=xm(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=jI("firestore");s&&hL(r,...s)}return r}function Uh(n){if(n._terminated)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dL(n),n._firestoreClient}function dL(n){var e,t,i;const r=n._freezeSettings(),s=function(o,l,c,u){return new zR(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new aL(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Xt.fromBase64String(e))}catch(t){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:_t("string",Dn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:_t("string",pi._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new mi(e.vectorValues);throw new ie(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:_t("string",mi._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=/^__.*__$/;class gL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yl(e,this.data,t,this.fieldTransforms)}}class yA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Wr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ec:n})}}class $m{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new $m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ah(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(xA(this.Ec)&&fL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class pL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hh(e)}Dc(e,t,i,r=!1){return new $m({Ec:e,methodName:t,bc:i,path:jt.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(n){const e=n._freezeSettings(),t=Hh(n._databaseId);return new pL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bA(n,e,t,i,r,s={}){const a=n.Dc(s.merge||s.mergeFields?2:0,e,t,r);Qm("Data must be an object, but it was:",a,i);const o=wA(i,a);let l,c;if(s.merge)l=new _n(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=tp(e,h,t);if(!a.contains(d))throw new ie(B.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);kA(u,d)||u.push(d)}l=new _n(u),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new gL(new fn(o),l,c)}class Yh extends Zl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class qm extends Zl{_toFieldTransform(e){return new Rk(e.path,new Cl)}isEqual(e){return e instanceof qm}}class Km extends Zl{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Il(e.serializer,Ck(e.serializer,this.Cc));return new Rk(e.path,t)}isEqual(e){return e instanceof Km&&this.Cc===e.Cc}}function mL(n,e,t,i){const r=n.Dc(1,e,t);Qm("Data must be an object, but it was:",r,i);const s=[],a=fn.empty();Br(i,(l,c)=>{const u=Zm(e,l,t);c=Pt(c);const h=r.gc(u);if(c instanceof Yh)s.push(u);else{const d=Jl(c,h);d!=null&&(s.push(u),a.set(u,d))}});const o=new _n(s);return new yA(a,o,r.fieldTransforms)}function vL(n,e,t,i,r,s){const a=n.Dc(1,e,t),o=[tp(e,i,t)],l=[r];if(s.length%2!=0)throw new ie(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(tp(e,s[d])),l.push(s[d+1]);const c=[],u=fn.empty();for(let d=o.length-1;d>=0;--d)if(!kA(c,o[d])){const g=o[d];let p=l[d];p=Pt(p);const m=a.gc(g);if(p instanceof Yh)c.push(g);else{const x=Jl(p,m);x!=null&&(c.push(g),u.set(g,x))}}const h=new _n(c);return new yA(u,h,a.fieldTransforms)}function yL(n,e,t,i=!1){return Jl(t,n.Dc(i?4:3,e))}function Jl(n,e){if(_A(n=Pt(n)))return Qm("Unsupported field value:",e,n),wA(n,e);if(n instanceof Zl)return function(i,r){if(!xA(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const o of i){let l=Jl(o,r.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ck(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=rt.fromDate(i);return{timestampValue:nh(r.serializer,s)}}if(i instanceof rt){const s=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nh(r.serializer,s)}}if(i instanceof pi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dn)return{bytesValue:Fk(r.serializer,i._byteString)};if(i instanceof kt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof mi)return function(a,o){return{mapValue:{fields:{[uk]:{stringValue:hk},[Ju]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return Im(o.serializer,c)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${Nh(i)}`)}(n,e)}function wA(n,e){const t={};return rk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(n,(i,r)=>{const s=Jl(r,e.Vc(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function _A(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof pi||n instanceof Dn||n instanceof kt||n instanceof Zl||n instanceof mi)}function Qm(n,e,t){if(!_A(t)||!nk(t)){const i=Nh(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function tp(n,e,t){if((e=Pt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Zm(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const xL=new RegExp("[~\\*/\\[\\]]");function Zm(n,e,t){if(e.search(xL)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xh(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new ie(B.INVALID_ARGUMENT,o+n+l)}function kA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($h("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bL extends AA{data(){return super.data()}}function $h(n,e){return typeof e=="string"?Zm(n,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jm{}class ev extends Jm{}function Ci(n,e,...t){let i=[];e instanceof Jm&&i.push(e),i=i.concat(t),function(s){const a=s.filter(l=>l instanceof tv).length,o=s.filter(l=>l instanceof Gh).length;if(a>1||a>0&&o>0)throw new ie(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Gh extends ev{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gh(e,t,i)}_apply(e){const t=this._parse(e);return SA(e._query,t),new $i(e.firestore,e.converter,Xg(e._query,t))}_parse(e){const t=Gm(e.firestore);return function(s,a,o,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ie(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qb(h,u);const p=[];for(const m of h)p.push(Gb(l,s,m));d={arrayValue:{values:p}}}else d=Gb(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qb(h,u),d=yL(o,a,h,u==="in"||u==="not-in");return wt.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aa(n,e,t){const i=e,r=$h("where",n);return Gh._create(r,i,t)}class tv extends Jm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let a=r;const o=s.getFlattenedFilters();for(const l of o)SA(a,l),a=Xg(a,l)}(e._query,t),new $i(e.firestore,e.converter,Xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nv extends ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nv(e,t)}_apply(e){const t=function(r,s,a){if(r.startAt!==null)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sl(s,a)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new Rs(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function ns(n,e="asc"){const t=e,i=$h("orderBy",n);return nv._create(i,t)}class iv extends ev{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new iv(e,t,i)}_apply(e){return new $i(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}}function np(n){return TR("limit",n),iv._create("limit",n,"F")}function Gb(n,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new ie(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xk(e)&&t.indexOf("/")!==-1)throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qe.fromString(t));if(!ge.isDocumentKey(i))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hb(n,new ge(i))}if(t instanceof kt)return hb(n,t._key);throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(t)}.`)}function qb(n,e){if(!Array.isArray(n)||n.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SA(n,e){const t=function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ie(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _L{convertValue(e,t="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Br(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[Ju].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>vt(a.doubleValue));return new mi(s)}convertGeoPoint(e){return new pi(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Oh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=Mr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qe.fromString(e);We(Wk(i),9688,{name:e});const r=new kl(i.get(1),i.get(3)),s=new ge(i.popFirst(5));return r.isEqual(t)||ji(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class No{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gs extends AA{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=gs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:_t("string",gs._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class gu extends gs{data(e={}){return super.data(e)}}class ma{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new No(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gu(this._firestore,this._userDataWriter,i.key,i,new No(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(o=>{const l=new gu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new No(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new gu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new No(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:kL(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n){n=Hi(n,kt);const e=Hi(n.firestore,Ql);return cL(Uh(e),n._key).then(t=>AL(e,n,t))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:_t("string",ma._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class EA extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function lt(n){n=Hi(n,$i);const e=Hi(n.firestore,Ql),t=Uh(e),i=new EA(e);return wL(n._query),uL(t,n._query).then(r=>new ma(e,i,n,r))}function Mn(n,e,t){n=Hi(n,kt);const i=Hi(n.firestore,Ql),r=CA(n.converter,e,t);return TA(i,[bA(Gm(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Hn.none())])}function TA(n,e){return function(i,r){const s=new Li;return i.asyncQueue.enqueueAndForget(async()=>QN(await lL(i),r,s)),s.promise}(Uh(n),e)}function AL(n,e,t){const i=t.docs.get(e._key),r=new EA(n);return new gs(n,r,e._key,i,new No(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gm(e)}set(e,t,i){this._verifyNotCommitted();const r=pf(e,this._firestore),s=CA(r.converter,t,i),a=bA(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(a.toMutation(r._key,Hn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=pf(e,this._firestore);let a;return a=typeof(t=Pt(t))=="string"||t instanceof Xh?vL(this._dataReader,"WriteBatch.update",s._key,t,i,r):mL(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pf(e,this._firestore);return this._mutations=this._mutations.concat(new Pm(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pf(n,e){if((n=Pt(n)).firestore!==e)throw new ie(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function pu(){return new qm("serverTimestamp")}function Kb(n){return new Km("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){return Uh(n=Hi(n,Ql)),new SL(n,e=>TA(n,e))}(function(e,t=!0){(function(r){$a=r})(Ya),Pa(new ks("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new Ql(new bR(i.getProvider("auth-internal")),new kR(a,i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(c.options.projectId,u)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ar(Qx,Zx,e),Ar(Qx,Zx,"esm2017")})();const ip={"1H":60*60*1e3,"1D":24*60*60*1e3,"7D":7*24*60*60*1e3,"1M":30*24*60*60*1e3,"6M":182*24*60*60*1e3,"1Y":365*24*60*60*1e3,ALL:Number.POSITIVE_INFINITY};function Uc(n){try{if(!n)return 0;if(typeof n.toDate=="function")return n.toDate().getTime();if(typeof n=="number")return n>1e12?n:n*1e3;const e=new Date(n);return Number.isNaN(e.getTime())?0:e.getTime()}catch{return 0}}function vf(n){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Number(n)||0)}catch{return"$"+(Number(n).toFixed?Number(n).toFixed(2):String(n))}}function CL(n){if(!Number.isFinite(n)||n===Number.POSITIVE_INFINITY)return 24*60*60*1e3;const t=Math.ceil(n/400),i=60*1e3,r=60*i,s=24*r,a=7*s;return t<=i?i:t<=15*i?15*i:t<=r?r:t<=6*r?6*r:t<=s?s:t<=a?a:30*s}function rp(n){const e=new Date(n);return e.setHours(0,0,0,0),e.getTime()}function EL(n){const e=new Date(n);return e.setMinutes(0,0,0),e.getTime()}function TL(n){const e=new Date(n),i=(e.getDay()+6)%7;return e.setDate(e.getDate()-i),e.setHours(0,0,0,0),e.getTime()}function IL(n){const e=new Date(n);return e.setDate(1),e.setHours(0,0,0,0),e.getTime()}function PL(n){const e=new Date(n);return e.setMonth(0,1),e.setHours(0,0,0,0),e.getTime()}function Qb(n,e){switch(n){case"1H":return EL(e);case"1D":return rp(e);case"7D":return TL(e);case"1M":return IL(e);case"1Y":return PL(e);case"ALL":return 0;default:{const t=ip[n];return!Number.isFinite(t)||t===Number.POSITIVE_INFINITY?0:e-t}}}function RL(n,e,t){if(!Array.isArray(n)||n.length===0)return n;const i=[...n].sort((d,g)=>d.x-g.x),r=24*60*60*1e3,s=rp(e),a=rp(t),o=[];let l=0,c=i[0]&&Number.isFinite(i[0].y)?i[0].y:0;for(let d=s;d<=a;d+=r){for(;l<i.length&&i[l].x<=d;)c=i[l].y,o.push(i[l]),l++;(o.length===0||o[o.length-1].x!==d)&&o.push({x:d,y:c})}for(;l<i.length;)o.push(i[l++]);const u=new Set,h=[];for(const d of o)u.has(d.x)||(u.add(d.x),h.push(d));return h.sort((d,g)=>d.x-g.x)}function NL(){const n=J.useMemo(()=>Gi(bi),[]),[e,t]=J.useState("1M"),[i,r]=J.useState([]),[s,a]=J.useState([Qb("1M",Date.now()),Date.now()]),[o,l]=J.useState([0,void 0]),[c,u]=J.useState(0),[h,d]=J.useState(!1);return J.useEffect(()=>{async function g(){d(!0);try{const p=new Map,m=new Map;let x=0;(await lt(dr(n,"Cards"))).forEach(Z=>{const te=Z.data()||{},Se=Z.ref.path.split("/");if(Se.length>=6&&Se[0]==="Pokemon Packs"){const Ye=Se[2],je=Se[3],Ze=Number(te.Number||0),cn=String(te.Printing||"").trim().toLowerCase(),Yr=Ye+" / "+je+"|"+Ze+"|"+cn,Os=Number(te.Cost||0)||0,rc=Number(te["Amount Owned"]||0)||0;p.set(Yr,Os),Number.isFinite(Os)&&Number.isFinite(rc)&&(x+=Os*rc)}}),(await lt(dr(n,"Sealed"))).forEach(Z=>{const te=Z.data()||{},Se=Z.id,Ye=Number(te.Cost||0)||0,je=Number(te["Amount Owned"]||0)||0;m.set(Se,Ye),Number.isFinite(Ye)&&Number.isFinite(je)&&(x+=Ye*je)}),u(x);const[b,C]=await Promise.all([lt(Ci(Ct(n,"CardLogs"),ns("time","desc"),np(1))),lt(Ci(Ct(n,"SealedLogs"),ns("time","desc"),np(1)))]);let S=0;b&&!b.empty&&b.forEach(Z=>{const te=Uc((Z.data()||{}).time);Number.isFinite(te)&&(S=Math.max(S,te))});let R=0;C&&!C.empty&&C.forEach(Z=>{const te=Uc((Z.data()||{}).time);Number.isFinite(te)&&(R=Math.max(R,te))});const k=Math.max(S,R,Date.now()),w=ip[e],A=w===Number.POSITIVE_INFINITY?0:Qb(e,k),T=new Date(A),P=new Date(k);let L,N;Number.isFinite(A)&&w!==Number.POSITIVE_INFINITY?(L=Ci(Ct(n,"CardLogs"),aa("time",">=",T),aa("time","<=",P),ns("time","asc")),N=Ci(Ct(n,"SealedLogs"),aa("time",">=",T),aa("time","<=",P),ns("time","asc"))):(L=Ci(Ct(n,"CardLogs"),ns("time","asc")),N=Ci(Ct(n,"SealedLogs"),ns("time","asc")));const[V,H]=await Promise.all([lt(L),lt(N)]),W=[];V&&V.forEach(Z=>{const te=Z.data()||{},Se=Uc(te.time);if(Array.isArray(te.items))for(const Ye of te.items){const je=String(Ye.set||"")+"|"+Number(Ye.number||0)+"|"+String(Ye.print||"").trim().toLowerCase(),Ze=p.get(je)||0,cn=Number(Ye.amount||0)||0;if(!Number.isFinite(Se))continue;const Yr=Ze*cn;Yr!==0&&W.push({t:Se,v:Yr})}else{const Ye=String(te.set||"")+"|"+Number(te.number||0)+"|"+String(te.print||"").trim().toLowerCase(),je=p.get(Ye)||0,Ze=Number(te.amount||0)||0;if(!Number.isFinite(Se))return;const cn=je*Ze;cn!==0&&W.push({t:Se,v:cn})}}),H&&H.forEach(Z=>{const te=Z.data()||{},Se=Uc(te.time);if(Array.isArray(te.items))for(const Ye of te.items){const je=m.get(String(Ye.sealedName||""))||0,Ze=Number(Ye.amount||0)||0;if(!Number.isFinite(Se))continue;const cn=je*Ze;cn!==0&&W.push({t:Se,v:cn})}else{const Ye=m.get(String(te.sealedName||""))||0,je=Number(te.amount||0)||0;if(!Number.isFinite(Se))return;const Ze=Ye*je;Ze!==0&&W.push({t:Se,v:Ze})}});const q=w===Number.POSITIVE_INFINITY?0:A,F=new Map;for(const Z of W)Number.isFinite(q)&&w!==Number.POSITIVE_INFINITY&&Z.t<A||F.set(Z.t,(F.get(Z.t)||0)+Z.v);const Y=CL(w===Number.POSITIVE_INFINITY?W.length?k-Math.min(...W.map(Z=>Z.t)):365*24*60*60*1e3:k-A),G=Z=>Math.floor(Z/Y)*Y,ee=new Map;Array.from(F.entries()).sort((Z,te)=>Z[0]-te[0]).forEach(([Z,te])=>{const Se=G(Z);ee.set(Se,(ee.get(Se)||0)+te)});const oe=Array.from(ee.keys()).sort((Z,te)=>Z-te),ye=W.reduce((Z,te)=>Z+te.v,0),he=Math.max(0,Number.isFinite(c)?c-ye:0);let Ne=Math.max(0,he);const pe=oe.map(Z=>(Ne+=ee.get(Z)||0,Math.max(0,Ne))),me=oe.length>0?oe:[w===Number.POSITIVE_INFINITY?W.length?Math.min(...W.map(Z=>Z.t)):k-365*24*60*60*1e3:A,k],Te=oe.length>0?pe:[he,c||he],Ve=w===Number.POSITIVE_INFINITY?me[0]:A,He=me.map((Z,te)=>({x:Z,y:Te[te]})),qe=[{x:Ve,y:he},...He,{x:k,y:c||he}].sort((Z,te)=>Z.x-te.x),yn=24*60*60*1e3,tt=w>=yn||w===Number.POSITIVE_INFINITY?RL(qe,Ve,k):qe;r(tt),a([Ve,k]);const Rt=tt.filter(Z=>Z.x>=Ve&&Z.x<=k),Un=Rt.length?Rt.map(Z=>Number(Z.y)||0):[0,Number(c)||0];let $=Math.min(...Un),re=Math.max(...Un);Number.isFinite($)||($=0),Number.isFinite(re)||(re=Number(c)||0);const ke=Math.max(1e-6,re-$),xe=Math.max(ke*.05,1),fe=Math.max(0,$-xe),ue=re+xe;l([fe,ue])}finally{d(!1)}}g()},[n,e,c]),I.jsxs("div",{className:"card",id:"statsCostCard",children:[I.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[I.jsx("div",{className:"small muted",children:"Total Collection Cost Over Time"}),I.jsx("div",{className:"tabs small",children:Object.keys(ip).map(g=>I.jsx("button",{className:"tab-btn"+(g===e?" active":""),onClick:()=>t(g),children:g},g))})]}),I.jsx("div",{style:{height:320,width:"100%",overflow:"hidden"},children:h?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx(N_,{type:"line",height:320,series:[{name:"Total Cost",data:i}],options:{chart:{animations:{enabled:!1},toolbar:{show:!1},parentHeightOffset:0},stroke:{width:2,curve:"straight"},dataLabels:{enabled:!1},xaxis:{type:"datetime",min:s[0],max:s[1],tickAmount:8,crosshairs:{show:!1},tooltip:{enabled:!1}},yaxis:{min:o[0],max:o[1],labels:{formatter:g=>vf(g)}},grid:{show:!0,strokeDashArray:3},tooltip:{x:{formatter:g=>new Date(g).toLocaleString()},y:{formatter:g=>vf(g)},shared:!1,fixed:{enabled:!1}},markers:{size:2}}})}),I.jsxs("div",{className:"small muted",style:{marginTop:6},children:["Current total: ",vf(c),"  Points: ",i.length]})]})}function rv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function IA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LL=IA,PA=new Wl("auth","Firebase",IA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new vm("@firebase/auth");function ML(n,...e){oh.logLevel<=Pe.WARN&&oh.warn(`Auth (${Ya}): ${n}`,...e)}function mu(n,...e){oh.logLevel<=Pe.ERROR&&oh.error(`Auth (${Ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...e){throw sv(n,...e)}function vi(n,...e){return sv(n,...e)}function RA(n,e,t){const i=Object.assign(Object.assign({},LL()),{[e]:t});return new Wl("auth","Firebase",i).create(e,{appName:n.name})}function Mi(n){return RA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return PA.create(n,...e)}function be(n,e,...t){if(!n)throw sv(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mu(e),new Error(e)}function Wi(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OL(){return Zb()==="http:"||Zb()==="https:"}function Zb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OL()||GI()||"connection"in navigator)?navigator.onLine:!0}function FL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=XI()||qI()}get(){return DL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(n,e){Wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jL=new ec(3e4,6e4);function Ur(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xr(n,e,t,i,r={}){return LA(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=Ul(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return $I()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&Xa(n.emulatorConfig.host)&&(c.credentials="include"),NA.fetch()(await MA(n,n.config.apiHost,t,o),c)})}async function LA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},VL),e);try{const r=new BL(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Xc(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Xc(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw Xc(n,"user-disabled",a);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RA(n,u,c);ai(n,u)}}catch(r){if(r instanceof Yi)throw r;ai(n,"network-request-failed",{message:String(r)})}}async function tc(n,e,t,i,r={}){const s=await Xr(n,e,t,i,r);return"mfaPendingCredential"in s&&ai(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function MA(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?av(n.config,r):`${n.config.apiScheme}://${r}`;return zL.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function HL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(vi(this.auth,"network-request-failed")),jL.get())})}}function Xc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=vi(n,e,i);return r.customData._tokenResponse=t,r}function Jb(n){return n!==void 0&&n.enterprise!==void 0}class WL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UL(n,e){return Xr(n,"GET","/v2/recaptchaConfig",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(n,e){return Xr(n,"POST","/v1/accounts:delete",e)}async function lh(n,e){return Xr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YL(n,e=!1){const t=Pt(n),i=await t.getIdToken(e),r=ov(i);be(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:qo(yf(r.auth_time)),issuedAtTime:qo(yf(r.iat)),expirationTime:qo(yf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yf(n){return Number(n)*1e3}function ov(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return mu("JWT malformed, contained fewer than 3 sections"),null;try{const r=O_(t);return r?JSON.parse(r):(mu("Failed to decode base64 JWT payload"),null)}catch(r){return mu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function e0(n){const e=ov(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Yi&&$L(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $L({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Pl(n,lh(t,{idToken:i}));be(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OA(s.providerUserInfo):[],o=KL(n.providerData,a),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ap(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function qL(n){const e=Pt(n);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function OA(n){return n.map(e=>{var{providerId:t}=e,i=rv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,e){const t=await LA(n,{},async()=>{const i=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await MA(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return n.emulatorConfig&&Xa(n.emulatorConfig.host)&&(l.credentials="include"),NA.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZL(n,e){return Xr(n,"POST","/v2/accounts:revokeToken",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=e0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await QL(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new va;return i&&(be(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(be(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(be(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ap(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YL(this,e)}reload(){return qL(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await Pl(this,XL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,l,c,u;const h=(i=t.displayName)!==null&&i!==void 0?i:void 0,d=(r=t.email)!==null&&r!==void 0?r:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,p=(a=t.photoURL)!==null&&a!==void 0?a:void 0,m=(o=t.tenantId)!==null&&o!==void 0?o:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=t.createdAt)!==null&&c!==void 0?c:void 0,y=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:C,isAnonymous:S,providerData:R,stsTokenManager:k}=t;be(b&&k,e,"internal-error");const w=va.fromJSON(this.name,k);be(typeof b=="string",e,"internal-error"),Ji(h,e.name),Ji(d,e.name),be(typeof C=="boolean",e,"internal-error"),be(typeof S=="boolean",e,"internal-error"),Ji(g,e.name),Ji(p,e.name),Ji(m,e.name),Ji(x,e.name),Ji(v,e.name),Ji(y,e.name);const A=new ei({uid:b,auth:e,email:d,emailVerified:C,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:g,tenantId:m,stsTokenManager:w,createdAt:v,lastLoginAt:y});return R&&Array.isArray(R)&&(A.providerData=R.map(T=>Object.assign({},T))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,t,i=!1){const r=new va;r.updateFromServerResponse(t);const s=new ei({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ch(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];be(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?OA(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new va;o.updateFromIdToken(i);const l=new ei({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ap(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function Ri(n){Wi(n instanceof Function,"Expected a class definition");let e=t0.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,t0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DA.type="NONE";const n0=DA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n,e,t){return`firebase:${n}:${e}:${t}`}class ya{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=vu(this.userKey,r.apiKey,s),this.fullPersistenceKey=vu("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lh(this.auth,{idToken:e}).catch(()=>{});return t?ei._fromGetAccountInfoResponse(this.auth,t,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ya(Ri(n0),e,i);const r=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Ri(n0);const a=vu(i,e.config.apiKey,e.name);let o=null;for(const c of t)try{const u=await c._get(a);if(u){let h;if(typeof u=="string"){const d=await lh(e,{idToken:u}).catch(()=>{});if(!d)break;h=await ei._fromGetAccountInfoResponse(e,d,u)}else h=ei._fromJSON(e,u);c!==s&&(o=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ya(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new ya(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BA(e))return"Blackberry";if(WA(e))return"Webos";if(VA(e))return"Safari";if((e.includes("chrome/")||zA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function FA(n=tn()){return/firefox\//i.test(n)}function VA(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zA(n=tn()){return/crios\//i.test(n)}function jA(n=tn()){return/iemobile/i.test(n)}function HA(n=tn()){return/android/i.test(n)}function BA(n=tn()){return/blackberry/i.test(n)}function WA(n=tn()){return/webos/i.test(n)}function lv(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JL(n=tn()){var e;return lv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eM(){return KI()&&document.documentMode===10}function UA(n=tn()){return lv(n)||HA(n)||WA(n)||BA(n)||/windows phone/i.test(n)||jA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n,e=[]){let t;switch(n){case"Browser":t=i0(tn());break;case"Worker":t=`${i0(tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(n,e={}){return Xr(n,"GET","/v2/passwordPolicy",Ur(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=6;class rM{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:iM,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new tM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lh(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(On(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Mi(this));const t=e?Pt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nM(this),t=new rM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ML(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ms(n){return Pt(n)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=rP(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aM(n){qh=n}function YA(n){return qh.loadJS(n)}function oM(){return qh.recaptchaEnterpriseScript}function lM(){return qh.gapiScript}function cM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uM{constructor(){this.enterprise=new hM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dM="recaptcha-enterprise",$A="NO_RECAPTCHA";class fM{constructor(e){this.type=dM,this.auth=Ms(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{UL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new WL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function r(s,a,o){const l=window.grecaptcha;Jb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a($A)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uM().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(o=>{if(!t&&Jb(window.grecaptcha))r(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oM();l.length!==0&&(l+=o),YA(l).then(()=>{r(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function s0(n,e,t,i=!1,r=!1){const s=new fM(n);let a;if(r)a=$A;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const o=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function op(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await s0(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await s0(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n,e){const t=xm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(_s(s,e??{}))return r;ai(r,"already-initialized")}return t.initialize({options:e})}function pM(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ri);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function mM(n,e,t){const i=Ms(n);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=GA(e),{host:a,port:o}=vM(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(_s(c,i.config.emulator)&&_s(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Xa(a)?(z_(`${s}//${a}${l}`),j_("Auth",!0)):yM()}function GA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vM(n){const e=GA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:a0(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:a0(a)}}}function a0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function xM(n,e){return Xr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,e){return tc(n,"POST","/v1/accounts:signInWithPassword",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,e))}async function _M(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends cv{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Rl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,t,"signInWithPassword",bM);case"emailLink":return wM(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,i,"signUpPassword",xM);case"emailLink":return _M(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(n,e){return tc(n,"POST","/v1/accounts:signInWithIdp",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="http://localhost";class Cs extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=rv(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Cs(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return xa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xa(e,t)}buildRequest(){const e={requestUri:kM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ul(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SM(n){const e=Eo(To(n)).link,t=e?Eo(To(e)).deep_link_id:null,i=Eo(To(n)).deep_link_id;return(i?Eo(To(i)).link:null)||i||t||e||n}class uv{constructor(e){var t,i,r,s,a,o;const l=Eo(To(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=AM((r=l.mode)!==null&&r!==void 0?r:null);be(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=SM(e);try{return new uv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,t){return Rl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=uv.parseLink(t);return be(i,"argument-error"),Rl._fromEmailAndCode(e,i.code,i.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends qA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends nc{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cs._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ar.credential(t,i)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends nc{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends nc{constructor(){super("twitter.com")}static credential(e,t){return Cs._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return lr.credential(t,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(n,e){return tc(n,"POST","/v1/accounts:signUp",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await ei._fromIdTokenResponse(e,i,r),a=o0(i);return new Es({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=o0(i);return new Es({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function o0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Yi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new uh(e,t,i,r)}}function KA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(n,s,e,i):s})}async function EM(n,e,t=!1){const i=await Pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Es._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,e,t=!1){const{auth:i}=n;if(On(i.app))return Promise.reject(Mi(i));const r="reauthenticate";try{const s=await Pl(n,KA(i,r,e,n),t);be(s.idToken,i,"internal-error");const a=ov(s.idToken);be(a,i,"internal-error");const{sub:o}=a;return be(n.uid===o,i,"user-mismatch"),Es._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ai(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n,e,t=!1){if(On(n.app))return Promise.reject(Mi(n));const i="signIn",r=await KA(n,i,e),s=await Es._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function IM(n,e){return QA(Ms(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(n){const e=Ms(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PM(n,e,t){if(On(n.app))return Promise.reject(Mi(n));const i=Ms(n),a=await op(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ZA(n),l}),o=await Es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function RM(n,e,t){return On(n.app)?Promise.reject(Mi(n)):IM(Pt(n),Qa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ZA(n),i})}function NM(n,e,t,i){return Pt(n).onIdTokenChanged(e,t,i)}function LM(n,e,t){return Pt(n).beforeAuthStateChanged(e,t)}function MM(n,e,t,i){return Pt(n).onAuthStateChanged(e,t,i)}function OM(n){return Pt(n).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=1e3,FM=10;class eS extends JA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);eM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,FM):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},DM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const VM=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends JA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Kh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async c=>c(t.origin,s)),l=await zM(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=hv("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function HM(n){yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function BM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UM(){return iS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebaseLocalStorageDb",XM=1,dh="firebaseLocalStorage",sS="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(n,e){return n.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function YM(){const n=indexedDB.deleteDatabase(rS);return new ic(n).toPromise()}function lp(){const n=indexedDB.open(rS,XM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(dh,{keyPath:sS})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(dh)?e(i):(i.close(),await YM(),e(await lp()))})})}async function l0(n,e,t){const i=Qh(n,!0).put({[sS]:e,value:t});return new ic(i).toPromise()}async function $M(n,e){const t=Qh(n,!1).get(e),i=await new ic(t).toPromise();return i===void 0?null:i.value}function c0(n,e){const t=Qh(n,!0).delete(e);return new ic(t).toPromise()}const GM=800,qM=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>qM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(UM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await BM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await l0(e,hh,"1"),await c0(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>l0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>$M(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>c0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Qh(r,!1).getAll();return new ic(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const KM=aS;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n,e){return e?Ri(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZM(n){return QA(n.auth,new dv(n),n.bypassAuthState)}function JM(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),TM(t,new dv(n),n.bypassAuthState)}async function eO(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),EM(t,new dv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZM;case"linkViaPopup":case"linkViaRedirect":return eO;case"reauthViaPopup":case"reauthViaRedirect":return JM;default:ai(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new ec(2e3,1e4);class oa extends oS{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tO.get())};e()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="pendingRedirect",yu=new Map;class iO extends oS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const i=await rO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rO(n,e){const t=oO(e),i=aO(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function sO(n,e){yu.set(n._key(),e)}function aO(n){return Ri(n._redirectPersistence)}function oO(n){return vu(nO,n.config.apiKey,n.name)}async function lO(n,e,t=!1){if(On(n.app))return Promise.reject(Mi(n));const i=Ms(n),r=QM(i,e),a=await new iO(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=10*60*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!lS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cO&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(n,e={}){return Xr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function pO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dO(n);for(const t of e)try{if(mO(t))return}catch{}ai(n,"unauthorized-domain")}function mO(n){const e=sp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!gO.test(t))return!1;if(fO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new ec(3e4,6e4);function h0(){const n=yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yO(n){return new Promise((e,t)=>{var i,r,s;function a(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),t(vi(n,"network-request-failed"))},timeout:vO.get()})}if(!((r=(i=yi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=yi().gapi)===null||s===void 0)&&s.load)a();else{const o=cM("iframefcb");return yi()[o]=()=>{gapi.load?a():t(vi(n,"network-request-failed"))},YA(`${lM()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw xu=null,e})}let xu=null;function xO(n){return xu=xu||yO(n),xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new ec(5e3,15e3),wO="__/auth/iframe",_O="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SO(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?av(e,_O):`https://${n.config.authDomain}/${wO}`,i={apiKey:e.apiKey,appName:n.name,v:Ya},r=AO.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ul(i).slice(1)}`}async function CO(n){const e=await xO(n),t=yi().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:SO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=vi(n,"network-request-failed"),o=yi().setTimeout(()=>{s(a)},bO.get());function l(){yi().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TO=500,IO=600,PO="_blank",RO="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(n,e,t,i=TO,r=IO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},EO),{width:i.toString(),height:r.toString(),top:s,left:a}),c=tn().toLowerCase();t&&(o=zA(c)?PO:t),FA(c)&&(e=e||RO,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[g,p])=>`${d}${g}=${p},`,"");if(JL(c)&&o!=="_self")return LO(e||"",o),new d0(null);const h=window.open(e||"",o,u);be(h,n,"popup-blocked");try{h.focus()}catch{}return new d0(h)}function LO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="__/auth/handler",OO="emulator/auth/handler",DO=encodeURIComponent("fac");async function f0(n,e,t,i,r,s){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ya,eventId:r};if(e instanceof qA){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",iP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))a[u]=h}if(e instanceof nc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(a.scopes=u.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await n._getAppCheckToken(),c=l?`#${DO}=${encodeURIComponent(l)}`:"";return`${FO(n)}?${Ul(o).slice(1)}${c}`}function FO({config:n}){return n.emulator?av(n,OO):`https://${n.authDomain}/${MO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="webStorageSupport";class VO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=lO,this._overrideRedirectResult=sO}async _openPopup(e,t,i,r){var s;Wi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await f0(e,t,i,sp(),r);return NO(e,a,hv())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await f0(e,t,i,sp(),r);return HM(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Wi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await CO(e),i=new uO(e);return t.register("authEvent",r=>(be(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xf,{type:xf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[xf];a!==void 0&&t(!!a),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UA()||VA()||lv()}}const zO=VO;var g0="@firebase/auth",p0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BO(n){Pa(new ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XA(n)},c=new sM(i,r,s,l);return pM(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Pa(new ks("auth-internal",e=>{const t=Ms(e.getProvider("auth").getImmediate());return(i=>new jO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(g0,p0,HO(n)),Ar(g0,p0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=5*60,UO=V_("authIdTokenMaxAge")||WO;let m0=null;const XO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>UO)return;const r=t==null?void 0:t.token;m0!==r&&(m0=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function YO(n=U_()){const e=xm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gM(n,{popupRedirectResolver:zO,persistence:[KM,VM,nS]}),i=V_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=XO(s.toString());LM(t,a,()=>a(t.currentUser)),NM(t,o=>a(o))}}const r=D_("auth");return r&&mM(t,`http://${r}`),t}function $O(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=vi("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",$O().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BO("Browser");const cS=J.createContext(null);function v0(n){const e=String(n||"").trim();return e?e.includes("@")?e.toLowerCase():e.toLowerCase()+"@example.com":""}async function y0(){try{const e=await(await fetch("https://api.ipify.org?format=json")).json();return e&&e.ip||""}catch{return""}}function GO({children:n}){const e=J.useMemo(()=>YO(bi),[]),t=J.useMemo(()=>Gi(bi),[]),[i,r]=J.useState(null),[s,a]=J.useState(null),[o,l]=J.useState(!0);J.useEffect(()=>MM(e,async g=>{if(r(g),g)try{const p=Vt(t,"Users",g.uid),m=await Da(p),x=m.exists()?m.data()||{}:{},v=await y0(),y={...x,lastVisit:pu(),username:x.username||(g.email?String(g.email).split("@")[0]:""),ip:v||x.ip||""};await Mn(p,y,{merge:!0}),a(y)}catch{a(null)}else a(null);l(!1)}),[e,t]);const c=J.useCallback(async(g,p)=>{await RM(e,v0(g),p)},[e]),u=J.useCallback(async(g,p)=>{const m=String(g||"").trim(),x=v0(m),v=x.split("@")[0];if(!x)throw new Error("Enter a username or email.");const y=await PM(e,x,p),b=Vt(t,"Users",y.user.uid);await Mn(b,{username:v,ip:await y0(),lastVisit:pu(),canEdit:!1,createdAt:pu()},{merge:!0})},[e,t]),h=J.useCallback(async()=>{await OM(e)},[e]),d=J.useMemo(()=>({user:i,profile:s,loading:o,canEdit:!!(s&&s.canEdit===!0),signIn:c,signUp:u,signOut:h}),[i,s,o,c,u,h]);return I.jsx(cS.Provider,{value:d,children:n})}function fv(){const n=J.useContext(cS);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function qO({lang:n,cat:e,setName:t}){const i=J.useMemo(()=>Gi(bi),[]),[r,s]=J.useState([]),[a,o]=J.useState(!1);return J.useEffect(()=>{if(!n||!e||!t){s([]);return}async function l(){o(!0);try{const c=await lt(Ct(i,"Pokemon Packs",n,e,t,"Cards")),u=[];c.forEach(h=>u.push({id:h.id,data:h.data()||{}})),u.sort((h,d)=>{const g=Number(h.data.Number||0),p=Number(d.data.Number||0);return Number.isFinite(g)&&Number.isFinite(p)&&g!==p?g-p:String(h.id||"").localeCompare(String(d.id||""))}),s(u)}finally{o(!1)}}l()},[i,n,e,t]),!n||!e||!t?I.jsx("div",{className:"small muted",children:"Select a set."}):a?I.jsx("div",{className:"small muted",children:"Loading"}):r.length===0?I.jsx("div",{className:"small muted",children:"No cards."}):I.jsx("div",{style:{overflow:"auto"},children:I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"#"}),I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Printing"}),I.jsx("th",{children:"Owned"}),I.jsx("th",{children:"Cost"}),I.jsx("th",{children:"Location"})]})}),I.jsx("tbody",{children:r.map(l=>{const c=l.data||{},u=c.Name||l.id,h=c["Picture Link"]||c.Image||"";return I.jsxs("tr",{children:[I.jsx("td",{children:Number.isFinite(c.Number)?c.Number:c.Number||""}),I.jsxs("td",{children:[I.jsx("div",{className:"thumb-wrap",children:h?I.jsx("img",{className:"card-thumb",src:h,alt:""}):null}),u]}),I.jsx("td",{children:c.Printing||""}),I.jsx("td",{children:Number.isFinite(c["Amount Owned"])?c["Amount Owned"]:c["Amount Owned"]||0}),I.jsx("td",{children:Number.isFinite(c.Cost)?c.Cost:c.Cost||0}),I.jsx("td",{children:c.Location||""})]},l.id)})})]})})}function KO({lang:n,cat:e,setName:t}){const i=J.useMemo(()=>Gi(bi),[]),[r,s]=J.useState([]),[a,o]=J.useState(!1);return J.useEffect(()=>{if(!n||!e||!t){s([]);return}async function l(){o(!0);try{const c=await lt(Ct(i,"Pokemon Packs",n,e,t,"Sealed")),u=[];c.forEach(h=>u.push({id:h.id,data:h.data()||{}})),u.sort((h,d)=>String(h.id||"").localeCompare(String(d.id||""))),s(u)}finally{o(!1)}}l()},[i,n,e,t]),!n||!e||!t?I.jsx("div",{className:"small muted",children:"Select a set."}):a?I.jsx("div",{className:"small muted",children:"Loading"}):r.length===0?I.jsx("div",{className:"small muted",children:"No sealed items."}):I.jsx("div",{style:{overflow:"auto"},children:I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Owned"}),I.jsx("th",{children:"Cost"}),I.jsx("th",{children:"Location"})]})}),I.jsx("tbody",{children:r.map(l=>{const c=l.data||{};return I.jsxs("tr",{children:[I.jsxs("td",{children:[I.jsx("div",{className:"thumb-wrap",children:c.Image||c["Picture Link"]?I.jsx("img",{className:"card-thumb",src:c.Image||c["Picture Link"],alt:""}):null}),l.id]}),I.jsx("td",{children:Number.isFinite(c["Amount Owned"])?c["Amount Owned"]:c["Amount Owned"]||0}),I.jsx("td",{children:Number.isFinite(c.Cost)?c.Cost:c.Cost||0}),I.jsx("td",{children:c.Location||""})]},l.id)})})]})})}function QO({open:n,onClose:e,lang:t,cat:i,setName:r,defaultView:s="Cards",onApplied:a}){const o=J.useMemo(()=>Gi(bi),[]),[l,c]=J.useState(s),[u,h]=J.useState([{id:1,amount:"1"}]),[d,g]=J.useState({byNumPrint:new Map,byNum:new Map,docName:new Map}),[p,m]=J.useState([]);J.useEffect(()=>{n&&c(s)},[n,s]),J.useEffect(()=>{if(n)if(l==="Cards"){const b=Array.from({length:10},(C,S)=>({id:S+1,amount:"1"}));h(b)}else h([{id:1,amount:"1"}])},[n,l]),J.useEffect(()=>{async function b(){if(!(!n||!t||!i||!r)){try{const C=await lt(Ct(o,"Pokemon Packs",t,i,r,"Cards")),S=new Map,R=new Map,k=new Map;C.forEach(w=>{const A=w.data()||{},T=Number.parseInt(String(A.Number??0),10)||0,P=x(String(A.Printing||"Normal")),L=String(A.Name||w.id||"");if(T>0){S.set(`${T}|${P}`,w.id);const N=R.get(T)||[];N.push(w.id),R.set(T,N)}w.id&&k.set(w.id,L)}),g({byNumPrint:S,byNum:R,docName:k})}catch{}try{const C=await lt(Ct(o,"Pokemon Packs",t,i,r,"Sealed")),S=[];C.forEach(R=>{R.id.startsWith("_")||S.push(R.id)}),S.sort((R,k)=>R.localeCompare(k)),m(S)}catch{}}}b()},[n,o,t,i,r]);const x=b=>{const C=String(b||"").toLowerCase();return C.includes("reverse")?"reverse":C.includes("holo")?"holo":"normal"},v=(b,C)=>h(S=>S.map(R=>R.id===b?{...R,...C}:R));async function y(){if(!t||!i||!r){alert("Select a set first.");return}const b=u.map(A=>l==="Cards"?{type:"card",number:Number.parseInt(String(A.number||"").trim(),10)||0,print:String(A.print||"Normal").trim(),amount:Number.parseInt(String(A.amount??"1").trim(),10)||1,location:String(A.location||"").trim()}:{type:"sealed",sealedName:String(A.sealedName||"").trim(),amount:Number.parseInt(String(A.amount??"1").trim(),10)||1,location:String(A.location||"").trim()}).filter(A=>A.type==="card"?A.number>0:A.sealedName);if(b.length===0){alert("Add at least one row.");return}const C=mf(o),S=[];let R=0;const k=()=>{S.push(C.commit())},w=[];for(const A of b){if(A.type==="card"){const T=`${A.number}|${x(A.print)}`;let P=d.byNumPrint.get(T);if(!P){const H=d.byNum.get(A.number)||[];H.length===1&&(P=H[0])}if(!P){w.push(`#${A.number} (${A.print||"Normal"})`);continue}const L=Vt(o,"Pokemon Packs",t,i,r,"Cards",P),N={"Amount Owned":Kb(A.amount)};A.location&&(N.Location=A.location);const V=d.docName.get(P);V&&(N.Name=V),C.set(L,N,{merge:!0})}else{const T=Vt(o,"Pokemon Packs",t,i,r,"Sealed",A.sealedName),P={"Amount Owned":Kb(A.amount)};A.location&&(P.Location=A.location),C.set(T,P,{merge:!0})}R++,R>=450&&(k(),R=0)}R>0&&S.push(C.commit());try{await Promise.all(S),w.length&&alert(`Some cards were not found by Number/Printing and were skipped:
`+w.join(`
`));const A=pu();if(b.some(T=>T.type==="card")){const T=Vt(Ct(o,"CardLogs"));await mf(o).set(T,{time:A,items:b.filter(P=>P.type==="card").map(P=>({cardName:function(){const L=`${P.number}|${x(P.print)}`,N=d.byNumPrint.get(L)||(d.byNum.get(P.number)||[])[0];return N&&d.docName.get(N)||`Card #${P.number}`}(),number:P.number,print:P.print,amount:P.amount,location:P.location,set:`${i} / ${r}`}))}).commit()}if(b.some(T=>T.type==="sealed")){const T=Vt(Ct(o,"SealedLogs"));await mf(o).set(T,{time:A,items:b.filter(P=>P.type==="sealed").map(P=>({sealedName:P.sealedName,amount:P.amount,location:P.location}))}).commit()}a&&a(),e()}catch(A){alert("Update failed: "+(A&&A.message?A.message:String(A)))}}return n?I.jsx("div",{className:"modal-backdrop",children:I.jsxs("div",{className:"modal-panel",children:[I.jsxs("div",{className:"modal-header",children:[I.jsxs("div",{className:"chip",children:[i," / ",r," / ",l]}),I.jsx("button",{className:"btn ghost small",onClick:e,style:{padding:"6px 8px"},children:"Close"})]}),I.jsx("div",{className:"modal-body",children:I.jsx("div",{className:"space-top",children:l==="Cards"?I.jsxs("div",{className:"quick-list",children:[I.jsxs("div",{className:"quick-cards-header",children:[I.jsx("div",{children:"Number"}),I.jsx("div",{children:"Printing"}),I.jsx("div",{children:"Amount"}),I.jsx("div",{children:"Location"})]}),u.map(b=>I.jsxs("div",{className:"quick-cards-row",children:[I.jsx("input",{placeholder:"#",onChange:C=>v(b.id,{number:C.target.value})}),I.jsxs("select",{defaultValue:"Normal",onChange:C=>v(b.id,{print:C.target.value}),children:[I.jsx("option",{children:"Normal"}),I.jsx("option",{children:"Reverse Holofoil"}),I.jsx("option",{children:"Holofoil"})]}),I.jsx("input",{placeholder:"1",defaultValue:"1",onChange:C=>v(b.id,{amount:C.target.value})}),I.jsx("input",{placeholder:"optional",onChange:C=>v(b.id,{location:C.target.value})})]},b.id))]}):I.jsxs("div",{className:"quick-list",children:[I.jsxs("div",{className:"quick-sealed-header",children:[I.jsx("div",{children:"Product"}),I.jsx("div",{children:"Amount"}),I.jsx("div",{children:"Location"})]}),u.map(b=>I.jsxs("div",{className:"quick-sealed-row",children:[I.jsxs("select",{defaultValue:"",onChange:C=>v(b.id,{sealedName:C.target.value}),children:[I.jsx("option",{value:"",disabled:!0,children:"Select product"}),p.map(C=>I.jsx("option",{value:C,children:C},C))]}),I.jsx("input",{placeholder:"1",defaultValue:"1",onChange:C=>v(b.id,{amount:C.target.value})}),I.jsx("input",{placeholder:"optional",onChange:C=>v(b.id,{location:C.target.value})})]},b.id))]})})}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn secondary",onClick:e,children:"Cancel"}),I.jsx("button",{className:"btn",onClick:y,children:"Apply Updates"})]})]})}):null}function ZO(n){const e=String(n||"").split(/\r?\n/).map(r=>r.trim()).filter(Boolean),t=[],i=r=>/^(https?:)?\/\//i.test(r)||/\.(png|jpe?g|gif|webp|svg)$/i.test(String(r||""));for(const r of e){const s=r.split(",").map(d=>d.trim());if(s.length<2)continue;const a=s[0];let o="",l=0,c=0,u="",h="";if(s.length>=5){const[,d,g,p,m,x]=s;o=d||"",l=Number.parseInt(g,10)||0,c=Number.parseFloat(p)||0,u=m||"",s.length>=6&&(h=x||"")}else if(s.length===4){const[,d,g,p]=s,m=Number.parseInt(d,10),x=Number.parseInt(g,10),v=Number.parseFloat(g),y=Number.parseFloat(p);Number.isFinite(m)&&Number.isFinite(v)&&i(p)?(l=m||0,c=v||0,u=p||""):!Number.isFinite(m)&&Number.isFinite(x)?(o=d||"",l=x||0,i(p)||!Number.isFinite(y)?u=p||"":c=y||0):(l=Number.parseInt(d,10)||0,c=Number.parseFloat(g)||0,u=p||"")}else if(s.length===3){const[,d,g]=s,p=Number.parseInt(d,10);Number.isFinite(p)&&i(g)?(l=p||0,u=g||""):Number.isFinite(p)?(l=p||0,c=Number.parseFloat(g)||0):(o=d||"",i(g)?u=g||"":c=Number.parseFloat(g)||0)}t.push({name:a,printing:o,number:l,cost:c,image:u,rarity:h})}return t}function JO({lang:n,cat:e,setName:t,canEdit:i,onImported:r}){const s=Gi(bi),a=J.useRef(null),[o,l]=J.useState(!1);async function c(){if(!i)return;if(!n||!e||!t){alert("Select a set first.");return}const h=a.current&&a.current.files&&a.current.files[0];if(!h){alert("Choose a JSON file first.");return}if(!/\.json$/i.test(h.name)){alert("Please select a .json file.");return}l(!0);try{const d=await h.text();let g=[];try{const y=JSON.parse(d);Array.isArray(y)&&(g=y)}catch{alert("Invalid JSON.");return}if(g.length===0){alert("No items in JSON.");return}const p=new Map,m=[];for(const y of g){const b=String(y.number??"").trim(),C=y.image||y.Image||y.photo||y.Photo||y.img||y.picture||y.Picture||y["Picture Link"]||y.pictureLink||y.imageUrl||y.imageURL||y.url||"";if(!b||!C)continue;p.has(b)||p.set(b,C);const S=Number.parseInt(b,10);m.push({raw:b,num:Number.isFinite(S)?S:null,image:p.get(b)})}const x=new Map;for(const y of m)y.num!=null&&!x.has(y.num)&&x.set(y.num,y.image);let v=0;for(const[y,b]of p.entries()){const C=Number.parseInt(y,10);if(Number.isFinite(C))try{const S=Ci(Ct(s,"Pokemon Packs",n,e,t,"Cards"),aa("Number","==",C)),R=await lt(S);for(const k of R.docs)await Mn(k.ref,{"Picture Link":b},{merge:!0}),v++}catch{}try{const S=Ci(Ct(s,"Pokemon Packs",n,e,t,"Cards"),aa("Number","==",y)),R=await lt(S);for(const k of R.docs)await Mn(k.ref,{"Picture Link":b},{merge:!0}),v++}catch{}await new Promise(S=>setTimeout(S,3))}r&&r(),alert(`Updated photos for ${v} documents by matching Number.`)}catch(d){alert("Update failed: "+(d&&d.message?d.message:String(d)))}finally{l(!1)}}async function u(h){if(!i)return;if(!n||!e||!t){alert("Select a set first.");return}const d=a.current&&a.current.files&&a.current.files[0];if(!d){alert("Choose a file first.");return}l(!0);try{const g=await d.text();let p=[];if(/\.json$/i.test(d.name))try{const x=JSON.parse(g);Array.isArray(x)&&(p=x.map(v=>({name:v.name||v.cardName||v.title||v.Name||"",printing:v.printing||v.Printing||v.variant||v.edition||"",number:Number.parseInt(String(v.number||v.no||v.Number||0),10)||0,cost:Number.parseFloat(String(v.cost||v.price||v.Price||0))||0,image:v.image||v.Image||v.photo||v.Photo||v.img||v.picture||v.Picture||v["Picture Link"]||v.pictureLink||v.imageUrl||v.imageURL||v.url||"",rarity:v.rarity||v.Rarity||v.rarityLabel||v.RarityLabel||""})).filter(v=>v.name))}catch{}else p=ZO(g);if(p.length===0){alert("No items parsed.");return}let m=0;for(const x of p){const v=String(x.number??"").trim(),y=String((x.name||"")+(x.printing||"")+v).replace(/\s+/g,""),b=Vt(s,"Pokemon Packs",n,e,t,"Cards",y),C=await Da(b),S={};(h==="all"||h==="prices")&&(S.Cost=x.cost||0),(h==="all"||h==="photos")&&x.image&&(S["Picture Link"]=x.image),S.Name=x.name||"",x.printing&&(S.Printing=x.printing),x.rarity&&(S.Rarity=x.rarity),S.Number=x.number||0,C.exists()||(S["Amount Owned"]=0,S.Location="N/A"),await Mn(b,S,{merge:!0}),m++,m%200===0&&await new Promise(R=>setTimeout(R,5))}r&&r(),alert(`Imported ${m} items (${h}).`)}catch(g){alert("Import failed: "+(g&&g.message?g.message:String(g)))}finally{l(!1)}}return!i||!n||!e||!t?null:I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:I.jsxs("div",{className:"small muted",children:["Import into ",e," / ",t," / Cards"]})}),I.jsxs("div",{className:"small muted",children:["Destination: Pokemon Packs / ",n," / ",e," / ",t," / Cards"]}),I.jsx("div",{className:"stack space-top",children:I.jsx("input",{type:"file",ref:a,accept:".txt,.json,.csv,application/json,text/plain"})}),I.jsxs("div",{className:"stack space-top",children:[I.jsx("button",{className:"btn",disabled:o,onClick:()=>u("all"),children:"Import All"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>u("prices"),children:"Update Prices Only"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:c,title:"Use JSON with { name, number, imageUrl } to update all printings that share the same number",children:"Update Photos (PkmnCards)"})]})]})}function eD(n){const e=String(n||"").split(/\r?\n/).map(r=>r.trim()).filter(Boolean),t=[],i=r=>/^(https?:)?\/\//i.test(r)||/\.(png|jpe?g|gif|webp|svg)$/i.test(String(r||""));for(const r of e){const s=r.split(",").map(c=>c.trim());if(s.length<2)continue;const a=s[0];let o=0,l="";if(s.length>=3){const c=s[1],u=s[2],h=Number.parseFloat(c),d=Number.parseFloat(u);i(c)&&!Number.isFinite(h)?(l=c,o=Number.isFinite(d)?d:0):(o=Number.isFinite(h)?h:0,l=i(u)?u:"")}else o=Number.parseFloat(s[1])||0;t.push({name:a,cost:o,image:l})}return t}function tD({lang:n,cat:e,setName:t,canEdit:i,onImported:r}){const s=Gi(bi),a=J.useRef(null),[o,l]=J.useState(!1);async function c(u){if(!i)return;if(!n||!e||!t){alert("Select a set first.");return}const h=a.current&&a.current.files&&a.current.files[0];if(!h){alert("Choose a file first.");return}l(!0);try{const d=await h.text();let g=[];if(/\.json$/i.test(h.name))try{const m=JSON.parse(d);Array.isArray(m)&&(g=m.map(x=>({name:x.name||x.title||x.Name||"",cost:Number.parseFloat(String(x.cost||x.price||x.Price||0))||0,image:x.image||x.Image||x.photo||x.Photo||x.img||x.picture||x.Picture||x["Picture Link"]||x.pictureLink||x.imageUrl||x.imageURL||x.url||""})).filter(x=>x.name))}catch{}else g=eD(d);if(g.length===0){alert("No items parsed.");return}let p=0;for(const m of g){const x=Vt(s,"Pokemon Packs",n,e,t,"Sealed",m.name),v=await Da(x),y={};(u==="all"||u==="prices")&&(y.Cost=m.cost||0),(u==="all"||u==="photos")&&m.image&&(y.Image=m.image,y["Picture Link"]=m.image),v.exists()||(y["Amount Owned"]=0,y.Location="N/A"),await Mn(x,y,{merge:!0}),p++,p%200===0&&await new Promise(b=>setTimeout(b,5))}r&&r(),alert(`Imported ${p} sealed items (${u}).`)}catch(d){alert("Import failed: "+(d&&d.message?d.message:String(d)))}finally{l(!1)}}return!i||!n||!e||!t?null:I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:I.jsxs("div",{className:"small muted",children:["Import into ",e," / ",t," / Sealed"]})}),I.jsxs("div",{className:"small muted",children:["Destination: Pokemon Packs / ",n," / ",e," / ",t," / Sealed"]}),I.jsx("div",{className:"stack space-top",children:I.jsx("input",{type:"file",ref:a,accept:".txt,.json,.csv,application/json,text/plain"})}),I.jsxs("div",{className:"stack space-top",children:[I.jsx("button",{className:"btn",disabled:o,onClick:()=>c("all"),children:"Import All"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>c("photos"),children:"Update Photos Only"}),I.jsx("button",{className:"btn ghost",disabled:o,onClick:()=>c("prices"),children:"Update Prices Only"})]})]})}function nD(n){try{const e=document.cookie.split("; ").find(t=>t.startsWith(n+"="));return e?decodeURIComponent(e.split("=")[1]||""):null}catch{return null}}function iD(n,e,t=365){try{const i=new Date(Date.now()+t*24*60*60*1e3).toUTCString();document.cookie=`${n}=${encodeURIComponent(e)}; expires=${i}; path=/; SameSite=Lax`}catch{}}function rD(){try{const n=nD("db_open");if(!n)return{};const e=JSON.parse(n);return e&&typeof e=="object"?e:{}}catch{return{}}}function sD(n){try{iD("db_open",JSON.stringify(n),365)}catch{}}function bf(n){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Number(n)||0)}catch{return"$"+(Number(n).toFixed?Number(n).toFixed(2):String(n))}}async function wo(n,e,t,i){let r=0,s=0,a=0;try{const o=await Da(Vt(n,"Pokemon Packs",e,t,i)),l=o.exists()?o.data()||{}:{};a=Number(l.TotalPacksOpened||l["Packs Opened"]||l.PacksOpened||l["Opened Packs"]||0)||0}catch{}try{(await lt(dr(n,"Cards"))).forEach(l=>{const c=l.data()||{},u=l.ref.path.split("/");if(u.length>=6&&u[0]==="Pokemon Packs"){const h=u[1],d=u[2],g=u[3];if(h===e&&d===t&&g===i){const p=Number(c["Amount Owned"]||c.AmountOwned||c.Owned||0)||0,m=Number(c.Cost||0)||0;r+=Math.max(0,p*m),s+=Math.max(0,p)}}})}catch{}try{(await lt(dr(n,"Sealed"))).forEach(l=>{const c=l.data()||{},u=l.ref.path.split("/");if(u.length>=6&&u[0]==="Pokemon Packs"){const h=u[1],d=u[2],g=u[3];if(h===e&&d===t&&g===i){const p=Number(c["Amount Owned"]||c.AmountOwned||c.Owned||0)||0,m=Number(c.Cost||0)||0;r+=Math.max(0,p*m)}}})}catch{}return{totalValue:r,totalCardAmount:s,totalPacksOpened:a}}function aD(){const n=J.useMemo(()=>Gi(bi),[]),{canEdit:e}=fv(),[t,i]=J.useState({}),[r,s]=J.useState({lang:"",cat:"",setName:""}),[a,o]=J.useState(null),[l,c]=J.useState(null),[u,h]=J.useState(!1),[d,g]=J.useState(!1),[p,m]=J.useState(!1),[x,v]=J.useState(()=>rD()),[y,b]=J.useState(!1),[C,S]=J.useState(!1),[R,k]=J.useState(""),[w,A]=J.useState({name:"",cards:"",totalCards:"",image:"",canCards:!1,canSealed:!1}),[T,P]=J.useState("Overview"),[L,N]=J.useState(!1),[V,H]=J.useState(!1),[W,q]=J.useState([]),[F,Y]=J.useState([]),[G,ee]=J.useState(null);function oe($){v(re=>{const ke={...re,[$]:!re[$]};return sD(ke),ke})}J.useEffect(()=>{async function $(){h(!0);try{const re=(ue,Z,te,Se)=>(ue[Z]=ue[Z]||{},ue[Z][te]=ue[Z][te]||{},ue[Z][te][Se]=ue[Z][te][Se]||{hasCards:!1,hasSealed:!1},ue[Z][te][Se]),ke={};try{(await lt(Ct(n,"Pokemon Packs"))).forEach(Z=>{const te=Z.id;/^_/.test(te)||(ke[te]=ke[te]||{})})}catch{}(await lt(dr(n,"Cards"))).forEach(ue=>{const Z=ue.ref.path.split("/");if(Z.length>=6&&Z[0]==="Pokemon Packs"){const te=Z[1],Se=Z[2],Ye=Z[3];re(ke,te,Se,Ye).hasCards=!0}}),(await lt(dr(n,"Sealed"))).forEach(ue=>{const Z=ue.ref.path.split("/");if(Z.length>=6&&Z[0]==="Pokemon Packs"){const te=Z[1],Se=Z[2],Ye=Z[3];re(ke,te,Se,Ye).hasSealed=!0}}),i(ke)}finally{h(!1)}}$()},[n]),J.useEffect(()=>{if(!r.lang||!r.cat||!r.setName){o(null),c(null),q([]),Y([]);return}g(!0),wo(n,r.lang,r.cat,r.setName).then(o).finally(()=>g(!1)),m(!0),Da(Vt(n,"Pokemon Packs",r.lang,r.cat,r.setName)).then($=>c($.exists()?$.data()||{}:null)).finally(()=>m(!1)),(async()=>{H(!0);try{const $=await lt(Ct(n,"Pokemon Packs",r.lang,r.cat,r.setName,"Cards")),re=[];$.forEach(fe=>{const ue=fe.data()||{},Z=ue.Name||fe.id,te=Number(ue["Amount Owned"]||ue.AmountOwned||ue.Owned||0)||0,Se=Number(ue.Cost||0)||0,Ye=Math.max(0,te*Se),je=ue["Picture Link"]||ue.Image||"";re.push({name:Z,amount:te,cost:Se,total:Ye,image:je})});const ke=re.slice().sort((fe,ue)=>ue.total-fe.total).slice(0,5),xe=re.slice().sort((fe,ue)=>ue.amount-fe.amount||fe.name.localeCompare(ue.name)).slice(0,5);q(ke),Y(xe)}finally{H(!1)}})()},[n,r]);const ye=J.useMemo(()=>Object.keys(t).sort(($,re)=>$.localeCompare(re)),[t]);async function he($,re){if(!(r.lang&&r.cat&&r.setName))return;ee($==="CanImportCards"?"cards":"sealed");const ke=Vt(n,"Pokemon Packs",r.lang,r.cat,r.setName);c(xe=>({...xe||{},[$]:!!re}));try{await Mn(ke,{[$]:!!re},{merge:!0})}catch(xe){c(fe=>({...fe||{},[$]:!re})),alert("Failed to update setting: "+(xe&&xe.message?xe.message:String(xe)))}finally{ee(null)}}async function Ne(){h(!0);try{const $=(fe,ue,Z,te)=>(fe[ue]=fe[ue]||{},fe[ue][Z]=fe[ue][Z]||{},fe[ue][Z][te]=fe[ue][Z][te]||{hasCards:!1,hasSealed:!1},fe[ue][Z][te]),re={};try{(await lt(Ct(n,"Pokemon Packs"))).forEach(ue=>{const Z=ue.id;/^_/.test(Z)||(re[Z]=re[Z]||{})})}catch{}(await lt(dr(n,"Cards"))).forEach(fe=>{const ue=fe.ref.path.split("/");if(ue.length>=6&&ue[0]==="Pokemon Packs"){const Z=ue[1],te=ue[2],Se=ue[3];$(re,Z,te,Se).hasCards=!0}}),(await lt(dr(n,"Sealed"))).forEach(fe=>{const ue=fe.ref.path.split("/");if(ue.length>=6&&ue[0]==="Pokemon Packs"){const Z=ue[1],te=ue[2],Se=ue[3];$(re,Z,te,Se).hasSealed=!0}}),i(re)}finally{h(!1)}}const[pe,me]=J.useState([]),[Te,Ve]=J.useState(!1),[He,qe]=J.useState({}),[yn,tt]=J.useState({}),[Rt,Un]=J.useState(!1);return J.useEffect(()=>{if(me([]),!(r.lang&&r.cat)||r.setName)return;async function $(){Ve(!0);try{const re=await lt(Ct(n,"Pokemon Packs",r.lang,r.cat)),ke=[];re.forEach(xe=>{const fe=xe.id;/^_/.test(fe)||ke.push({name:fe,data:xe.data()||{}})}),ke.sort((xe,fe)=>xe.name.localeCompare(fe.name)),me(ke)}finally{Ve(!1)}}$()},[n,r.lang,r.cat,r.setName]),J.useEffect(()=>{if(!(r.lang&&r.cat)||r.setName)return;if(pe.length===0){qe({}),tt({});return}async function $(){Un(!0);try{const re=await Promise.all(pe.map(async fe=>{const[ue,Z]=await Promise.all([Da(Vt(n,"Pokemon Packs",r.lang,r.cat,fe.name)),wo(n,r.lang,r.cat,fe.name)]);return{name:fe.name,meta:ue.exists()?ue.data()||{}:{},aggs:Z}})),ke={},xe={};re.forEach(fe=>{ke[fe.name]=fe.aggs,xe[fe.name]=fe.meta}),qe(ke),tt(xe)}finally{Un(!1)}}$()},[n,r.lang,r.cat,r.setName,pe]),I.jsxs("div",{className:"db-layout",children:[I.jsxs("div",{className:"card",style:{padding:0},children:[I.jsx("div",{className:"row",style:{padding:"10px 12px",justifyContent:"flex-end"},children:I.jsx("div",{className:"stack",children:I.jsx("button",{className:"btn ghost small",onClick:Ne,children:"Refresh"})})}),I.jsx("div",{style:{padding:"4px 6px"},children:u?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("ul",{className:"tree",children:I.jsxs("li",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe("root"),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",children:"Pokemon Packs"})]}),I.jsx("div",{className:"tree-children",style:{display:x.root?"":"none"},children:ye.length===0?I.jsx("div",{className:"small muted",style:{padding:"6px 8px"},children:"No data found."}):ye.map($=>{const re=Object.keys(t[$]||{}).sort((xe,fe)=>xe.localeCompare(fe)),ke=`lang:${$}`;return I.jsxs("div",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe(ke),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",onClick:xe=>{xe.stopPropagation(),s({lang:$,cat:"",setName:""})},children:$})]}),I.jsx("div",{className:"tree-children",style:{display:x[ke]?"":"none"},children:re.length===0?I.jsx("div",{className:"small muted",style:{padding:"6px 8px"},children:"No categories."}):re.map(xe=>{const fe=t[$][xe]||{},ue=Object.keys(fe).filter(te=>!/^_/.test(te)).sort((te,Se)=>te.localeCompare(Se)),Z=`cat:${$}:${xe}`;return I.jsxs("div",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe(Z),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",onClick:te=>{te.stopPropagation(),s({lang:$,cat:xe,setName:""})},children:xe})]}),I.jsx("div",{className:"tree-children",style:{display:x[Z]?"":"none"},children:ue.length===0?I.jsx("div",{className:"small muted",style:{padding:"6px 8px"},children:"No sets."}):ue.map(te=>{const Se=`set:${$}:${xe}:${te}`;return fe[te],I.jsxs("div",{className:"tree-node",children:[I.jsxs("div",{className:"tree-row",onClick:()=>oe(Se),children:[I.jsx("div",{className:"tree-caret"}),I.jsx("div",{className:"tree-label",onClick:Ye=>{Ye.stopPropagation(),s({lang:$,cat:xe,setName:te}),P("Overview")},children:te})]}),I.jsxs("div",{className:"tree-children",style:{display:x[Se]?"":"none"},children:[I.jsx("div",{className:"tree-node",children:I.jsx("div",{className:"tree-row",onClick:()=>{s({lang:$,cat:xe,setName:te}),P("Cards")},children:I.jsx("div",{className:"tree-label",children:"Cards"})})}),I.jsx("div",{className:"tree-node",children:I.jsx("div",{className:"tree-row",onClick:()=>{s({lang:$,cat:xe,setName:te}),P("Sealed")},children:I.jsx("div",{className:"tree-label",children:"Sealed"})})})]})]},te)})})]},xe)})})]},$)})})]})})})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,minWidth:0},children:[e&&I.jsx("div",{className:"row",children:I.jsxs("div",{className:"stack",children:[r.lang&&!r.cat&&!r.setName?I.jsx("button",{className:"btn ghost small",onClick:()=>b(!0),children:"Add Category"}):null,r.lang&&r.cat&&!r.setName?I.jsx("button",{className:"btn small",onClick:()=>S(!0),children:"Add Set"}):null]})}),null,r.lang?r.cat?r.setName?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"stack",children:e&&T!=="Overview"?I.jsx("button",{className:"btn small",onClick:()=>N(!0),title:"Quickly add cards and update location",children:"Edit Card / Sealed Amount"}):null}),e&&T==="Cards"&&l&&l.CanImportCards?I.jsx("div",{className:"space-top",children:I.jsx(JO,{lang:r.lang,cat:r.cat,setName:r.setName,canEdit:e,onImported:()=>{T==="Overview"&&wo(n,r.lang,r.cat,r.setName).then(o)}})}):null,e&&T==="Sealed"&&l&&l.CanImportSealed?I.jsx("div",{className:"space-top",children:I.jsx(tD,{lang:r.lang,cat:r.cat,setName:r.setName,canEdit:e,onImported:()=>{T==="Overview"&&wo(n,r.lang,r.cat,r.setName).then(o)}})}):null,I.jsx("div",{id:"dbSetDetails",children:T==="Overview"?d?I.jsx("div",{className:"small muted",children:"Loading set"}):a?I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"set-overview",children:[I.jsxs("ul",{className:"kv-list",children:[I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Language"}),I.jsx("span",{className:"mono",children:r.lang})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Category"}),I.jsx("span",{className:"mono",children:r.cat})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Set"}),I.jsx("span",{className:"mono",children:r.setName})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Cards"}),I.jsx("span",{className:"mono",children:l&&(Number.isFinite(l.Cards),l.Cards)||F.reduce(($,re)=>$,0)||0})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Cards"}),I.jsx("span",{className:"mono",children:Number.isFinite(a.totalCardAmount)?a.totalCardAmount:0})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Value"}),I.jsx("span",{className:"mono",children:bf(a.totalValue)})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Amount of Cards"}),I.jsx("span",{className:"mono",children:a.totalCardAmount})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Packs Opened"}),I.jsx("span",{className:"mono",children:a.totalPacksOpened})]}),p?null:I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Can Import Cards"}),I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:!!(l&&l.CanImportCards),onChange:$=>he("CanImportCards",$.target.checked),disabled:G==="cards"}),I.jsx("span",{className:"slider"})]})]}),p?null:I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Can Import Sealed"}),I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:!!(l&&l.CanImportSealed),onChange:$=>he("CanImportSealed",$.target.checked),disabled:G==="sealed"}),I.jsx("span",{className:"slider"})]})]})]}),l&&l.image?I.jsx("img",{className:"set-image",src:l.image,alt:""}):null]}),I.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",marginTop:12},children:[I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"small muted",children:"Top 5 by Total Value"}),I.jsx("div",{className:"divider"}),V?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("div",{style:{display:"grid",gap:12},children:W.map($=>I.jsxs("div",{className:"row",style:{alignItems:"center"},children:[I.jsx("div",{className:"thumb-wrap",children:$.image?I.jsx("img",{className:"card-thumb",src:$.image,alt:""}):null}),I.jsx("div",{style:{flex:1},children:$.name}),I.jsxs("div",{className:"mono",children:["x",$.amount," ",bf($.total)]})]},$.name))})]}),I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"small muted",children:"Top 5 by Quantity"}),I.jsx("div",{className:"divider"}),V?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("div",{style:{display:"grid",gap:12},children:F.map($=>I.jsxs("div",{className:"row",style:{alignItems:"center"},children:[I.jsx("div",{className:"thumb-wrap",children:$.image?I.jsx("img",{className:"card-thumb",src:$.image,alt:""}):null}),I.jsx("div",{style:{flex:1},children:$.name}),I.jsxs("div",{className:"mono",children:["x",$.amount]})]},$.name))})]})]})]}):I.jsx("div",{className:"small muted",children:"No data."}):T==="Cards"?I.jsx("div",{className:"card",children:I.jsx(qO,{lang:r.lang,cat:r.cat,setName:r.setName})}):T==="Sealed"?I.jsx("div",{className:"card",children:I.jsx(KO,{lang:r.lang,cat:r.cat,setName:r.setName})}):null})]}):I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"small muted",children:["Sets in ",r.cat]}),Te||Rt?I.jsx("div",{className:"small muted",children:"Loading"}):I.jsx("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",gap:16,marginTop:8},children:pe.map($=>{const re=yn[$.name]||$.data||{},ke=He[$.name]||{totalValue:0,totalCardAmount:0,totalPacksOpened:0};return I.jsxs("div",{className:"card",style:{cursor:"pointer"},onClick:()=>s(xe=>({...xe,setName:$.name})),children:[I.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[I.jsx("div",{className:"section-title",style:{marginBottom:0},children:$.name}),re.image?I.jsx("img",{className:"set-image",src:re.image,alt:""}):I.jsx("div",{className:"set-image"})]}),I.jsx("div",{className:"divider"}),I.jsxs("ul",{className:"kv-list",children:[I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Cards"}),I.jsx("span",{className:"mono",children:ke.totalCardAmount})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Cards"}),I.jsx("span",{className:"mono",children:Number.isFinite(re["Total Cards"])?re["Total Cards"]:0})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Value"}),I.jsx("span",{className:"mono",children:bf(ke.totalValue)})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Amount of Cards"}),I.jsx("span",{className:"mono",children:ke.totalCardAmount})]}),I.jsxs("li",{className:"kv-item",children:[I.jsx("span",{className:"kv-label small",children:"Total Packs Opened"}),I.jsx("span",{className:"mono",children:ke.totalPacksOpened})]})]})]},$.name)})})]}):I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{justifyContent:"flex-start",alignItems:"center"},children:[I.jsx("div",{className:"small muted",style:{flex:1},children:"Categories"}),e?I.jsx("button",{className:"btn",onClick:()=>b(!0),children:"Add Category"}):null]}),I.jsx("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",gap:16,marginTop:8},children:Object.keys(t[r.lang]||{}).length===0?I.jsx("div",{className:"small muted",children:"No categories."}):Object.keys(t[r.lang]||{}).sort(($,re)=>$.localeCompare(re)).map($=>{var xe;const re=((xe=t[r.lang])==null?void 0:xe[$])||{},ke=Object.keys(re).filter(fe=>!/^_/.test(fe)).sort((fe,ue)=>fe.localeCompare(ue));return I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:I.jsx("div",{className:"section-title",style:{marginBottom:0},children:$})}),I.jsx("ul",{style:{listStyle:"disc",paddingLeft:18,margin:0,marginTop:6},children:ke.length===0?I.jsx("li",{className:"small muted",style:{listStyle:"none"},children:"No sets"}):ke.map(fe=>I.jsx("li",{style:{cursor:"pointer"},onClick:()=>s(ue=>({...ue,cat:$,setName:fe})),children:fe},fe))})]},$)})})]}):I.jsx("div",{className:"card",children:I.jsx("div",{className:"small muted",children:"Select a language from the tree."})})]}),I.jsx(QO,{open:L,onClose:()=>N(!1),lang:r.lang,cat:r.cat,setName:r.setName,defaultView:T==="Sealed"?"Sealed":"Cards",onApplied:()=>{T==="Overview"&&wo(n,r.lang,r.cat,r.setName).then(o)}}),y&&I.jsx("div",{className:"modal-backdrop",children:I.jsxs("div",{className:"modal-panel",children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("div",{className:"small",children:"Add Category"}),I.jsx("button",{className:"btn ghost small",onClick:()=>b(!1),children:"Close"})]}),I.jsxs("div",{className:"modal-body",children:[I.jsxs("div",{className:"small muted",children:["Language: ",r.lang||"English"]}),I.jsx("div",{className:"space-top",children:I.jsx("input",{placeholder:"Category name",value:R,onChange:$=>k($.target.value),style:{padding:8,border:"1px solid #E2E8F0",borderRadius:8,width:"100%"}})})]}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn secondary",onClick:()=>b(!1),children:"Cancel"}),I.jsx("button",{className:"btn",onClick:async()=>{const $=String(R||"").trim();if(!$){alert("Enter category name.");return}try{const re=r.lang||"English",ke=Vt(n,"Pokemon Packs",re,$,"_placeholder");await Mn(ke,{hidden:!0},{merge:!0}),await Mn(Vt(n,"Pokemon Packs",re,$,"_placeholder","Cards","_init"),{placeholder:!0},{merge:!0}),b(!1),k("");const xe={...t};xe[re]=xe[re]||{},xe[re][$]=xe[re][$]||{},i(xe)}catch(re){alert("Create category failed: "+(re&&re.message?re.message:String(re)))}},children:"Create"})]})]})}),C&&I.jsx("div",{className:"modal-backdrop",children:I.jsxs("div",{className:"modal-panel",children:[I.jsxs("div",{className:"modal-header",children:[I.jsxs("div",{className:"chip",children:[r.lang||"English"," / ",r.cat||""]}),I.jsx("button",{className:"btn ghost small",onClick:()=>S(!1),children:"Close"})]}),I.jsx("div",{className:"modal-body",children:I.jsxs("div",{className:"form-grid",children:[I.jsx("div",{className:"form-label",children:"Set Name"}),I.jsx("input",{value:w.name,onChange:$=>A(re=>({...re,name:$.target.value})),placeholder:"e.g., Phantasmal Flames"}),I.jsx("div",{className:"form-label",children:"Cards"}),I.jsx("input",{type:"number",value:w.cards,onChange:$=>A(re=>({...re,cards:$.target.value})),placeholder:"0"}),I.jsx("div",{className:"form-label",children:"Total Cards"}),I.jsx("input",{type:"number",value:w.totalCards,onChange:$=>A(re=>({...re,totalCards:$.target.value})),placeholder:"0"}),I.jsx("div",{className:"form-label",children:"Image Link"}),I.jsx("input",{value:w.image,onChange:$=>A(re=>({...re,image:$.target.value})),placeholder:"https://"}),I.jsx("div",{className:"form-label",children:"Flags"}),I.jsxs("div",{className:"switch-row",children:[I.jsxs("div",{className:"toggle-row",children:[I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:w.canCards,onChange:$=>A(re=>({...re,canCards:$.target.checked}))}),I.jsx("span",{className:"slider"})]}),I.jsx("span",{className:"small",children:"Can Import Cards"})]}),I.jsxs("div",{className:"toggle-row",children:[I.jsxs("label",{className:"switch",children:[I.jsx("input",{type:"checkbox",checked:w.canSealed,onChange:$=>A(re=>({...re,canSealed:$.target.checked}))}),I.jsx("span",{className:"slider"})]}),I.jsx("span",{className:"small",children:"Can Import Sealed"})]})]})]})}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn secondary",onClick:()=>S(!1),children:"Cancel"}),I.jsx("button",{className:"btn",onClick:async()=>{const $=String(w.name||"").trim();if(!r.lang||!r.cat){alert("Select language and category first.");return}if(!$){alert("Enter set name.");return}try{const re=Vt(n,"Pokemon Packs",r.lang,r.cat,$);await Mn(re,{Cards:Number.parseInt(String(w.cards||"").trim(),10)||0,"Total Cards":Number.parseInt(String(w.totalCards||"").trim(),10)||0,image:String(w.image||""),CanImportCards:!!w.canCards,CanImportSealed:!!w.canSealed},{merge:!0}),await Mn(Vt(n,"Pokemon Packs",r.lang,r.cat,$,"Cards","_init"),{placeholder:!0},{merge:!0}),await Mn(Vt(n,"Pokemon Packs",r.lang,r.cat,$,"Sealed","_init"),{placeholder:!0},{merge:!0}),S(!1),A({name:"",cards:"",totalCards:"",image:"",canCards:!1,canSealed:!1});const ke={...t};ke[r.lang]=ke[r.lang]||{},ke[r.lang][r.cat]=ke[r.lang][r.cat]||{},ke[r.lang][r.cat][$]={hasCards:!0,hasSealed:!0},i(ke),s(xe=>({...xe,setName:$}))}catch(re){alert("Create failed: "+(re&&re.message?re.message:String(re)))}},children:"Create"})]})]})})]})}function oD(n){try{if(!n)return"";if(typeof n.toDate=="function")return n.toDate().toLocaleString();const e=new Date(n);return Number.isNaN(e.getTime())?"":e.toLocaleString()}catch{return""}}function lD(){const n=J.useMemo(()=>Gi(bi),[]),[e,t]=J.useState("card"),[i,r]=J.useState([]),[s,a]=J.useState(!1);async function o(){a(!0);try{const c=await lt(Ci(Ct(n,e==="sealed"?"SealedLogs":"CardLogs"),ns("time","desc"),np(200))),u=[];c.forEach(h=>u.push({id:h.id,data:h.data()||{}})),r(u)}finally{a(!1)}}return J.useEffect(()=>{o()},[e]),I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"logs-header",children:[I.jsxs("div",{className:"logs-tabs",children:[I.jsx("button",{className:"tab-btn"+(e==="card"?" active":""),onClick:()=>t("card"),children:"Cards"}),I.jsx("button",{className:"tab-btn"+(e==="sealed"?" active":""),onClick:()=>t("sealed"),children:"Sealed"})]}),I.jsx("button",{className:"tab-btn",onClick:o,disabled:s,title:"Refresh logs",children:s?"Refreshing":"Refresh"})]}),I.jsx("div",{className:"divider"}),s?I.jsx("div",{className:"small muted mono",children:"Loading logs"}):i.length===0?I.jsx("div",{className:"small muted",children:"No logs yet."}):I.jsx("div",{style:{overflow:"auto"},children:I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:e==="card"?I.jsxs("tr",{children:[I.jsx("th",{children:"Time"}),I.jsx("th",{children:"Card Name"}),I.jsx("th",{children:"Number"}),I.jsx("th",{children:"Print"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Location"}),I.jsx("th",{children:"Set"})]}):I.jsxs("tr",{children:[I.jsx("th",{children:"Time"}),I.jsx("th",{children:"Sealed Product"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Location"})]})}),I.jsx("tbody",{children:i.map((l,c)=>{const u=l.data||{},h=I.jsx("td",{className:"small mono",children:oD(u.time)});return e==="card"?Array.isArray(u.items)?u.items.map((d,g)=>I.jsxs("tr",{children:[h,I.jsx("td",{children:d.cardName||""}),I.jsx("td",{children:Number.isFinite(d.number)?d.number:d.number||""}),I.jsx("td",{children:d.print||""}),I.jsx("td",{children:Number.isFinite(d.amount)?d.amount:d.amount||""}),I.jsx("td",{children:d.location||""}),I.jsx("td",{children:d.set||""})]},`${l.id}-${g}`)):I.jsxs("tr",{children:[h,I.jsx("td",{children:u.cardName||""}),I.jsx("td",{children:Number.isFinite(u.number)?u.number:u.number||""}),I.jsx("td",{children:u.print||""}),I.jsx("td",{children:Number.isFinite(u.amount)?u.amount:u.amount||""}),I.jsx("td",{children:u.location||""}),I.jsx("td",{children:u.set||""})]},l.id):Array.isArray(u.items)?u.items.map((d,g)=>I.jsxs("tr",{children:[h,I.jsx("td",{children:d.sealedName||""}),I.jsx("td",{children:Number.isFinite(d.amount)?d.amount:d.amount||""}),I.jsx("td",{children:d.location||""})]},`${l.id}-${g}`)):I.jsxs("tr",{children:[h,I.jsx("td",{children:u.sealedName||""}),I.jsx("td",{children:Number.isFinite(u.amount)?u.amount:u.amount||""}),I.jsx("td",{children:u.location||""})]},l.id)})})]})}),I.jsxs("div",{className:"small muted mono space-top",children:["Count: ",i.length]})]})}function cD(){const{signIn:n,signUp:e,user:t,signOut:i}=fv(),[r,s]=J.useState(""),[a,o]=J.useState(""),[l,c]=J.useState(!1),u=async()=>{if(!r||!a)return alert("Enter username and password");c(!0);try{await n(r,a),window.location.hash="#home"}catch(d){alert("Sign-in failed: "+(d&&d.message?d.message:String(d)))}finally{c(!1)}},h=async()=>{if(!r||!a)return alert("Enter username and password");c(!0);try{await e(r,a),window.location.hash="#home"}catch(d){alert("Sign-up failed: "+(d&&d.message?d.message:String(d)))}finally{c(!1)}};return I.jsx("div",{className:"card",children:t?I.jsxs("div",{className:"stack",children:[I.jsx("div",{className:"small mono",children:"Signed in"}),I.jsx("button",{className:"btn secondary",onClick:()=>i(),children:"Sign Out"})]}):I.jsxs(I.Fragment,{children:[I.jsxs("label",{className:"small",style:{display:"flex",flexDirection:"column",gap:6},children:[I.jsx("span",{children:"Username or Email"}),I.jsx("input",{value:r,onChange:d=>s(d.target.value),placeholder:"yourname or you@example.com",style:{padding:8,border:"1px solid #E2E8F0",borderRadius:8}})]}),I.jsxs("label",{className:"small space-top",style:{display:"flex",flexDirection:"column",gap:6},children:[I.jsx("span",{children:"Password"}),I.jsx("input",{type:"password",value:a,onChange:d=>o(d.target.value),placeholder:"",style:{padding:8,border:"1px solid #E2E8F0",borderRadius:8}})]}),I.jsxs("div",{className:"stack space-top",children:[I.jsx("button",{className:"btn",onClick:u,disabled:l,children:"Sign In"}),I.jsx("button",{className:"btn ghost",onClick:h,disabled:l,children:"Create Account"})]}),I.jsx("div",{className:"small space-top muted",children:"Use the same username/password for either action."})]})})}function uD(){const[n,e]=J.useState(()=>window.location.hash||"#home"),{user:t}=fv();J.useEffect(()=>{const r=()=>e(window.location.hash||"#home");return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const i=J.useMemo(()=>{switch((n||"").toLowerCase()){case"#statistics":return"statistics";case"#database":return"database";case"#logs":return"logs";case"#signin":return"signin";default:return"home"}},[n]);return I.jsxs("div",{className:"app",children:[I.jsxs("aside",{className:"sidebar",children:[I.jsx("div",{className:"brand",children:"Pokemon Collection"}),I.jsxs("nav",{className:"nav",children:[I.jsx("a",{href:"#home",className:i==="home"?"active":"",id:"nav-home",children:"Home"}),I.jsx("a",{href:"#statistics",className:i==="statistics"?"active":"",id:"nav-statistics",children:"Statistics"}),I.jsx("a",{href:"#database",className:i==="database"?"active":"",id:"nav-database",children:"Database"}),I.jsx("a",{href:"#logs",className:i==="logs"?"active":"",id:"nav-logs",children:"Logs"}),I.jsx("a",{href:"#signin",className:i==="signin"?"active":"",id:"nav-signin",children:"Sign In"})]}),I.jsx("div",{className:"divider"}),I.jsx("div",{className:"small mono",id:"sdkStatus",children:t?"Signed in":"Signed out"}),I.jsx("div",{className:"divider"}),I.jsx("div",{className:"stack",children:I.jsx("a",{className:"btn secondary",href:"#signin",id:"signOut",children:"Account"})}),I.jsx("div",{className:"small mono",id:"authStatus",children:t?"Authenticated":"Guest"})]}),I.jsxs("main",{className:"content",children:[i==="home"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Home"}),I.jsx(oT,{})]}),i==="statistics"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Statistics"}),I.jsx(NL,{})]}),i==="database"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Database"}),I.jsx(aD,{})]}),i==="logs"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Logs"}),I.jsx(lD,{})]}),i==="signin"&&I.jsxs("section",{children:[I.jsx("h2",{className:"section-title",children:"Sign In"}),I.jsx(cD,{})]})]})]})}const hD=document.getElementById("root"),dD=L1(hD);dD.render(I.jsx(P0.StrictMode,{children:I.jsx(GO,{children:I.jsx(uD,{})})}));
